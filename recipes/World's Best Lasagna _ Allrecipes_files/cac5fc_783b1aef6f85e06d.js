!function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=21)}([function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=e||window;t.spongecell=t.spongecell||{};var n=t.spongecell;r.default=n}).call(this,t(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r,f=(r=n(0))&&r.__esModule?r:{default:r};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.iid=e,this.options=t,this.impTag=n,this._init()}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(r,[{key:"_init",value:function(){}},{key:"start",value:function(){}},{key:"send",value:function(e){f.default.Console.log("BaseChannel received %o",e)}},{key:"findClickTags",value:function(n){var r={};return Object.keys(n||{}).forEach(function(e){var t=n[e];0===e.indexOf("clickTag")&&(f.default.Net.isHttp(t)||f.default.Net.isHttpEncoded(t)?f.default.Net.isHttpEncoded(t)&&(t=decodeURIComponent(t)):t="",r[e]=t)}),r}},{key:"mergeClickTagsAndLandingPages",value:function(o,a,e){var s,u=this,t=2<arguments.length&&void 0!==e&&e,l={},c=o.clickTag;return Object.keys(a||{}).forEach(function(e){var t,n;s=a[e]||"";var r=o["clickTag".concat(e)]||c||"";s=u.appendLandingPageParams(s);var i=r&&(null===(t=s)||void 0===t?void 0:null===(n=t.indexOf)||void 0===n?void 0:n.call(t,r))<0?r+s:s;i=f.default.Macros.get().replace(i),Object.keys(u.impTag.params||{}).forEach(function(e){var t=u.impTag.params[e];i=i.replace("%".concat(e,"%"),t)}),l[e]=i}),t||Object.keys(o||{}).forEach(function(e){s=o[e];var t=e.replace("clickTag","");null==l[t]&&(l[t]=s)}),l}},{key:"appendLandingPageParams",value:function(e){var t=this.impTag.landingPageParams||"";return e&&e.substr(-t.length)!==t&&(e=f.default.Net.appendQueryParamsToUrl(e,t)),e}},{key:"_sortItemsByMetadata",value:function(t){if(t){var e=t.metadata||{},n=t.items||[];if(0!==Object.keys(e).length){var r={};Object.keys(t.metadata||{}).forEach(function(e){var n=t.metadata[e];Object.keys(n||{}).forEach(function(e){var t=n[e];parseInt(e,10)===+e&&(r[e]=parseInt(t,10))})}),n.sort(function(e,t){return e=r[e.id]||0,(t=r[t.id]||0)<e?-1:e<t?1:0}),t.items=n}}}}]),r}();f.default.BaseChannel=o},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=["extended","included"],s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,null,[{key:"extend",value:function(n){var e,r=this;return Object.keys(n).forEach(function(e){var t=n[e];-1!==a.indexOf(e)||r[e]||(r[e]=t)}),null===(e=n.extended)||void 0===e||e.apply(this),this}},{key:"include",value:function(n){var e,r=this;return Object.keys(n).forEach(function(e){var t=n[e];-1!==a.indexOf(e)||r.prototype[e]||(r.prototype[e]=t)}),null===(e=n.included)||void 0===e||e.apply(this),this}}]),e}();i.default.Module=s},function(e,W,V){(function(U,H){var N;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var ra,ia="Expected a function",oa="__lodash_hash_undefined__",aa="__lodash_placeholder__",sa=128,ua=9007199254740991,la=NaN,ca=4294967295,fa=[["ary",sa],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],da="[object Arguments]",ha="[object Array]",pa="[object Boolean]",va="[object Date]",ma="[object Error]",ga="[object Function]",ya="[object GeneratorFunction]",ba="[object Map]",wa="[object Number]",_a="[object Object]",ka="[object Promise]",xa="[object RegExp]",Sa="[object Set]",ja="[object String]",Ea="[object Symbol]",Oa="[object WeakMap]",Ta="[object ArrayBuffer]",Ca="[object DataView]",Pa="[object Float32Array]",Ia="[object Float64Array]",Aa="[object Int8Array]",Ma="[object Int16Array]",Ra="[object Int32Array]",Da="[object Uint8Array]",La="[object Uint8ClampedArray]",Fa="[object Uint16Array]",$a="[object Uint32Array]",Ba=/\b__p \+= '';/g,za=/\b(__p \+=) '' \+/g,Ua=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ha=/&(?:amp|lt|gt|quot|#39);/g,Na=/[&<>"']/g,Wa=RegExp(Ha.source),Va=RegExp(Na.source),Ya=/<%-([\s\S]+?)%>/g,qa=/<%([\s\S]+?)%>/g,Za=/<%=([\s\S]+?)%>/g,Xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ga=/^\w*$/,Ka=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ja=/[\\^$.*+?()[\]{}|]/g,Qa=RegExp(Ja.source),es=/^\s+|\s+$/g,ts=/^\s+/,ns=/\s+$/,rs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,is=/\{\n\/\* \[wrapped with (.+)\] \*/,os=/,? & /,as=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ss=/\\(\\)?/g,us=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ls=/\w*$/,cs=/^[-+]0x[0-9a-f]+$/i,fs=/^0b[01]+$/i,ds=/^\[object .+?Constructor\]$/,hs=/^0o[0-7]+$/i,ps=/^(?:0|[1-9]\d*)$/,vs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ms=/($^)/,gs=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="['’]",u="["+e+"]",l="["+a+"]",c="["+t+"]",f="\\d+",d="["+n+"]",h="["+r+"]",p="[^"+e+a+f+n+r+i+"]",v="\\ud83c[\\udffb-\\udfff]",m="[^"+e+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+i+"]",w="\\u200d",_="(?:"+h+"|"+p+")",k="(?:"+b+"|"+p+")",x="(?:['’](?:d|ll|m|re|s|t|ve))?",S="(?:['’](?:D|LL|M|RE|S|T|VE))?",j="(?:"+c+"|"+v+")"+"?",E="["+o+"]?",O=E+j+("(?:"+w+"(?:"+[m,g,y].join("|")+")"+E+j+")*"),T="(?:"+[d,g,y].join("|")+")"+O,C="(?:"+[m+c+"?",c,g,y,u].join("|")+")",ys=RegExp(s,"g"),bs=RegExp(c,"g"),P=RegExp(v+"(?="+v+")|"+C+O,"g"),ws=RegExp([b+"?"+h+"+"+x+"(?="+[l,b,"$"].join("|")+")",k+"+"+S+"(?="+[l,b+_,"$"].join("|")+")",b+"?"+_+"+"+x,b+"+"+S,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",f,T].join("|"),"g"),I=RegExp("["+w+e+t+o+"]"),_s=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ks=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xs=-1,Ss={};Ss[Pa]=Ss[Ia]=Ss[Aa]=Ss[Ma]=Ss[Ra]=Ss[Da]=Ss[La]=Ss[Fa]=Ss[$a]=!0,Ss[da]=Ss[ha]=Ss[Ta]=Ss[pa]=Ss[Ca]=Ss[va]=Ss[ma]=Ss[ga]=Ss[ba]=Ss[wa]=Ss[_a]=Ss[xa]=Ss[Sa]=Ss[ja]=Ss[Oa]=!1;var js={};js[da]=js[ha]=js[Ta]=js[Ca]=js[pa]=js[va]=js[Pa]=js[Ia]=js[Aa]=js[Ma]=js[Ra]=js[ba]=js[wa]=js[_a]=js[xa]=js[Sa]=js[ja]=js[Ea]=js[Da]=js[La]=js[Fa]=js[$a]=!0,js[ma]=js[ga]=js[Oa]=!1;var A={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Es=parseFloat,Os=parseInt,M="object"==typeof U&&U&&U.Object===Object&&U,R="object"==typeof self&&self&&self.Object===Object&&self,Ts=M||R||Function("return this")(),D=W&&!W.nodeType&&W,L=D&&"object"==typeof H&&H&&!H.nodeType&&H,Cs=L&&L.exports===D,F=Cs&&M.process,$=function(){try{var e=L&&L.require&&L.require("util").types;return e||F&&F.binding&&F.binding("util")}catch(e){}}(),Ps=$&&$.isArrayBuffer,Is=$&&$.isDate,As=$&&$.isMap,Ms=$&&$.isRegExp,Rs=$&&$.isSet,Ds=$&&$.isTypedArray;function Ls(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Fs(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function $s(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Bs(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function zs(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Us(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Hs(e,t){return!!(null==e?0:e.length)&&-1<Ks(e,t,0)}function Ns(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ws(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Vs(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ys(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function qs(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Zs(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var B=tu("length");function Xs(e,r,t){var i;return t(e,function(e,t,n){if(r(e,t,n))return i=t,!1}),i}function Gs(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ks(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Gs(e,Qs,n)}function Js(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Qs(e){return e!=e}function eu(e,t){var n=null==e?0:e.length;return n?ru(e,t)/n:la}function tu(t){return function(e){return null==e?ra:e[t]}}function z(t){return function(e){return null==t?ra:t[e]}}function nu(e,r,i,o,t){return t(e,function(e,t,n){i=o?(o=!1,e):r(i,e,t,n)}),i}function ru(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ra&&(n=n===ra?o:n+o)}return n}function iu(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function ou(t){return function(e){return t(e)}}function au(t,e){return Ws(e,function(e){return t[e]})}function su(e,t){return e.has(t)}function uu(e,t){for(var n=-1,r=e.length;++n<r&&-1<Ks(t,e[n],0););return n}function lu(e,t){for(var n=e.length;n--&&-1<Ks(t,e[n],0););return n}var cu=z({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),fu=z({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function du(e){return"\\"+A[e]}function hu(e){return I.test(e)}function pu(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function vu(t,n){return function(e){return t(n(e))}}function mu(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==aa||(e[n]=aa,o[i++]=n)}return o}function gu(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function yu(e){return hu(e)?function(e){var t=P.lastIndex=0;for(;P.test(e);)++t;return t}(e):B(e)}function bu(e){return hu(e)?function(e){return e.match(P)||[]}(e):function(e){return e.split("")}(e)}var wu=z({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _u=function e(t){var n,j=(t=null==t?Ts:_u.defaults(Ts.Object(),t,_u.pick(Ts,ks))).Array,r=t.Date,i=t.Error,m=t.Function,o=t.Math,v=t.Object,g=t.RegExp,c=t.String,y=t.TypeError,a=j.prototype,s=m.prototype,f=v.prototype,u=t["__core-js_shared__"],l=s.toString,w=f.hasOwnProperty,d=0,h=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",p=f.toString,b=l.call(v),_=Ts._,k=g("^"+l.call(w).replace(Ja,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=Cs?t.Buffer:ra,S=t.Symbol,E=t.Uint8Array,O=x?x.allocUnsafe:ra,T=vu(v.getPrototypeOf,v),C=v.create,P=f.propertyIsEnumerable,I=a.splice,A=S?S.isConcatSpreadable:ra,M=S?S.iterator:ra,R=S?S.toStringTag:ra,D=function(){try{var e=Un(v,"defineProperty");return e({},"",{}),e}catch(e){}}(),L=t.clearTimeout!==Ts.clearTimeout&&t.clearTimeout,F=r&&r.now!==Ts.Date.now&&r.now,$=t.setTimeout!==Ts.setTimeout&&t.setTimeout,B=o.ceil,z=o.floor,U=v.getOwnPropertySymbols,H=x?x.isBuffer:ra,N=t.isFinite,W=a.join,V=vu(v.keys,v),Y=o.max,q=o.min,Z=r.now,X=t.parseInt,G=o.random,K=a.reverse,J=Un(t,"DataView"),Q=Un(t,"Map"),ee=Un(t,"Promise"),te=Un(t,"Set"),ne=Un(t,"WeakMap"),re=Un(v,"create"),ie=ne&&new ne,oe={},ae=vr(J),se=vr(Q),ue=vr(ee),le=vr(te),ce=vr(ne),fe=S?S.prototype:ra,de=fe?fe.valueOf:ra,he=fe?fe.toString:ra;function pe(e){if(Ai(e)&&!_i(e)&&!(e instanceof be)){if(e instanceof ye)return e;if(w.call(e,"__wrapped__"))return mr(e)}return new ye(e)}var ve=function(e){if(!Ii(e))return{};if(C)return C(e);me.prototype=e;var t=new me;return me.prototype=ra,t};function me(){}function ge(){}function ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ra}function be(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ca,this.__views__=[]}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ke;++t<n;)this.add(e[t])}function Se(e){var t=this.__data__=new _e(e);this.size=t.size}function je(e,t){var n=_i(e),r=!n&&wi(e),i=!n&&!r&&ji(e),o=!n&&!r&&!i&&zi(e),a=n||r||i||o,s=a?iu(e.length,c):[],u=s.length;for(var l in e)!t&&!w.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Zn(l,u))||s.push(l);return s}function Ee(e){var t=e.length;return t?e[xt(0,t-1)]:ra}function Oe(e,t){return cr(on(e),Le(t,0,e.length))}function Te(e){return cr(on(e))}function Ce(e,t,n){(n===ra||gi(e[t],n))&&(n!==ra||t in e)||Re(e,t,n)}function Pe(e,t,n){var r=e[t];w.call(e,t)&&gi(r,n)&&(n!==ra||t in e)||Re(e,t,n)}function Ie(e,t){for(var n=e.length;n--;)if(gi(e[n][0],t))return n;return-1}function Ae(e,r,i,o){return Ue(e,function(e,t,n){r(o,e,i(e),n)}),o}function Me(e,t){return e&&an(t,uo(t),e)}function Re(e,t,n){"__proto__"==t&&D?D(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function De(e,t){for(var n=-1,r=t.length,i=j(r),o=null==e;++n<r;)i[n]=o?ra:ro(e,t[n]);return i}function Le(e,t,n){return e==e&&(n!==ra&&(e=e<=n?e:n),t!==ra&&(e=t<=e?e:t)),e}function Fe(n,r,i,e,t,o){var a,s=1&r,u=2&r,l=4&r;if(i&&(a=t?i(n,e,t,o):i(n)),a!==ra)return a;if(!Ii(n))return n;var c=_i(n);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&w.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!s)return on(n,a)}else{var f=Wn(n),d=f==ga||f==ya;if(ji(n))return Jt(n,s);if(f==_a||f==da||d&&!t){if(a=u||d?{}:Yn(n),!s)return u?function(e,t){return an(e,Nn(e),t)}(n,function(e,t){return e&&an(t,lo(t),e)}(a,n)):function(e,t){return an(e,Hn(e),t)}(n,Me(a,n))}else{if(!js[f])return t?n:{};a=function(e,t,n){var r=e.constructor;switch(t){case Ta:return Qt(e);case pa:case va:return new r(+e);case Ca:return function(e,t){var n=t?Qt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Pa:case Ia:case Aa:case Ma:case Ra:case Da:case La:case Fa:case $a:return en(e,n);case ba:return new r;case wa:case ja:return new r(e);case xa:return function(e){var t=new e.constructor(e.source,ls.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Sa:return new r;case Ea:return function(e){return de?v(de.call(e)):{}}(e)}}(n,f,s)}}var h=(o=o||new Se).get(n);if(h)return h;if(o.set(n,a),Fi(n))return n.forEach(function(e){a.add(Fe(e,r,i,e,n,o))}),a;if(Mi(n))return n.forEach(function(e,t){a.set(t,Fe(e,r,i,t,n,o))}),a;var p=c?ra:(l?u?Rn:Mn:u?lo:uo)(n);return $s(p||n,function(e,t){p&&(e=n[t=e]),Pe(a,t,Fe(e,r,i,t,n,o))}),a}function $e(e,t,n){var r=n.length;if(null==e)return!r;for(e=v(e);r--;){var i=n[r],o=t[i],a=e[i];if(a===ra&&!(i in e)||!o(a))return!1}return!0}function Be(e,t,n){if("function"!=typeof e)throw new y(ia);return ar(function(){e.apply(ra,n)},t)}function ze(e,t,n,r){var i=-1,o=Hs,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Ws(t,ou(n))),r?(o=Ns,a=!1):200<=t.length&&(o=su,a=!1,t=new xe(t));e:for(;++i<s;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var d=l;d--;)if(t[d]===f)continue e;u.push(c)}else o(t,f,r)||u.push(c)}return u}pe.templateSettings={escape:Ya,evaluate:qa,interpolate:Za,variable:"",imports:{_:pe}},(pe.prototype=ge.prototype).constructor=pe,(ye.prototype=ve(ge.prototype)).constructor=ye,(be.prototype=ve(ge.prototype)).constructor=be,we.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(re){var n=t[e];return n===oa?ra:n}return w.call(t,e)?t[e]:ra},we.prototype.has=function(e){var t=this.__data__;return re?t[e]!==ra:w.call(t,e)},we.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=re&&t===ra?oa:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():I.call(t,n,1),--this.size,!0)},_e.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?ra:t[n][1]},_e.prototype.has=function(e){return-1<Ie(this.__data__,e)},_e.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(Q||_e),string:new we}},ke.prototype.delete=function(e){var t=Bn(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return Bn(this,e).get(e)},ke.prototype.has=function(e){return Bn(this,e).has(e)},ke.prototype.set=function(e,t){var n=Bn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,oa),this},xe.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new _e,this.size=0},Se.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var r=n.__data__;if(!Q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ke(r)}return n.set(e,t),this.size=n.size,this};var Ue=ln(Xe),He=ln(Ge,!0);function Ne(e,r){var i=!0;return Ue(e,function(e,t,n){return i=!!r(e,t,n)}),i}function We(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===ra?a==a&&!Bi(a):n(a,s)))var s=a,u=o}return u}function Ve(e,r){var i=[];return Ue(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function Ye(e,t,n,r,i){var o=-1,a=e.length;for(n=n||qn,i=i||[];++o<a;){var s=e[o];0<t&&n(s)?1<t?Ye(s,t-1,n,r,i):Vs(i,s):r||(i[i.length]=s)}return i}var qe=cn(),Ze=cn(!0);function Xe(e,t){return e&&qe(e,t,uo)}function Ge(e,t){return e&&Ze(e,t,uo)}function Ke(t,e){return Us(e,function(e){return Ti(t[e])})}function Je(e,t){for(var n=0,r=(t=Zt(t,e)).length;null!=e&&n<r;)e=e[pr(t[n++])];return n&&n==r?e:ra}function Qe(e,t,n){var r=t(e);return _i(e)?r:Vs(r,n(e))}function et(e){return null==e?e===ra?"[object Undefined]":"[object Null]":R&&R in v(e)?function(e){var t=w.call(e,R),n=e[R];try{e[R]=ra;var r=!0}catch(e){}var i=p.call(e);r&&(t?e[R]=n:delete e[R]);return i}(e):function(e){return p.call(e)}(e)}function tt(e,t){return t<e}function nt(e,t){return null!=e&&w.call(e,t)}function rt(e,t){return null!=e&&t in v(e)}function it(e,t,n){for(var r=n?Ns:Hs,i=e[0].length,o=e.length,a=o,s=j(o),u=1/0,l=[];a--;){var c=e[a];a&&t&&(c=Ws(c,ou(t))),u=q(c.length,u),s[a]=!n&&(t||120<=i&&120<=c.length)?new xe(a&&c):ra}c=e[0];var f=-1,d=s[0];e:for(;++f<i&&l.length<u;){var h=c[f],p=t?t(h):h;if(h=n||0!==h?h:0,!(d?su(d,p):r(l,p,n))){for(a=o;--a;){var v=s[a];if(!(v?su(v,p):r(e[a],p,n)))continue e}d&&d.push(p),l.push(h)}}return l}function ot(e,t,n){var r=null==(e=rr(e,t=Zt(t,e)))?e:e[pr(Or(t))];return null==r?ra:Ls(r,e,n)}function at(e){return Ai(e)&&et(e)==da}function st(e,t,n,r,i){return e===t||(null==e||null==t||!Ai(e)&&!Ai(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=_i(e),s=_i(t),u=a?ha:Wn(e),l=s?ha:Wn(t),c=(u=u==da?_a:u)==_a,f=(l=l==da?_a:l)==_a,d=u==l;if(d&&ji(e)){if(!ji(t))return!1;c=!(a=!0)}if(d&&!c)return o=o||new Se,a||zi(e)?In(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case Ca:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ta:return!(e.byteLength!=t.byteLength||!o(new E(e),new E(t)));case pa:case va:case wa:return gi(+e,+t);case ma:return e.name==t.name&&e.message==t.message;case xa:case ja:return e==t+"";case ba:var s=pu;case Sa:var u=1&r;if(s=s||gu,e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=In(s(e),s(t),r,i,o,a);return a.delete(e),c;case Ea:if(de)return de.call(e)==de.call(t)}return!1}(e,t,u,n,r,i,o);if(!(1&n)){var h=c&&w.call(e,"__wrapped__"),p=f&&w.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,m=p?t.value():t;return o=o||new Se,i(v,m,n,r,o)}}return d&&(o=o||new Se,function(e,t,n,r,i,o){var a=1&n,s=Mn(e),u=s.length,l=Mn(t).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var f=s[c];if(!(a?f in t:w.call(t,f)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);var p=a;for(;++c<u;){f=s[c];var v=e[f],m=t[f];if(r)var g=a?r(m,v,f,t,e,o):r(v,m,f,e,t,o);if(!(g===ra?v===m||i(v,m,n,r,o):g)){h=!1;break}p=p||"constructor"==f}if(h&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o))}(e,t,n,r,st,i))}function ut(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=v(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(l===ra&&!(u in e))return!1}else{var f=new Se;if(r)var d=r(l,c,u,e,t,f);if(!(d===ra?st(c,l,3,r,f):d))return!1}}return!0}function lt(e){return!(!Ii(e)||function(e){return!!h&&h in e}(e))&&(Ti(e)?k:ds).test(vr(e))}function ct(e){return"function"==typeof e?e:null==e?Do:"object"==typeof e?_i(e)?mt(e[0],e[1]):vt(e):Wo(e)}function ft(e){if(!Qn(e))return V(e);var t=[];for(var n in v(e))w.call(e,n)&&"constructor"!=n&&t.push(n);return t}function dt(e){if(!Ii(e))return function(e){var t=[];if(null!=e)for(var n in v(e))t.push(n);return t}(e);var t=Qn(e),n=[];for(var r in e)("constructor"!=r||!t&&w.call(e,r))&&n.push(r);return n}function ht(e,t){return e<t}function pt(e,r){var i=-1,o=xi(e)?j(e.length):[];return Ue(e,function(e,t,n){o[++i]=r(e,t,n)}),o}function vt(t){var n=zn(t);return 1==n.length&&n[0][2]?tr(n[0][0],n[0][1]):function(e){return e===t||ut(e,t,n)}}function mt(n,r){return Gn(n)&&er(r)?tr(pr(n),r):function(e){var t=ro(e,n);return t===ra&&t===r?io(e,n):st(r,t,3)}}function gt(r,i,o,a,s){r!==i&&qe(i,function(e,t){if(Ii(e))s=s||new Se,function(e,t,n,r,i,o,a){var s=ir(e,n),u=ir(t,n),l=a.get(u);if(l)return Ce(e,n,l);var c=o?o(s,u,n+"",e,t,a):ra,f=c===ra;if(f){var d=_i(u),h=!d&&ji(u),p=!d&&!h&&zi(u);c=u,d||h||p?c=_i(s)?s:Si(s)?on(s):h?Jt(u,!(f=!1)):p?en(u,!(f=!1)):[]:Di(u)||wi(u)?wi(c=s)?c=Zi(s):Ii(s)&&!Ti(s)||(c=Yn(u)):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u));Ce(e,n,c)}(r,i,t,o,gt,a,s);else{var n=a?a(ir(r,t),e,t+"",r,i,s):ra;n===ra&&(n=e),Ce(r,t,n)}},lo)}function yt(e,t){var n=e.length;if(n)return Zn(t+=t<0?n:0,n)?e[t]:ra}function bt(e,r,n){var i=-1;return r=Ws(r.length?r:[Do],ou($n())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(pt(e,function(t,e,n){return{criteria:Ws(r,function(e){return e(t)}),index:++i,value:t}}),function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=tn(i[r],o[r]);if(u){if(s<=r)return u;var l=n[r];return u*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)})}function wt(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Je(e,a);n(s,a)&&Tt(o,Zt(a,e),s)}return o}function _t(e,t,n,r){var i=r?Js:Ks,o=-1,a=t.length,s=e;for(e===t&&(t=on(t)),n&&(s=Ws(e,ou(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;-1<(u=i(s,c,u,r));)s!==e&&I.call(s,u,1),I.call(e,u,1);return e}function kt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Zn(i)?I.call(e,i,1):zt(e,i)}}return e}function xt(e,t){return e+z(G()*(t-e+1))}function St(e,t){var n="";if(!e||t<1||ua<t)return n;for(;t%2&&(n+=e),(t=z(t/2))&&(e+=e),t;);return n}function jt(e,t){return sr(nr(e,t,Do),e+"")}function Et(e){return Ee(yo(e))}function Ot(e,t){var n=yo(e);return cr(n,Le(t,0,n.length))}function Tt(e,t,n,r){if(!Ii(e))return e;for(var i=-1,o=(t=Zt(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=pr(t[i]),l=n;if(i!=a){var c=s[u];(l=r?r(c,u,s):ra)===ra&&(l=Ii(c)?c:Zn(t[i+1])?[]:{})}Pe(s,u,l),s=s[u]}return e}var Ct=ie?function(e,t){return ie.set(e,t),e}:Do,Pt=D?function(e,t){return D(e,"toString",{configurable:!0,enumerable:!1,value:Ao(t),writable:!0})}:Do;function It(e){return cr(yo(e))}function At(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var o=j(i);++r<i;)o[r]=e[r+t];return o}function Mt(e,r){var i;return Ue(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}function Rt(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Bi(a)&&(n?a<=t:a<t)?r=1+o:i=o}return i}return Dt(e,t,Do,n)}function Dt(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,u=Bi(t),l=t===ra;i<o;){var c=z((i+o)/2),f=n(e[c]),d=f!==ra,h=null===f,p=f==f,v=Bi(f);if(a)var m=r||p;else m=l?p&&(r||d):s?p&&d&&(r||!h):u?p&&d&&!h&&(r||!v):!h&&!v&&(r?f<=t:f<t);m?i=c+1:o=c}return q(o,4294967294)}function Lt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!gi(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Ft(e){return"number"==typeof e?e:Bi(e)?la:+e}function $t(e){if("string"==typeof e)return e;if(_i(e))return Ws(e,$t)+"";if(Bi(e))return he?he.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bt(e,t,n){var r=-1,i=Hs,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Ns;else if(200<=o){var l=t?null:jn(e);if(l)return gu(l);a=!1,i=su,u=new xe}else u=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function zt(e,t){return null==(e=rr(e,t=Zt(t,e)))||delete e[pr(Or(t))]}function Ut(e,t,n,r){return Tt(e,t,n(Je(e,t)),r)}function Ht(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?At(e,r?0:o,r?o+1:i):At(e,r?o+1:0,r?i:o)}function Nt(e,t){var n=e;return n instanceof be&&(n=n.value()),Ys(t,function(e,t){return t.func.apply(t.thisArg,Vs([e],t.args))},n)}function Wt(e,t,n){var r=e.length;if(r<2)return r?Bt(e[0]):[];for(var i=-1,o=j(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=ze(o[i]||a,e[s],t,n));return Bt(Ye(o,1),t,n)}function Vt(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:ra;n(a,e[r],s)}return a}function Yt(e){return Si(e)?e:[]}function qt(e){return"function"==typeof e?e:Do}function Zt(e,t){return _i(e)?e:Gn(e,t)?[e]:hr(Xi(e))}var Xt=jt;function Gt(e,t,n){var r=e.length;return n=n===ra?r:n,!t&&r<=n?e:At(e,t,n)}var Kt=L||function(e){return Ts.clearTimeout(e)};function Jt(e,t){if(t)return e.slice();var n=e.length,r=O?O(n):new e.constructor(n);return e.copy(r),r}function Qt(e){var t=new e.constructor(e.byteLength);return new E(t).set(new E(e)),t}function en(e,t){var n=t?Qt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function tn(e,t){if(e!==t){var n=e!==ra,r=null===e,i=e==e,o=Bi(e),a=t!==ra,s=null===t,u=t==t,l=Bi(t);if(!s&&!l&&!o&&t<e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&e<t||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function nn(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,l=Y(o-a,0),c=j(u+l),f=!r;++s<u;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=e[i]);for(;l--;)c[s++]=e[i++];return c}function rn(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,l=t.length,c=Y(o-s,0),f=j(c+l),d=!r;++i<c;)f[i]=e[i];for(var h=i;++u<l;)f[h+u]=t[u];for(;++a<s;)(d||i<o)&&(f[h+n[a]]=e[i++]);return f}function on(e,t){var n=-1,r=e.length;for(t=t||j(r);++n<r;)t[n]=e[n];return t}function an(e,t,n,r){var i=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):ra;u===ra&&(u=e[s]),i?Re(n,s,u):Pe(n,s,u)}return n}function sn(i,o){return function(e,t){var n=_i(e)?Fs:Ae,r=o?o():{};return n(e,i,$n(t,2),r)}}function un(s){return jt(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:ra,o=2<r?t[2]:ra;for(i=3<s.length&&"function"==typeof i?(r--,i):ra,o&&Xn(t[0],t[1],o)&&(i=r<3?ra:i,r=1),e=v(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e})}function ln(o,a){return function(e,t){if(null==e)return e;if(!xi(e))return o(e,t);for(var n=e.length,r=a?n:-1,i=v(e);(a?r--:++r<n)&&!1!==t(i[r],r,i););return e}}function cn(u){return function(e,t,n){for(var r=-1,i=v(e),o=n(e),a=o.length;a--;){var s=o[u?a:++r];if(!1===t(i[s],s,i))break}return e}}function fn(i){return function(e){var t=hu(e=Xi(e))?bu(e):ra,n=t?t[0]:e.charAt(0),r=t?Gt(t,1).join(""):e.slice(1);return n[i]()+r}}function dn(t){return function(e){return Ys(Co(_o(e).replace(ys,"")),t,"")}}function hn(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ve(r.prototype),n=r.apply(t,e);return Ii(n)?n:t}}function pn(a){return function(e,t,n){var r=v(e);if(!xi(e)){var i=$n(t,3);e=uo(e),t=function(e){return i(r[e],e,r)}}var o=a(e,t,n);return-1<o?r[i?e[o]:o]:ra}}function vn(u){return An(function(i){var o=i.length,e=o,t=ye.prototype.thru;for(u&&i.reverse();e--;){var n=i[e];if("function"!=typeof n)throw new y(ia);if(t&&!a&&"wrapper"==Ln(n))var a=new ye([],!0)}for(e=a?e:o;++e<o;){var r=Ln(n=i[e]),s="wrapper"==r?Dn(n):ra;a=s&&Kn(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Ln(s[0])].apply(a,s[3]):1==n.length&&Kn(n)?a[r]():a.thru(n)}return function(){var e=arguments,t=e[0];if(a&&1==e.length&&_i(t))return a.plant(t).value();for(var n=0,r=o?i[n].apply(this,e):t;++n<o;)r=i[n].call(this,r);return r}})}function mn(l,c,f,d,h,p,v,m,g,y){var b=c&sa,w=1&c,_=2&c,k=24&c,x=512&c,S=_?ra:hn(l);return function e(){for(var t=arguments.length,n=j(t),r=t;r--;)n[r]=arguments[r];if(k)var i=Fn(e),o=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(n,i);if(d&&(n=nn(n,d,h,k)),p&&(n=rn(n,p,v,k)),t-=o,k&&t<y){var a=mu(n,i);return xn(l,c,mn,e.placeholder,f,n,a,m,g,y-t)}var s=w?f:this,u=_?s[l]:l;return t=n.length,m?n=function(e,t){for(var n=e.length,r=q(t.length,n),i=on(e);r--;){var o=t[r];e[r]=Zn(o,n)?i[o]:ra}return e}(n,m):x&&1<t&&n.reverse(),b&&g<t&&(n.length=g),this&&this!==Ts&&this instanceof e&&(u=S||hn(u)),u.apply(s,n)}}function gn(n,r){return function(e,t){return function(e,r,i,o){return Xe(e,function(e,t,n){r(o,i(e),t,n)}),o}(e,n,r(t),{})}}function yn(r,i){return function(e,t){var n;if(e===ra&&t===ra)return i;if(e!==ra&&(n=e),t!==ra){if(n===ra)return t;t="string"==typeof e||"string"==typeof t?(e=$t(e),$t(t)):(e=Ft(e),Ft(t)),n=r(e,t)}return n}}function bn(r){return An(function(e){return e=Ws(e,ou($n())),jt(function(t){var n=this;return r(e,function(e){return Ls(e,n,t)})})})}function wn(e,t){var n=(t=t===ra?" ":$t(t)).length;if(n<2)return n?St(t,e):t;var r=St(t,B(e/yu(t)));return hu(t)?Gt(bu(r),0,e).join(""):r.slice(0,e)}function _n(r){return function(e,t,n){return n&&"number"!=typeof n&&Xn(e,t,n)&&(t=n=ra),e=Wi(e),t===ra?(t=e,e=0):t=Wi(t),function(e,t,n,r){for(var i=-1,o=Y(B((t-e)/(n||1)),0),a=j(o);o--;)a[r?o:++i]=e,e+=n;return a}(e,t,n=n===ra?e<t?1:-1:Wi(n),r)}}function kn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=qi(e),t=qi(t)),n(e,t)}}function xn(e,t,n,r,i,o,a,s,u,l){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var f=[e,t,i,c?o:ra,c?a:ra,c?ra:o,c?ra:a,s,u,l],d=n.apply(ra,f);return Kn(e)&&or(d,f),d.placeholder=r,ur(d,e,t)}function Sn(e){var r=o[e];return function(e,t){if(e=qi(e),t=null==t?0:q(Vi(t),292)){var n=(Xi(e)+"e").split("e");return+((n=(Xi(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return r(e)}}var jn=te&&1/gu(new te([,-0]))[1]==1/0?function(e){return new te(e)}:zo;function En(n){return function(e){var t=Wn(e);return t==ba?pu(e):t==Sa?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(e):function(t,e){return Ws(e,function(e){return[e,t[e]]})}(e,n(e))}}function On(e,t,n,r,i,o,a,s){var u=2&t;if(!u&&"function"!=typeof e)throw new y(ia);var l=r?r.length:0;if(l||(t&=-97,r=i=ra),a=a===ra?a:Y(Vi(a),0),s=s===ra?s:Vi(s),l-=i?i.length:0,64&t){var c=r,f=i;r=i=ra}var d=u?ra:Dn(e),h=[e,t,n,r,i,c,f,o,a,s];if(d&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==sa&&8==n||r==sa&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?nn(u,s,t[4]):s,e[4]=u?mu(e[3],aa):t[4]}(s=t[5])&&(u=e[5],e[5]=u?rn(u,s,t[6]):s,e[6]=u?mu(e[5],aa):t[6]);(s=t[7])&&(e[7]=s);r&sa&&(e[8]=null==e[8]?t[8]:q(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(h,d),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],!(s=h[9]=h[9]===ra?u?0:e.length:Y(h[9]-l,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?function(a,s,u){var l=hn(a);return function e(){for(var t=arguments.length,n=j(t),r=t,i=Fn(e);r--;)n[r]=arguments[r];var o=t<3&&n[0]!==i&&n[t-1]!==i?[]:mu(n,i);return(t-=o.length)<u?xn(a,s,mn,e.placeholder,ra,n,o,ra,ra,u-t):Ls(this&&this!==Ts&&this instanceof e?l:a,this,n)}}(e,t,s):32!=t&&33!=t||i.length?mn.apply(ra,h):function(s,e,u,l){var c=1&e,f=hn(s);return function e(){for(var t=-1,n=arguments.length,r=-1,i=l.length,o=j(i+n),a=this&&this!==Ts&&this instanceof e?f:s;++r<i;)o[r]=l[r];for(;n--;)o[r++]=arguments[++t];return Ls(a,c?u:this,o)}}(e,t,n,r);else var p=function(t,e,n){var r=1&e,i=hn(t);return function e(){return(this&&this!==Ts&&this instanceof e?i:t).apply(r?n:this,arguments)}}(e,t,n);return ur((d?Ct:or)(p,h),e,t)}function Tn(e,t,n,r){return e===ra||gi(e,f[n])&&!w.call(r,n)?t:e}function Cn(e,t,n,r,i,o){return Ii(e)&&Ii(t)&&(o.set(t,e),gt(e,t,ra,Cn,o),o.delete(t)),e}function Pn(e){return Di(e)?ra:e}function In(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&s<u))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var c=-1,f=!0,d=2&n?new xe:ra;for(o.set(e,t),o.set(t,e);++c<s;){var h=e[c],p=t[c];if(r)var v=a?r(p,h,c,t,e,o):r(h,p,c,e,t,o);if(v!==ra){if(v)continue;f=!1;break}if(d){if(!Zs(t,function(e,t){if(!su(d,t)&&(h===e||i(h,e,n,r,o)))return d.push(t)})){f=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function An(e){return sr(nr(e,ra,kr),e+"")}function Mn(e){return Qe(e,uo,Hn)}function Rn(e){return Qe(e,lo,Nn)}var Dn=ie?function(e){return ie.get(e)}:zo;function Ln(e){for(var t=e.name+"",n=oe[t],r=w.call(oe,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Fn(e){return(w.call(pe,"placeholder")?pe:e).placeholder}function $n(){var e=pe.iteratee||Lo;return e=e===Lo?ct:e,arguments.length?e(arguments[0],arguments[1]):e}function Bn(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function zn(e){for(var t=uo(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,er(i)]}return t}function Un(e,t){var n=function(e,t){return null==e?ra:e[t]}(e,t);return lt(n)?n:ra}var Hn=U?function(t){return null==t?[]:(t=v(t),Us(U(t),function(e){return P.call(t,e)}))}:qo,Nn=U?function(e){for(var t=[];e;)Vs(t,Hn(e)),e=T(e);return t}:qo,Wn=et;function Vn(e,t,n){for(var r=-1,i=(t=Zt(t,e)).length,o=!1;++r<i;){var a=pr(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Pi(i)&&Zn(a,i)&&(_i(e)||wi(e))}function Yn(e){return"function"!=typeof e.constructor||Qn(e)?{}:ve(T(e))}function qn(e){return _i(e)||wi(e)||!!(A&&e&&e[A])}function Zn(e,t){var n=typeof e;return!!(t=null==t?ua:t)&&("number"==n||"symbol"!=n&&ps.test(e))&&-1<e&&e%1==0&&e<t}function Xn(e,t,n){if(!Ii(n))return!1;var r=typeof t;return!!("number"==r?xi(n)&&Zn(t,n.length):"string"==r&&t in n)&&gi(n[t],e)}function Gn(e,t){if(_i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Bi(e))||(Ga.test(e)||!Xa.test(e)||null!=t&&e in v(t))}function Kn(e){var t=Ln(e),n=pe[t];if("function"!=typeof n||!(t in be.prototype))return!1;if(e===n)return!0;var r=Dn(n);return!!r&&e===r[0]}(J&&Wn(new J(new ArrayBuffer(1)))!=Ca||Q&&Wn(new Q)!=ba||ee&&Wn(ee.resolve())!=ka||te&&Wn(new te)!=Sa||ne&&Wn(new ne)!=Oa)&&(Wn=function(e){var t=et(e),n=t==_a?e.constructor:ra,r=n?vr(n):"";if(r)switch(r){case ae:return Ca;case se:return ba;case ue:return ka;case le:return Sa;case ce:return Oa}return t});var Jn=u?Ti:Zo;function Qn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||f)}function er(e){return e==e&&!Ii(e)}function tr(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==ra||t in v(e)))}}function nr(o,a,s){return a=Y(a===ra?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=Y(e.length-a,0),r=j(n);++t<n;)r[t]=e[a+t];t=-1;for(var i=j(a+1);++t<a;)i[t]=e[t];return i[a]=s(r),Ls(o,this,i)}}function rr(e,t){return t.length<2?e:Je(e,At(t,0,-1))}function ir(e,t){if("__proto__"!=t)return e[t]}var or=lr(Ct),ar=$||function(e,t){return Ts.setTimeout(e,t)},sr=lr(Pt);function ur(e,t,n){var r=t+"";return sr(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(rs,"{\n/* [wrapped with "+t+"] */\n")}(r,function(n,r){return $s(fa,function(e){var t="_."+e[0];r&e[1]&&!Hs(n,t)&&n.push(t)}),n.sort()}(function(e){var t=e.match(is);return t?t[1].split(os):[]}(r),n)))}function lr(n){var r=0,i=0;return function(){var e=Z(),t=16-(e-i);if(i=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(ra,arguments)}}function cr(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ra?r:t;++n<t;){var o=xt(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var fr,dr,hr=(dr=(fr=fi(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Ka,function(e,t,n,r){i.push(n?r.replace(ss,"$1"):t||e)}),i},function(e){return 500===dr.size&&dr.clear(),e})).cache,fr);function pr(e){if("string"==typeof e||Bi(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function vr(e){if(null!=e){try{return l.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function mr(e){if(e instanceof be)return e.clone();var t=new ye(e.__wrapped__,e.__chain__);return t.__actions__=on(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var gr=jt(function(e,t){return Si(e)?ze(e,Ye(t,1,Si,!0)):[]}),yr=jt(function(e,t){var n=Or(t);return Si(n)&&(n=ra),Si(e)?ze(e,Ye(t,1,Si,!0),$n(n,2)):[]}),br=jt(function(e,t){var n=Or(t);return Si(n)&&(n=ra),Si(e)?ze(e,Ye(t,1,Si,!0),ra,n):[]});function wr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vi(n);return i<0&&(i=Y(r+i,0)),Gs(e,$n(t,3),i)}function _r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ra&&(i=Vi(n),i=n<0?Y(r+i,0):q(i,r-1)),Gs(e,$n(t,3),i,!0)}function kr(e){return(null==e?0:e.length)?Ye(e,1):[]}function xr(e){return e&&e.length?e[0]:ra}var Sr=jt(function(e){var t=Ws(e,Yt);return t.length&&t[0]===e[0]?it(t):[]}),jr=jt(function(e){var t=Or(e),n=Ws(e,Yt);return t===Or(n)?t=ra:n.pop(),n.length&&n[0]===e[0]?it(n,$n(t,2)):[]}),Er=jt(function(e){var t=Or(e),n=Ws(e,Yt);return(t="function"==typeof t?t:ra)&&n.pop(),n.length&&n[0]===e[0]?it(n,ra,t):[]});function Or(e){var t=null==e?0:e.length;return t?e[t-1]:ra}var Tr=jt(Cr);function Cr(e,t){return e&&e.length&&t&&t.length?_t(e,t):e}var Pr=An(function(e,t){var n=null==e?0:e.length,r=De(e,t);return kt(e,Ws(t,function(e){return Zn(e,n)?+e:e}).sort(tn)),r});function Ir(e){return null==e?e:K.call(e)}var Ar=jt(function(e){return Bt(Ye(e,1,Si,!0))}),Mr=jt(function(e){var t=Or(e);return Si(t)&&(t=ra),Bt(Ye(e,1,Si,!0),$n(t,2))}),Rr=jt(function(e){var t=Or(e);return t="function"==typeof t?t:ra,Bt(Ye(e,1,Si,!0),ra,t)});function Dr(t){if(!t||!t.length)return[];var n=0;return t=Us(t,function(e){if(Si(e))return n=Y(e.length,n),!0}),iu(n,function(e){return Ws(t,tu(e))})}function Lr(e,t){if(!e||!e.length)return[];var n=Dr(e);return null==t?n:Ws(n,function(e){return Ls(t,ra,e)})}var Fr=jt(function(e,t){return Si(e)?ze(e,t):[]}),$r=jt(function(e){return Wt(Us(e,Si))}),Br=jt(function(e){var t=Or(e);return Si(t)&&(t=ra),Wt(Us(e,Si),$n(t,2))}),zr=jt(function(e){var t=Or(e);return t="function"==typeof t?t:ra,Wt(Us(e,Si),ra,t)}),Ur=jt(Dr);var Hr=jt(function(e){var t=e.length,n=1<t?e[t-1]:ra;return n="function"==typeof n?(e.pop(),n):ra,Lr(e,n)});function Nr(e){var t=pe(e);return t.__chain__=!0,t}function Wr(e,t){return t(e)}var Vr=An(function(t){function e(e){return De(e,t)}var n=t.length,r=n?t[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof be&&Zn(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Wr,args:[e],thisArg:ra}),new ye(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(ra),e})):this.thru(e)});var Yr=sn(function(e,t,n){w.call(e,n)?++e[n]:Re(e,n,1)});var qr=pn(wr),Zr=pn(_r);function Xr(e,t){return(_i(e)?$s:Ue)(e,$n(t,3))}function Gr(e,t){return(_i(e)?Bs:He)(e,$n(t,3))}var Kr=sn(function(e,t,n){w.call(e,n)?e[n].push(t):Re(e,n,[t])});var Jr=jt(function(e,t,n){var r=-1,i="function"==typeof t,o=xi(e)?j(e.length):[];return Ue(e,function(e){o[++r]=i?Ls(t,e,n):ot(e,t,n)}),o}),Qr=sn(function(e,t,n){Re(e,n,t)});function ei(e,t){return(_i(e)?Ws:pt)(e,$n(t,3))}var ti=sn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ni=jt(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Xn(e,t[0],t[1])?t=[]:2<n&&Xn(t[0],t[1],t[2])&&(t=[t[0]]),bt(e,Ye(t,1),[])}),ri=F||function(){return Ts.Date.now()};function ii(e,t,n){return t=n?ra:t,t=e&&null==t?e.length:t,On(e,sa,ra,ra,ra,ra,t)}function oi(e,t){var n;if("function"!=typeof t)throw new y(ia);return e=Vi(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=ra),n}}var ai=jt(function(e,t,n){var r=1;if(n.length){var i=mu(n,Fn(ai));r|=32}return On(e,r,t,n,i)}),si=jt(function(e,t,n){var r=3;if(n.length){var i=mu(n,Fn(si));r|=32}return On(t,r,e,n,i)});function ui(r,n,e){var i,o,a,s,u,l,c=0,f=!1,d=!1,t=!0;if("function"!=typeof r)throw new y(ia);function h(e){var t=i,n=o;return i=o=ra,c=e,s=r.apply(n,t)}function p(e){var t=e-l;return l===ra||n<=t||t<0||d&&a<=e-c}function v(){var e=ri();if(p(e))return m(e);u=ar(v,function(e){var t=n-(e-l);return d?q(t,a-(e-c)):t}(e))}function m(e){return u=ra,t&&i?h(e):(i=o=ra,s)}function g(){var e=ri(),t=p(e);if(i=arguments,o=this,l=e,t){if(u===ra)return function(e){return c=e,u=ar(v,n),f?h(e):s}(l);if(d)return u=ar(v,n),h(l)}return u===ra&&(u=ar(v,n)),s}return n=qi(n)||0,Ii(e)&&(f=!!e.leading,a=(d="maxWait"in e)?Y(qi(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),g.cancel=function(){u!==ra&&Kt(u),c=0,i=l=o=u=ra},g.flush=function(){return u===ra?s:m(ri())},g}var li=jt(function(e,t){return Be(e,1,t)}),ci=jt(function(e,t,n){return Be(e,qi(t)||0,n)});function fi(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new y(ia);var a=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return a.cache=n.set(t,r)||n,r};return a.cache=new(fi.Cache||ke),a}function di(t){if("function"!=typeof t)throw new y(ia);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}fi.Cache=ke;var hi=Xt(function(r,i){var o=(i=1==i.length&&_i(i[0])?Ws(i[0],ou($n())):Ws(Ye(i,1),ou($n()))).length;return jt(function(e){for(var t=-1,n=q(e.length,o);++t<n;)e[t]=i[t].call(this,e[t]);return Ls(r,this,e)})}),pi=jt(function(e,t){var n=mu(t,Fn(pi));return On(e,32,ra,t,n)}),vi=jt(function(e,t){var n=mu(t,Fn(vi));return On(e,64,ra,t,n)}),mi=An(function(e,t){return On(e,256,ra,ra,ra,t)});function gi(e,t){return e===t||e!=e&&t!=t}var yi=kn(tt),bi=kn(function(e,t){return t<=e}),wi=at(function(){return arguments}())?at:function(e){return Ai(e)&&w.call(e,"callee")&&!P.call(e,"callee")},_i=j.isArray,ki=Ps?ou(Ps):function(e){return Ai(e)&&et(e)==Ta};function xi(e){return null!=e&&Pi(e.length)&&!Ti(e)}function Si(e){return Ai(e)&&xi(e)}var ji=H||Zo,Ei=Is?ou(Is):function(e){return Ai(e)&&et(e)==va};function Oi(e){if(!Ai(e))return!1;var t=et(e);return t==ma||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Di(e)}function Ti(e){if(!Ii(e))return!1;var t=et(e);return t==ga||t==ya||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ci(e){return"number"==typeof e&&e==Vi(e)}function Pi(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=ua}function Ii(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ai(e){return null!=e&&"object"==typeof e}var Mi=As?ou(As):function(e){return Ai(e)&&Wn(e)==ba};function Ri(e){return"number"==typeof e||Ai(e)&&et(e)==wa}function Di(e){if(!Ai(e)||et(e)!=_a)return!1;var t=T(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==b}var Li=Ms?ou(Ms):function(e){return Ai(e)&&et(e)==xa};var Fi=Rs?ou(Rs):function(e){return Ai(e)&&Wn(e)==Sa};function $i(e){return"string"==typeof e||!_i(e)&&Ai(e)&&et(e)==ja}function Bi(e){return"symbol"==typeof e||Ai(e)&&et(e)==Ea}var zi=Ds?ou(Ds):function(e){return Ai(e)&&Pi(e.length)&&!!Ss[et(e)]};var Ui=kn(ht),Hi=kn(function(e,t){return e<=t});function Ni(e){if(!e)return[];if(xi(e))return $i(e)?bu(e):on(e);if(M&&e[M])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[M]());var t=Wn(e);return(t==ba?pu:t==Sa?gu:yo)(e)}function Wi(e){return e?(e=qi(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function Vi(e){var t=Wi(e),n=t%1;return t==t?n?t-n:t:0}function Yi(e){return e?Le(Vi(e),0,ca):0}function qi(e){if("number"==typeof e)return e;if(Bi(e))return la;if(Ii(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ii(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(es,"");var n=fs.test(e);return n||hs.test(e)?Os(e.slice(2),n?2:8):cs.test(e)?la:+e}function Zi(e){return an(e,lo(e))}function Xi(e){return null==e?"":$t(e)}var Gi=un(function(e,t){if(Qn(t)||xi(t))an(t,uo(t),e);else for(var n in t)w.call(t,n)&&Pe(e,n,t[n])}),Ki=un(function(e,t){an(t,lo(t),e)}),Ji=un(function(e,t,n,r){an(t,lo(t),e,r)}),Qi=un(function(e,t,n,r){an(t,uo(t),e,r)}),eo=An(De);var to=jt(function(e,t){e=v(e);var n=-1,r=t.length,i=2<r?t[2]:ra;for(i&&Xn(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=lo(o),s=-1,u=a.length;++s<u;){var l=a[s],c=e[l];(c===ra||gi(c,f[l])&&!w.call(e,l))&&(e[l]=o[l])}return e}),no=jt(function(e){return e.push(ra,Cn),Ls(fo,ra,e)});function ro(e,t,n){var r=null==e?ra:Je(e,t);return r===ra?n:r}function io(e,t){return null!=e&&Vn(e,t,rt)}var oo=gn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=p.call(t)),e[t]=n},Ao(Do)),ao=gn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=p.call(t)),w.call(e,t)?e[t].push(n):e[t]=[n]},$n),so=jt(ot);function uo(e){return xi(e)?je(e):ft(e)}function lo(e){return xi(e)?je(e,!0):dt(e)}var co=un(function(e,t,n){gt(e,t,n)}),fo=un(function(e,t,n,r){gt(e,t,n,r)}),ho=An(function(t,e){var n={};if(null==t)return n;var r=!1;e=Ws(e,function(e){return e=Zt(e,t),r=r||1<e.length,e}),an(t,Rn(t),n),r&&(n=Fe(n,7,Pn));for(var i=e.length;i--;)zt(n,e[i]);return n});var po=An(function(e,t){return null==e?{}:function(n,e){return wt(n,e,function(e,t){return io(n,t)})}(e,t)});function vo(e,n){if(null==e)return{};var t=Ws(Rn(e),function(e){return[e]});return n=$n(n),wt(e,t,function(e,t){return n(e,t[0])})}var mo=En(uo),go=En(lo);function yo(e){return null==e?[]:au(e,uo(e))}var bo=dn(function(e,t,n){return t=t.toLowerCase(),e+(n?wo(t):t)});function wo(e){return To(Xi(e).toLowerCase())}function _o(e){return(e=Xi(e))&&e.replace(vs,cu).replace(bs,"")}var ko=dn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),xo=dn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),So=fn("toLowerCase");var jo=dn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Eo=dn(function(e,t,n){return e+(n?" ":"")+To(t)});var Oo=dn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),To=fn("toUpperCase");function Co(e,t,n){return e=Xi(e),(t=n?ra:t)===ra?function(e){return _s.test(e)}(e)?function(e){return e.match(ws)||[]}(e):function(e){return e.match(as)||[]}(e):e.match(t)||[]}var Po=jt(function(e,t){try{return Ls(e,ra,t)}catch(e){return Oi(e)?e:new i(e)}}),Io=An(function(t,e){return $s(e,function(e){e=pr(e),Re(t,e,ai(t[e],t))}),t});function Ao(e){return function(){return e}}var Mo=vn(),Ro=vn(!0);function Do(e){return e}function Lo(e){return ct("function"==typeof e?e:Fe(e,1))}var Fo=jt(function(t,n){return function(e){return ot(e,t,n)}}),$o=jt(function(t,n){return function(e){return ot(t,e,n)}});function Bo(r,t,e){var n=uo(t),i=Ke(t,n);null!=e||Ii(t)&&(i.length||!n.length)||(e=t,t=r,r=this,i=Ke(t,uo(t)));var o=!(Ii(e)&&"chain"in e&&!e.chain),a=Ti(r);return $s(i,function(e){var n=t[e];r[e]=n,a&&(r.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=r(this.__wrapped__);return(t.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,Vs([this.value()],arguments))})}),r}function zo(){}var Uo=bn(Ws),Ho=bn(zs),No=bn(Zs);function Wo(e){return Gn(e)?tu(pr(e)):function(t){return function(e){return Je(e,t)}}(e)}var Vo=_n(),Yo=_n(!0);function qo(){return[]}function Zo(){return!1}var Xo=yn(function(e,t){return e+t},0),Go=Sn("ceil"),Ko=yn(function(e,t){return e/t},1),Jo=Sn("floor");var Qo,ea=yn(function(e,t){return e*t},1),ta=Sn("round"),na=yn(function(e,t){return e-t},0);return pe.after=function(e,t){if("function"!=typeof t)throw new y(ia);return e=Vi(e),function(){if(--e<1)return t.apply(this,arguments)}},pe.ary=ii,pe.assign=Gi,pe.assignIn=Ki,pe.assignInWith=Ji,pe.assignWith=Qi,pe.at=eo,pe.before=oi,pe.bind=ai,pe.bindAll=Io,pe.bindKey=si,pe.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return _i(e)?e:[e]},pe.chain=Nr,pe.chunk=function(e,t,n){t=(n?Xn(e,t,n):t===ra)?1:Y(Vi(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=j(B(r/t));i<r;)a[o++]=At(e,i,i+=t);return a},pe.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},pe.concat=function(){var e=arguments.length;if(!e)return[];for(var t=j(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Vs(_i(n)?on(n):[n],Ye(t,1))},pe.cond=function(r){var i=null==r?0:r.length,t=$n();return r=i?Ws(r,function(e){if("function"!=typeof e[1])throw new y(ia);return[t(e[0]),e[1]]}):[],jt(function(e){for(var t=-1;++t<i;){var n=r[t];if(Ls(n[0],this,e))return Ls(n[1],this,e)}})},pe.conforms=function(e){return function(t){var n=uo(t);return function(e){return $e(e,t,n)}}(Fe(e,1))},pe.constant=Ao,pe.countBy=Yr,pe.create=function(e,t){var n=ve(e);return null==t?n:Me(n,t)},pe.curry=function e(t,n,r){var i=On(t,8,ra,ra,ra,ra,ra,n=r?ra:n);return i.placeholder=e.placeholder,i},pe.curryRight=function e(t,n,r){var i=On(t,16,ra,ra,ra,ra,ra,n=r?ra:n);return i.placeholder=e.placeholder,i},pe.debounce=ui,pe.defaults=to,pe.defaultsDeep=no,pe.defer=li,pe.delay=ci,pe.difference=gr,pe.differenceBy=yr,pe.differenceWith=br,pe.drop=function(e,t,n){var r=null==e?0:e.length;return r?At(e,(t=n||t===ra?1:Vi(t))<0?0:t,r):[]},pe.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?At(e,0,(t=r-(t=n||t===ra?1:Vi(t)))<0?0:t):[]},pe.dropRightWhile=function(e,t){return e&&e.length?Ht(e,$n(t,3),!0,!0):[]},pe.dropWhile=function(e,t){return e&&e.length?Ht(e,$n(t,3),!0):[]},pe.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Xn(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Vi(n))<0&&(n=i<-n?0:i+n),(r=r===ra||i<r?i:Vi(r))<0&&(r+=i),r=r<n?0:Yi(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},pe.filter=function(e,t){return(_i(e)?Us:Ve)(e,$n(t,3))},pe.flatMap=function(e,t){return Ye(ei(e,t),1)},pe.flatMapDeep=function(e,t){return Ye(ei(e,t),1/0)},pe.flatMapDepth=function(e,t,n){return n=n===ra?1:Vi(n),Ye(ei(e,t),n)},pe.flatten=kr,pe.flattenDeep=function(e){return(null==e?0:e.length)?Ye(e,1/0):[]},pe.flattenDepth=function(e,t){return(null==e?0:e.length)?Ye(e,t=t===ra?1:Vi(t)):[]},pe.flip=function(e){return On(e,512)},pe.flow=Mo,pe.flowRight=Ro,pe.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},pe.functions=function(e){return null==e?[]:Ke(e,uo(e))},pe.functionsIn=function(e){return null==e?[]:Ke(e,lo(e))},pe.groupBy=Kr,pe.initial=function(e){return(null==e?0:e.length)?At(e,0,-1):[]},pe.intersection=Sr,pe.intersectionBy=jr,pe.intersectionWith=Er,pe.invert=oo,pe.invertBy=ao,pe.invokeMap=Jr,pe.iteratee=Lo,pe.keyBy=Qr,pe.keys=uo,pe.keysIn=lo,pe.map=ei,pe.mapKeys=function(e,r){var i={};return r=$n(r,3),Xe(e,function(e,t,n){Re(i,r(e,t,n),e)}),i},pe.mapValues=function(e,r){var i={};return r=$n(r,3),Xe(e,function(e,t,n){Re(i,t,r(e,t,n))}),i},pe.matches=function(e){return vt(Fe(e,1))},pe.matchesProperty=function(e,t){return mt(e,Fe(t,1))},pe.memoize=fi,pe.merge=co,pe.mergeWith=fo,pe.method=Fo,pe.methodOf=$o,pe.mixin=Bo,pe.negate=di,pe.nthArg=function(t){return t=Vi(t),jt(function(e){return yt(e,t)})},pe.omit=ho,pe.omitBy=function(e,t){return vo(e,di($n(t)))},pe.once=function(e){return oi(2,e)},pe.orderBy=function(e,t,n,r){return null==e?[]:(_i(t)||(t=null==t?[]:[t]),_i(n=r?ra:n)||(n=null==n?[]:[n]),bt(e,t,n))},pe.over=Uo,pe.overArgs=hi,pe.overEvery=Ho,pe.overSome=No,pe.partial=pi,pe.partialRight=vi,pe.partition=ti,pe.pick=po,pe.pickBy=vo,pe.property=Wo,pe.propertyOf=function(t){return function(e){return null==t?ra:Je(t,e)}},pe.pull=Tr,pe.pullAll=Cr,pe.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_t(e,t,$n(n,2)):e},pe.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_t(e,t,ra,n):e},pe.pullAt=Pr,pe.range=Vo,pe.rangeRight=Yo,pe.rearg=mi,pe.reject=function(e,t){return(_i(e)?Us:Ve)(e,di($n(t,3)))},pe.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=$n(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return kt(e,i),n},pe.rest=function(e,t){if("function"!=typeof e)throw new y(ia);return jt(e,t=t===ra?t:Vi(t))},pe.reverse=Ir,pe.sampleSize=function(e,t,n){return t=(n?Xn(e,t,n):t===ra)?1:Vi(t),(_i(e)?Oe:Ot)(e,t)},pe.set=function(e,t,n){return null==e?e:Tt(e,t,n)},pe.setWith=function(e,t,n,r){return r="function"==typeof r?r:ra,null==e?e:Tt(e,t,n,r)},pe.shuffle=function(e){return(_i(e)?Te:It)(e)},pe.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&Xn(e,t,n)?(t=0,r):(t=null==t?0:Vi(t),n===ra?r:Vi(n)),At(e,t,n)):[]},pe.sortBy=ni,pe.sortedUniq=function(e){return e&&e.length?Lt(e):[]},pe.sortedUniqBy=function(e,t){return e&&e.length?Lt(e,$n(t,2)):[]},pe.split=function(e,t,n){return n&&"number"!=typeof n&&Xn(e,t,n)&&(t=n=ra),(n=n===ra?ca:n>>>0)?(e=Xi(e))&&("string"==typeof t||null!=t&&!Li(t))&&!(t=$t(t))&&hu(e)?Gt(bu(e),0,n):e.split(t,n):[]},pe.spread=function(r,i){if("function"!=typeof r)throw new y(ia);return i=null==i?0:Y(Vi(i),0),jt(function(e){var t=e[i],n=Gt(e,0,i);return t&&Vs(n,t),Ls(r,this,n)})},pe.tail=function(e){var t=null==e?0:e.length;return t?At(e,1,t):[]},pe.take=function(e,t,n){return e&&e.length?At(e,0,(t=n||t===ra?1:Vi(t))<0?0:t):[]},pe.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?At(e,(t=r-(t=n||t===ra?1:Vi(t)))<0?0:t,r):[]},pe.takeRightWhile=function(e,t){return e&&e.length?Ht(e,$n(t,3),!1,!0):[]},pe.takeWhile=function(e,t){return e&&e.length?Ht(e,$n(t,3)):[]},pe.tap=function(e,t){return t(e),e},pe.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new y(ia);return Ii(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ui(e,t,{leading:r,maxWait:t,trailing:i})},pe.thru=Wr,pe.toArray=Ni,pe.toPairs=mo,pe.toPairsIn=go,pe.toPath=function(e){return _i(e)?Ws(e,pr):Bi(e)?[e]:on(hr(Xi(e)))},pe.toPlainObject=Zi,pe.transform=function(e,r,i){var t=_i(e),n=t||ji(e)||zi(e);if(r=$n(r,4),null==i){var o=e&&e.constructor;i=n?t?new o:[]:Ii(e)&&Ti(o)?ve(T(e)):{}}return(n?$s:Xe)(e,function(e,t,n){return r(i,e,t,n)}),i},pe.unary=function(e){return ii(e,1)},pe.union=Ar,pe.unionBy=Mr,pe.unionWith=Rr,pe.uniq=function(e){return e&&e.length?Bt(e):[]},pe.uniqBy=function(e,t){return e&&e.length?Bt(e,$n(t,2)):[]},pe.uniqWith=function(e,t){return t="function"==typeof t?t:ra,e&&e.length?Bt(e,ra,t):[]},pe.unset=function(e,t){return null==e||zt(e,t)},pe.unzip=Dr,pe.unzipWith=Lr,pe.update=function(e,t,n){return null==e?e:Ut(e,t,qt(n))},pe.updateWith=function(e,t,n,r){return r="function"==typeof r?r:ra,null==e?e:Ut(e,t,qt(n),r)},pe.values=yo,pe.valuesIn=function(e){return null==e?[]:au(e,lo(e))},pe.without=Fr,pe.words=Co,pe.wrap=function(e,t){return pi(qt(t),e)},pe.xor=$r,pe.xorBy=Br,pe.xorWith=zr,pe.zip=Ur,pe.zipObject=function(e,t){return Vt(e||[],t||[],Pe)},pe.zipObjectDeep=function(e,t){return Vt(e||[],t||[],Tt)},pe.zipWith=Hr,pe.entries=mo,pe.entriesIn=go,pe.extend=Ki,pe.extendWith=Ji,Bo(pe,pe),pe.add=Xo,pe.attempt=Po,pe.camelCase=bo,pe.capitalize=wo,pe.ceil=Go,pe.clamp=function(e,t,n){return n===ra&&(n=t,t=ra),n!==ra&&(n=(n=qi(n))==n?n:0),t!==ra&&(t=(t=qi(t))==t?t:0),Le(qi(e),t,n)},pe.clone=function(e){return Fe(e,4)},pe.cloneDeep=function(e){return Fe(e,5)},pe.cloneDeepWith=function(e,t){return Fe(e,5,t="function"==typeof t?t:ra)},pe.cloneWith=function(e,t){return Fe(e,4,t="function"==typeof t?t:ra)},pe.conformsTo=function(e,t){return null==t||$e(e,t,uo(t))},pe.deburr=_o,pe.defaultTo=function(e,t){return null==e||e!=e?t:e},pe.divide=Ko,pe.endsWith=function(e,t,n){e=Xi(e),t=$t(t);var r=e.length,i=n=n===ra?r:Le(Vi(n),0,r);return 0<=(n-=t.length)&&e.slice(n,i)==t},pe.eq=gi,pe.escape=function(e){return(e=Xi(e))&&Va.test(e)?e.replace(Na,fu):e},pe.escapeRegExp=function(e){return(e=Xi(e))&&Qa.test(e)?e.replace(Ja,"\\$&"):e},pe.every=function(e,t,n){var r=_i(e)?zs:Ne;return n&&Xn(e,t,n)&&(t=ra),r(e,$n(t,3))},pe.find=qr,pe.findIndex=wr,pe.findKey=function(e,t){return Xs(e,$n(t,3),Xe)},pe.findLast=Zr,pe.findLastIndex=_r,pe.findLastKey=function(e,t){return Xs(e,$n(t,3),Ge)},pe.floor=Jo,pe.forEach=Xr,pe.forEachRight=Gr,pe.forIn=function(e,t){return null==e?e:qe(e,$n(t,3),lo)},pe.forInRight=function(e,t){return null==e?e:Ze(e,$n(t,3),lo)},pe.forOwn=function(e,t){return e&&Xe(e,$n(t,3))},pe.forOwnRight=function(e,t){return e&&Ge(e,$n(t,3))},pe.get=ro,pe.gt=yi,pe.gte=bi,pe.has=function(e,t){return null!=e&&Vn(e,t,nt)},pe.hasIn=io,pe.head=xr,pe.identity=Do,pe.includes=function(e,t,n,r){e=xi(e)?e:yo(e),n=n&&!r?Vi(n):0;var i=e.length;return n<0&&(n=Y(i+n,0)),$i(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<Ks(e,t,n)},pe.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Vi(n);return i<0&&(i=Y(r+i,0)),Ks(e,t,i)},pe.inRange=function(e,t,n){return t=Wi(t),n===ra?(n=t,t=0):n=Wi(n),function(e,t,n){return e>=q(t,n)&&e<Y(t,n)}(e=qi(e),t,n)},pe.invoke=so,pe.isArguments=wi,pe.isArray=_i,pe.isArrayBuffer=ki,pe.isArrayLike=xi,pe.isArrayLikeObject=Si,pe.isBoolean=function(e){return!0===e||!1===e||Ai(e)&&et(e)==pa},pe.isBuffer=ji,pe.isDate=Ei,pe.isElement=function(e){return Ai(e)&&1===e.nodeType&&!Di(e)},pe.isEmpty=function(e){if(null==e)return!0;if(xi(e)&&(_i(e)||"string"==typeof e||"function"==typeof e.splice||ji(e)||zi(e)||wi(e)))return!e.length;var t=Wn(e);if(t==ba||t==Sa)return!e.size;if(Qn(e))return!ft(e).length;for(var n in e)if(w.call(e,n))return!1;return!0},pe.isEqual=function(e,t){return st(e,t)},pe.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:ra)?n(e,t):ra;return r===ra?st(e,t,ra,n):!!r},pe.isError=Oi,pe.isFinite=function(e){return"number"==typeof e&&N(e)},pe.isFunction=Ti,pe.isInteger=Ci,pe.isLength=Pi,pe.isMap=Mi,pe.isMatch=function(e,t){return e===t||ut(e,t,zn(t))},pe.isMatchWith=function(e,t,n){return n="function"==typeof n?n:ra,ut(e,t,zn(t),n)},pe.isNaN=function(e){return Ri(e)&&e!=+e},pe.isNative=function(e){if(Jn(e))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return lt(e)},pe.isNil=function(e){return null==e},pe.isNull=function(e){return null===e},pe.isNumber=Ri,pe.isObject=Ii,pe.isObjectLike=Ai,pe.isPlainObject=Di,pe.isRegExp=Li,pe.isSafeInteger=function(e){return Ci(e)&&-ua<=e&&e<=ua},pe.isSet=Fi,pe.isString=$i,pe.isSymbol=Bi,pe.isTypedArray=zi,pe.isUndefined=function(e){return e===ra},pe.isWeakMap=function(e){return Ai(e)&&Wn(e)==Oa},pe.isWeakSet=function(e){return Ai(e)&&"[object WeakSet]"==et(e)},pe.join=function(e,t){return null==e?"":W.call(e,t)},pe.kebabCase=ko,pe.last=Or,pe.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ra&&(i=(i=Vi(n))<0?Y(r+i,0):q(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Gs(e,Qs,i,!0)},pe.lowerCase=xo,pe.lowerFirst=So,pe.lt=Ui,pe.lte=Hi,pe.max=function(e){return e&&e.length?We(e,Do,tt):ra},pe.maxBy=function(e,t){return e&&e.length?We(e,$n(t,2),tt):ra},pe.mean=function(e){return eu(e,Do)},pe.meanBy=function(e,t){return eu(e,$n(t,2))},pe.min=function(e){return e&&e.length?We(e,Do,ht):ra},pe.minBy=function(e,t){return e&&e.length?We(e,$n(t,2),ht):ra},pe.stubArray=qo,pe.stubFalse=Zo,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=ea,pe.nth=function(e,t){return e&&e.length?yt(e,Vi(t)):ra},pe.noConflict=function(){return Ts._===this&&(Ts._=_),this},pe.noop=zo,pe.now=ri,pe.pad=function(e,t,n){e=Xi(e);var r=(t=Vi(t))?yu(e):0;if(!t||t<=r)return e;var i=(t-r)/2;return wn(z(i),n)+e+wn(B(i),n)},pe.padEnd=function(e,t,n){e=Xi(e);var r=(t=Vi(t))?yu(e):0;return t&&r<t?e+wn(t-r,n):e},pe.padStart=function(e,t,n){e=Xi(e);var r=(t=Vi(t))?yu(e):0;return t&&r<t?wn(t-r,n)+e:e},pe.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,X(Xi(e).replace(ts,""),t||0)},pe.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Xn(e,t,n)&&(t=n=ra),n===ra&&("boolean"==typeof t?(n=t,t=ra):"boolean"==typeof e&&(n=e,e=ra)),e===ra&&t===ra?(e=0,t=1):(e=Wi(e),t===ra?(t=e,e=0):t=Wi(t)),t<e){var r=e;e=t,t=r}if(n||e%1||t%1){var i=G();return q(e+i*(t-e+Es("1e-"+((i+"").length-1))),t)}return xt(e,t)},pe.reduce=function(e,t,n){var r=_i(e)?Ys:nu,i=arguments.length<3;return r(e,$n(t,4),n,i,Ue)},pe.reduceRight=function(e,t,n){var r=_i(e)?qs:nu,i=arguments.length<3;return r(e,$n(t,4),n,i,He)},pe.repeat=function(e,t,n){return t=(n?Xn(e,t,n):t===ra)?1:Vi(t),St(Xi(e),t)},pe.replace=function(){var e=arguments,t=Xi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pe.result=function(e,t,n){var r=-1,i=(t=Zt(t,e)).length;for(i||(i=1,e=ra);++r<i;){var o=null==e?ra:e[pr(t[r])];o===ra&&(r=i,o=n),e=Ti(o)?o.call(e):o}return e},pe.round=ta,pe.runInContext=e,pe.sample=function(e){return(_i(e)?Ee:Et)(e)},pe.size=function(e){if(null==e)return 0;if(xi(e))return $i(e)?yu(e):e.length;var t=Wn(e);return t==ba||t==Sa?e.size:ft(e).length},pe.snakeCase=jo,pe.some=function(e,t,n){var r=_i(e)?Zs:Mt;return n&&Xn(e,t,n)&&(t=ra),r(e,$n(t,3))},pe.sortedIndex=function(e,t){return Rt(e,t)},pe.sortedIndexBy=function(e,t,n){return Dt(e,t,$n(n,2))},pe.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Rt(e,t);if(r<n&&gi(e[r],t))return r}return-1},pe.sortedLastIndex=function(e,t){return Rt(e,t,!0)},pe.sortedLastIndexBy=function(e,t,n){return Dt(e,t,$n(n,2),!0)},pe.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Rt(e,t,!0)-1;if(gi(e[n],t))return n}return-1},pe.startCase=Eo,pe.startsWith=function(e,t,n){return e=Xi(e),n=null==n?0:Le(Vi(n),0,e.length),t=$t(t),e.slice(n,n+t.length)==t},pe.subtract=na,pe.sum=function(e){return e&&e.length?ru(e,Do):0},pe.sumBy=function(e,t){return e&&e.length?ru(e,$n(t,2)):0},pe.template=function(a,e,t){var n=pe.templateSettings;t&&Xn(a,e,t)&&(e=ra),a=Xi(a),e=Ji({},e,n,Tn);var s,u,r=Ji({},e.imports,n.imports,Tn),i=uo(r),o=au(r,i),l=0,c=e.interpolate||ms,f="__p += '",d=g((e.escape||ms).source+"|"+c.source+"|"+(c===Za?us:ms).source+"|"+(e.evaluate||ms).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++xs+"]")+"\n";a.replace(d,function(e,t,n,r,i,o){return n=n||r,f+=a.slice(l,o).replace(gs,du),t&&(s=!0,f+="' +\n__e("+t+") +\n'"),i&&(u=!0,f+="';\n"+i+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=o+e.length,e}),f+="';\n";var p=e.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(u?f.replace(Ba,""):f).replace(za,"$1").replace(Ua,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Po(function(){return m(i,h+"return "+f).apply(ra,o)});if(v.source=f,Oi(v))throw v;return v},pe.times=function(e,t){if((e=Vi(e))<1||ua<e)return[];var n=ca,r=q(e,ca);t=$n(t),e-=ca;for(var i=iu(r,t);++n<e;)t(n);return i},pe.toFinite=Wi,pe.toInteger=Vi,pe.toLength=Yi,pe.toLower=function(e){return Xi(e).toLowerCase()},pe.toNumber=qi,pe.toSafeInteger=function(e){return e?Le(Vi(e),-ua,ua):0===e?e:0},pe.toString=Xi,pe.toUpper=function(e){return Xi(e).toUpperCase()},pe.trim=function(e,t,n){if((e=Xi(e))&&(n||t===ra))return e.replace(es,"");if(!e||!(t=$t(t)))return e;var r=bu(e),i=bu(t);return Gt(r,uu(r,i),lu(r,i)+1).join("")},pe.trimEnd=function(e,t,n){if((e=Xi(e))&&(n||t===ra))return e.replace(ns,"");if(!e||!(t=$t(t)))return e;var r=bu(e);return Gt(r,0,lu(r,bu(t))+1).join("")},pe.trimStart=function(e,t,n){if((e=Xi(e))&&(n||t===ra))return e.replace(ts,"");if(!e||!(t=$t(t)))return e;var r=bu(e);return Gt(r,uu(r,bu(t))).join("")},pe.truncate=function(e,t){var n=30,r="...";if(Ii(t)){var i="separator"in t?t.separator:i;n="length"in t?Vi(t.length):n,r="omission"in t?$t(t.omission):r}var o=(e=Xi(e)).length;if(hu(e)){var a=bu(e);o=a.length}if(o<=n)return e;var s=n-yu(r);if(s<1)return r;var u=a?Gt(a,0,s).join(""):e.slice(0,s);if(i===ra)return u+r;if(a&&(s+=u.length-s),Li(i)){if(e.slice(s).search(i)){var l,c=u;for(i.global||(i=g(i.source,Xi(ls.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;u=u.slice(0,f===ra?s:f)}}else if(e.indexOf($t(i),s)!=s){var d=u.lastIndexOf(i);-1<d&&(u=u.slice(0,d))}return u+r},pe.unescape=function(e){return(e=Xi(e))&&Wa.test(e)?e.replace(Ha,wu):e},pe.uniqueId=function(e){var t=++d;return Xi(e)+t},pe.upperCase=Oo,pe.upperFirst=To,pe.each=Xr,pe.eachRight=Gr,pe.first=xr,Bo(pe,(Qo={},Xe(pe,function(e,t){w.call(pe.prototype,t)||(Qo[t]=e)}),Qo),{chain:!1}),pe.VERSION="4.17.11",$s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pe[e].placeholder=pe}),$s(["drop","take"],function(n,r){be.prototype[n]=function(e){e=e===ra?1:Y(Vi(e),0);var t=this.__filtered__&&!r?new be(this):this.clone();return t.__filtered__?t.__takeCount__=q(e,t.__takeCount__):t.__views__.push({size:q(e,ca),type:n+(t.__dir__<0?"Right":"")}),t},be.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),$s(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;be.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:$n(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),$s(["head","last"],function(e,t){var n="take"+(t?"Right":"");be.prototype[e]=function(){return this[n](1).value()[0]}}),$s(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");be.prototype[e]=function(){return this.__filtered__?new be(this):this[n](1)}}),be.prototype.compact=function(){return this.filter(Do)},be.prototype.find=function(e){return this.filter(e).head()},be.prototype.findLast=function(e){return this.reverse().find(e)},be.prototype.invokeMap=jt(function(t,n){return"function"==typeof t?new be(this):this.map(function(e){return ot(e,t,n)})}),be.prototype.reject=function(e){return this.filter(di($n(e)))},be.prototype.slice=function(e,t){e=Vi(e);var n=this;return n.__filtered__&&(0<e||t<0)?new be(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ra&&(n=(t=Vi(t))<0?n.dropRight(-t):n.take(t-e)),n)},be.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},be.prototype.toArray=function(){return this.take(ca)},Xe(be.prototype,function(f,e){var d=/^(?:filter|find|map|reject)|While$/.test(e),h=/^(?:head|last)$/.test(e),p=pe[h?"take"+("last"==e?"Right":""):e],v=h||/^find/.test(e);p&&(pe.prototype[e]=function(){function e(e){var t=p.apply(pe,Vs([e],n));return h&&a?t[0]:t}var t=this.__wrapped__,n=h?[1]:arguments,r=t instanceof be,i=n[0],o=r||_i(t);o&&d&&"function"==typeof i&&1!=i.length&&(r=o=!1);var a=this.__chain__,s=!!this.__actions__.length,u=v&&!a,l=r&&!s;if(v||!o)return u&&l?f.apply(this,n):(c=this.thru(e),u?h?c.value()[0]:c.value():c);t=l?t:new be(this);var c=f.apply(t,n);return c.__actions__.push({func:Wr,args:[e],thisArg:ra}),new ye(c,a)})}),$s(["pop","push","shift","sort","splice","unshift"],function(e){var n=a[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);pe.prototype[e]=function(){var t=arguments;if(!i||this.__chain__)return this[r](function(e){return n.apply(_i(e)?e:[],t)});var e=this.value();return n.apply(_i(e)?e:[],t)}}),Xe(be.prototype,function(e,t){var n=pe[t];if(n){var r=n.name+"";(oe[r]||(oe[r]=[])).push({name:t,func:n})}}),oe[mn(ra,2).name]=[{name:"wrapper",func:ra}],be.prototype.clone=function(){var e=new be(this.__wrapped__);return e.__actions__=on(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=on(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=on(this.__views__),e},be.prototype.reverse=function(){if(this.__filtered__){var e=new be(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},be.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=_i(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=q(t,e+a);break;case"takeRight":e=Y(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=q(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return Nt(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,m=e[l+=t];++v<f;){var g=c[v],y=g.iteratee,b=g.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[d++]=m}return p},pe.prototype.at=Vr,pe.prototype.chain=function(){return Nr(this)},pe.prototype.commit=function(){return new ye(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===ra&&(this.__values__=Ni(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ra:this.__values__[this.__index__++]}},pe.prototype.plant=function(e){for(var t,n=this;n instanceof ge;){var r=mr(n);r.__index__=0,r.__values__=ra,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},pe.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof be){var t=e;return this.__actions__.length&&(t=new be(this)),(t=t.reverse()).__actions__.push({func:Wr,args:[Ir],thisArg:ra}),new ye(t,this.__chain__)}return this.thru(Ir)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Nt(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,M&&(pe.prototype[M]=function(){return this}),pe}();Ts._=_u,(N=function(){return _u}.call(W,V,W,H))===ra||(H.exports=N)}).call(this)}).call(this,V(1),V(41)(e))},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.impTag=e,this.iid=this.impTag.iid,i.default.Utils.extend(this,t),this._init()}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(n,[{key:"_init",value:function(){}},{key:"onLoad",value:function(){}},{key:"html",value:function(){}}]),n}();i.default.CreativeTag=a},function(e,t,n){function i(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function b(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function w(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function _(e,t){function n(){var e=r;o(e)&&e.a.parentNode&&t(e.g)}var r=e;i(e.b,n),i(e.c,n),o(e)}function r(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function a(){return null===l&&(l=!!document.fonts),l}function k(e,t){return[e.style,e.weight,function(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}()?e.stretch:"","100px",t].join(" ")}var x,s,u,l;l=u=s=x=null,r.prototype.load=function(e,t){var p=this,v=e||"BESbswy",m=0,g=t||3e3,y=(new Date).getTime();return new Promise(function(d,h){if(a()&&!function(){if(null===s)if(a()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&parseInt(e[1],10)<603}else s=!1;return s}()){var e=new Promise(function(n,e){!function t(){(new Date).getTime()-y>=g?e():document.fonts.load(k(p,'"'+p.family+'"'),v).then(function(e){1<=e.length?n():setTimeout(t,25)},function(){e()})}()}),t=new Promise(function(e,t){m=setTimeout(t,g)});Promise.race([t,e]).then(function(){clearTimeout(m),d(p)},function(){h(p)})}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}(function(){function n(){var e;(e=-1!=a&&-1!=s||-1!=a&&-1!=u||-1!=s&&-1!=u)&&((e=a!=s&&a!=u&&s!=u)||(null===x&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),x=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),e=x&&(a==t&&s==t&&u==t||a==l&&s==l&&u==l||a==c&&s==c&&u==c)),e=!e),e&&(f.parentNode&&f.parentNode.removeChild(f),clearTimeout(m),d(p))}var r=new b(v),i=new b(v),o=new b(v),a=-1,s=-1,u=-1,t=-1,l=-1,c=-1,f=document.createElement("div");f.dir="ltr",w(r,k(p,"sans-serif")),w(i,k(p,"serif")),w(o,k(p,"monospace")),f.appendChild(r.a),f.appendChild(i.a),f.appendChild(o.a),document.body.appendChild(f),t=r.a.offsetWidth,l=i.a.offsetWidth,c=o.a.offsetWidth,function e(){if((new Date).getTime()-y>=g)f.parentNode&&f.parentNode.removeChild(f),h(p);else{var t=document.hidden;!0!==t&&void 0!==t||(a=r.a.offsetWidth,s=i.a.offsetWidth,u=o.a.offsetWidth,n()),m=setTimeout(e,50)}}(),_(r,function(e){a=e,n()}),w(r,k(p,'"'+p.family+'",sans-serif')),_(i,function(e){s=e,n()}),w(i,k(p,'"'+p.family+'",serif')),_(o,function(e){u=e,n()}),w(o,k(p,'"'+p.family+'",monospace'))})})},e.exports=r},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n(3);var c=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}(this,s(r).call(this,e))).settings=e,t.iid=i.default.Utils.generateIID(),t.ad=t.settings.ad,t.responsive=t.settings.responsive,t.vpaid=t.settings.vpaid,i.default.Console.log("Initializing Panel: %o",t.settings);var n=t.responsive?"ResponsiveScreen":"HtmlScreen";return t.screens=t.settings.screens.map(function(e){return e.ad=t.ad,new i.default[n](l(l(t)),e)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,i.default.Module),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(r,[{key:"setup",value:function(){var e,t;null===(e=this._render)||void 0===e||e.call(this),this.ad.canvasMode||(null===(t=this._delegateEvents)||void 0===t||t.call(this));return this._setup()}},{key:"_setup",value:function(){return Promise.resolve(!0)}},{key:"getHomeScreen",value:function(){return this.getScreen("home")}},{key:"getScreen",value:function(t){return this.screens.filter(function(e){return e.iid===t})[0]}},{key:"getTransitionScreens",value:function(){return this.screens.map(function(e){var t,n,r,i,o=null===(t=e.animationSettings)||void 0===t?void 0:null===(n=t.navigation)||void 0===n?void 0:n.toScreen,a=null===(r=e.animationSettings)||void 0===r?void 0:null===(i=r.navigation)||void 0===i?void 0:i.disabled;return o&&"none"!==o&&!a?o:null}).filter(function(e){return!!e})}}]),r}();i.default.AdPanel=c},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n(3);var c=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}(this,s(r).call(this,e,t))).panel=e,i.default.Console.log("Initializing Screen %o from %o",l(l(n)),t),i.default.Utils.extend(l(l(n)),t),n.ad=n.panel.ad,n._initElementContainer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,i.default.Module),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(r,[{key:"getId",value:function(){return this.iid}},{key:"getName",value:function(){return this.name}},{key:"getUniqueTrackingKey",value:function(){return"screen-".concat(this.getTrackingKey())}},{key:"getElement",value:function(e){for(var t=null,n=0;n<this.elements.length;n+=1){var r=this.elements[n];if(r.iid===e){t=r;break}}return t}},{key:"isBusy",value:function(){for(var e=this.getFeatureComponents(),t=0;t<e.length;t+=1){if(e[t].component.isBusy())return!0}return!1}},{key:"load",value:function(){}}]),r}();c.extend(i.default.ElementContainer),i.default.Screen=c},function(e,t,n){(function(e){var t,n;function r(){}(null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).Browser=(r.supportedAndroid=function(e){var t,n,r,i,o;if(t=/Android (\d+(?:\.\d+)?).*;/,r=e.match(t)){if(o=r[1].split("."),n=parseInt(o[0],10),i=o[1]?parseInt(o[1]):0,2===n&&2<i)return!0;if(4<=n)return!0}return!1},r.detect=function(n){var e,t,r,i,o,a,s,u,l;return null==n&&(n=navigator.userAgent),o=null!=(a=n.match(/(ipod|iphone|ipad)/i))&&null!=(s=a[1])?s.toLowerCase():void 0,e=/android/i.test(n),l=(i=function(e){var t;return t=n.match(e),parseFloat(null!=t?t[1]:void 0)||""})(/version\/(\d+(\.\d+)?)/i),t=/chrome.+? edge/i.test(n)?{msedge:!0,version:i(/edge\/(\d+(\.\d+)?)/i)}:/chrome|crmo|spotify|crios/i.test(n)?{chrome:!0,version:i(/(?:chrome|crmo|spotify)\/(\d+(\.\d+)?)/i)}:/firefox/i.test(n)?{firefox:!0,version:i(/(?:firefox)[ \/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(n)?(r={msie:!0,version:u=i(/(?:msie |rv:)(\d+(\.\d+)?)/i)},u<10&&(r.unsupported=!0),r):/phantom/i.test(n)?{phantom:!0}:/safari/i.test(n)&&!/android/i.test(n)?{safari:!0,version:l,unsupported:l<5.2}:void 0,o?(null==t&&(t={}),t.ios=!0,t.iosVersion=l,delete t.unsupported,t.mobile=!0):e&&(null==t&&(t={}),t.android=!0,t.androidVersion=i(/android (\d+(\.\d+)?)/i),t.mobile=!0,this.supportedAndroid(n)||(t.unsupported=!0)),null==t&&(t={unsupported:!0}),t},n=r.detect(),r.supported=function(){return!0},r.isAndroidSupported=function(){return n.android&&this.supportedAndroid(navigator.userAgent)},r.isAndroidGingerbread=function(){return n.android&&2.3<=n.androidVersion&&n.androidVersion<3},r.isAndroidIceCreamSandwich=function(){return n.android&&4<=n.androidVersion&&n.androidVersion<4.1},r.isAndroidJellyBean=function(){return n.android&&4.1<=n.androidVersion&&n.androidVersion<4.4},r.isAndroidLollipop=function(){return n.android&&5<=n.androidVersion&&n.androidVersion<6},r.isAndroid=function(){return n.android},r.isiOS=function(){return n.ios},r.isIE8=function(){return n.msie&&8==+n.version},r.isIE9=function(){return n.msie&&9==+n.version},r.isIE10=function(){return n.msie&&10==+n.version},r.isIE11=function(){return n.msie&&11==+n.version},r.isIE9Below=function(){return n.msie&&+n.version<=9},r.isIE10Below=function(){return n.msie&&+n.version<=10},r.isIE=function(){return n.msie},r.isiOS5=function(){return n.ios&&5==+n.iosVersion},r.isMobile=function(){return n.android||n.ios||/tablet|[^-]mobi/i.test(navigator.userAgent)},r.isChrome=function(){return n.chrome},r.isFirefox=function(){return n.firefox},r.isSafari=function(){return n.safari},r.isPhantom=function(){return n.phantom},r.isWindowsSafari=function(){return/Windows.*AppleWebKit.*Safari/.test(navigator.userAgent)&&!/Chrome|Spotify/.test(navigator.userAgent)},r.supportsFullscreen=function(){return!this.isIE()&&!this.isWindowsSafari()},r.supportsSrcdoc=function(){return!this.isSafari()&&!this.isChrome()},r.supportsLinkOnload=function(){return!(n.android&&!n.chrome||n.safari&&n.version<6)},r.detectsSrcdoc=function(){return"about:srcdoc"===window.location.href},r)}).call(this,n(1))},function(e,t,n){(function(e){var t;function n(){}(null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).Cookie=(n.createCookie=function(e,t,n){var r,i;return null==n&&(n=24),navigator.cookieEnabled?((r=new Date).setTime(r.getTime()+60*parseInt(n)*60*1e3),i="; expires="+r.toGMTString(),document.cookie=e+"="+t+i+"; path=/"):null},n.readCookie=function(e){var t,n,r,i,o;if(!navigator.cookieEnabled)return null;for(o=e+"=",r=0,i=(n=document.cookie.split(";")).length;r<i;r++)if(" "===(t=n[r])[0]&&(t=t.substring(1,t.length)),0===t.indexOf(o))return t.substring(o.length,t.length);return null},n)}).call(this,n(1))},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(a,null,[{key:"log",value:function(e){if(a.ENABLED&&window.console)if(window.console.log.apply){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=window.console).log.apply(t,[e].concat(r))}else window.console.log(e)}},{key:"debug",value:function(e){if(a.ENABLED&&window.console){for(var t,n,r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(null===(t=window.console.debug)||void 0===t?void 0:t.apply)(n=window.console).debug.apply(n,[e].concat(i));else a.log.apply(a,[e].concat(i))}}},{key:"pad",value:function(e,t){for(var n=e||"";n.length<t;)n+=" ";return n}},{key:"groupCollapsedSupported",value:function(){try{var e,t;return null!=(null===(e=window.console)||void 0===e?void 0:null===(t=e.groupCollapsed)||void 0===t?void 0:t.apply)}catch(e){return!1}}},{key:"group",value:function(e){if(a.ENABLED){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;if(this.groupCollapsedSupported())(i=window.console).groupCollapsed.apply(i,[e].concat(n));else a.log.apply(a,[e].concat(n))}}},{key:"groupEnd",value:function(){var e;a.ENABLED&&(null===(e=window.console)||void 0===e?void 0:e.groupEnd)&&window.console.groupEnd()}}]),a}();a.ENABLED=function(){try{var e;return!!(null===(e=i.default.Cookie)||void 0===e?void 0:e.readCookie("_console_logging"))}catch(e){return!1}}(),i.default.Console=a},function(e,t,n){"use strict";var s,u,a=[].slice;function r(){}u=null!=window.spongecell?window.spongecell:window.spongecell={},s=null!=u.requestMap?u.requestMap:u.requestMap={},u.Net=(r.getParentLocation=function(e,t){return null==t&&(t=0),"about:"===e.location.protocol&&e.parent&&t<5?this.getParentLocation(e.parent,t+1):e.location},r.isSSL=function(){var e;return!(location.host&&(0<=location.host.indexOf("localhost")||0<=location.host.indexOf("127.0.0.1"))||"https:"!==(null!=(e=this.getParentLocation(window))?e.protocol:void 0))},r.isHttp=function(e){return!!/^https?\:\/\//i.test(e)},r.isHttpEncoded=function(e){return/^https?\%3a\%2f\%2f/i.test(e)},r.encode=function(e){return e?encodeURIComponent(e):null},r.writeRequest=function(n){var r;return r=this,new Promise(function(e,t){return u.Browser.isIE9Below()?r.writeScript(n,e,t):r.ajax(n,e,t)})},r.writeScript=function(e,t,n,r,i){var o,a;if(null==i&&(i=null),i=null!=i?i:document,this.isSSL()&&(e=e.replace(/^http:\/\//,"https://")),null!=t){if(e+=0<e.indexOf("?")?"&":"?",s[e])return this.nestCallbackFn(s[e],t);e+="callback="+(s[e]=u.Broker.registerCallbackFn(t))}return(a=i.createElement("script")).defer=a.async=!0,a.src=e,null!=n&&(a.onload=n),a.onerror=null!=r?r:null!=n?n:void 0,(null!=(o=u.Browser)?o.isIE8():void 0)&&(a.onreadystatechange=function(){if("loaded"===this.readyState)return n()}),i.getElementsByTagName("head")[0].appendChild(a)},r.ajax=function(e,n,r,t,i,o,a){var s,u,l,c;if(null==t&&(t=!1),null==i&&(i={}),null==a&&(a=!0),null==o&&(o="function"==typeof(s="undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest?XMLHttpRequest:ActiveXObject)?new s("MSXML2.XMLHTTP.3.0"):void 0),!o)return this.writeScript.apply(this,arguments);if(l=setTimeout(function(){return o.abort(),r({error:"AJAX request timed out"})},2e3),o.withCredentials=a,o.onreadystatechange=function(){var e,t;if(!(o.readyState<4)){clearTimeout(l);try{e=JSON.parse(o.responseText)}catch(e){return r({error:e})}switch(t=o.status){case 200:return n(e,o);default:return r({error:"AJAX request responded with a "+t})}}},o.open("GET",e,!0),o.setRequestHeader){for(u in i)c=i[u],o.setRequestHeader(u,c);t&&o.setRequestHeader("X-Requested-With","XMLHttpRequest")}return o.send(""),o},r.ajaxWithoutCredentials=function(e,t,n){return this.ajax(e,t,n,!1,{},void 0,!1)},r.getParam=function(e,t,n){var r;return null==n&&(n="&"),null!=(r=this.getParams(t,n)[e])?r:""},r.getParams=function(e,t){var n,r,i,o,a;for(o={},n=0,i=(a=e.split(t)).length;n<i;n++)2===(r=a[n].split("=")).length&&(o[r[0]]=r[1]);return o},r.appendQueryParamsToUrl=function(){var e,t,n,r,i,o;for(o=arguments[0],e=0,t=(r=2<=arguments.length?a.call(arguments,1):[]).length;e<t;e++)0!==(null!=(n=r[e])?n.length:void 0)&&(n=n.replace(/^[?&]*(.*?)&?$/,"$1"),i=-1<o.indexOf("?")?"&":"?",o+=i+n);return o},r.nestCallbackFn=function(e,r){var t,i;return t=e.split(".").pop(),i=u.callbacks[t],u.callbacks[t]=function(){var e,t,n;for(t in e=[],arguments)n=arguments[t],e[t]="object"==typeof n?u.Utils.extend({},n):n;i.apply(null,arguments),r.apply(null,e)}},r.scrubTargeting=function(e,t){var n;return"ysa"===e&&(n=decodeURIComponent(t).match(/yud=(.*)/))?n[1]:t},r.loadImage=function(r){return new Promise(function(e,t){var n;if(null==t&&(t=function(){}),!r)return e();(n=new Image).src=r,n.addEventListener("load",e),n.addEventListener("error",t)})},r)},function(e,t,n){"use strict";(function(e){var t,l,n,s=[].slice;function r(){}t="undefined"!=typeof window&&null!==window?window:e,(l=null!=t.spongecell?t.spongecell:t.spongecell={}).Utils=(n=new RegExp('^(http|https)://[^ "]+$'),r.intervals={},r.extend=function(e){var t,n,r,i,o,a;if(1<arguments.length)for(r=0,i=(t=Array.prototype.slice.call(arguments,1,arguments.length)).length;r<i;r++)if("object"==typeof(o=t[r]))for(n in o)a=o[n],e[n]=a;return e},r.generateIID=function(){return"xxxx-xxxx-Axxx-xxxx".replace(/x/g,function(e){return new Number(36*Math.random()|0).toString(36)})},r.generateElementIID=function(){return"xxxxxxxx".replace(/x/g,function(e){return new Number(36*Math.random()|0).toString(36)})},r.getUrl=function(e){return l.Utils.isString(e)?e:l.Utils.isObject(e)?l.Net.isSSL()?null!=e?e.ssl:void 0:null!=e?e.no_ssl:void 0:void 0},r.convertUrls=function(e,t){var n,r,i,o,a,s,u;if(t){for(o=[],r=0,i=t.length;r<i;r++)null!=(s=e[n=t[r]])?o.push(e[n]=l.Utils.getUrl(s)):o.push(void 0);return o}for(n in a=[],e)null!=(u=e[n])?a.push(e[n]=l.Utils.getUrl(u)):a.push(void 0);return a},r.toQueryString=function(e){var t,n,r;if(n=[],null!=e)for(t in e)r=e[t],n.push(t+"="+r);return n.join("&")},r.toCamelCase=function(e){return e.toLowerCase().replace(/_(.)/g,function(e,t){return t.toUpperCase()})},r.toDashCase=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},r.isFunction=function(e){return"function"==typeof e},r.isObject=function(e){return"object"==typeof e},r.isString=function(e){return"string"==typeof e},r.compact=function(e){var t,n,r,i;for(null==e&&(e=[]),t=[],n=0,r=e.length;n<r;n++)(i=e[n])&&t.push(i);return t},r.shuffle=function(e){var t,n,r;for(t=e.length;0<--t;)r=e[n=~~(Math.random()*(t+1))],e[n]=e[t],e[t]=r;return e},r.random=function(e){return null==e&&(e=1e9),Math.floor(Math.random()*e)},r.keys=function(e){var t,n;for(t in n=[],e)e[t],e.hasOwnProperty(t)&&n.push(t);return n},r.include=function(e,t){return-1!==e.join("|").indexOf(t)},r.isUrl=function(e){return n.test(e)},r.debounce=function(r,i,o){var a;return a=null,function(){var e,t,n;return e=1<=arguments.length?s.call(arguments,0):[],n=this,t=function(){return o||r.apply(n,e),a=null},a?clearTimeout(a):o&&r.apply(n,e),a=setTimeout(t,i||100)}},r.setInterval=function(e,t,n){var r,i,o,a,s,u;return i=this.random(),o=this,s=n,u=i,r=function(){if(o.intervals[u])return!1;if(void 0===s||0<s--){setTimeout(r,a);try{e.call(null)}catch(e){throw s=0,e.toString()}}},setTimeout(r,a=t),i},r.clearInterval=function(e){return this.intervals[e]=1},r)}).call(this,n(1))},function(e,t,n){(function(e){var t,d;function n(){}t="undefined"!=typeof window&&null!==window?window:e,(d=null!=t.spongecell?t.spongecell:t.spongecell={}).Expansion=(n.getWindow=function(){var e;return this.allowedAccessToTop()?null!=t&&null!=(e=t.top)?e:window:null!=t?t:window},n.getDocument=function(e){return null==e&&(e="expandable"),this.inIframe()&&"overlay"!==e?t.document:this.getWindow().document},n.documentDimensions=function(){var e,t;return d.Browser.isMobile()?{height:screen.height,width:screen.width}:(e=this.getDocument(),{height:(t=this.getWindow()).innerHeight||e.documentElement.clientHeight||e.body.clientHeight,width:t.innerWidth||e.documentElement.clientWidth||e.body.clientWidth})},n.inIframe=function(){try{return t!==top}catch(e){return!0}},n.inFriendlyIframes=function(){try{t.top.window.whatever}catch(e){return!1}return!0},n.allowedAccessToTop=function(){return!(this.inIframe()&&!this.inFriendlyIframes()||(d.Console.log("allowed access to parent window"),0))},n.fixedPositionSupported=function(){var e,t,n,r;return r=!(n=1),(e=(t=this.getDocument()).createElement("div")).style.position="fixed",e.style.top="0px",e.style.right="0px",t.body.appendChild(e),"number"==typeof e.offsetTop&&null!==e.offsetTop&&"undefined"!==e.offsetTop&&(n=parseInt(e.offsetTop)),0===n&&(r=!0),e.parentNode.removeChild(e),r},n.panelLargerThanWindow=function(e){var t,n,r;return t=(r=this.getWindow()).innerHeight?r.document.documentElement.clientHeight:r.document.body.scrollHeight,n=r.innerWidth?r.document.documentElement.clientWidth:r.document.body.scrollWidth,t<e.height||n<e.width},n.calcPositions=function(e,t){return t.x||t.y?this.calcAbsolutePositions(e,t):this.fixedPositionSupported()?this.calcFixedPositions(e):this.calcAbsolutePositions(e)},n.calcFixedPositions=function(e){var t,n,r,i,o,a,s,u;return this.getDocument(),this.getWindow(),r=e.height,a=e.width,t=this.documentDimensions().height,n=this.documentDimensions().width,o=(t-r)/2-1,u=this.panelLargerThanWindow(e)||o<0?0:o,s=(i=(n-a)/2-1)<0?0:i,d.Browser.isMobile()?["absolute",0,0]:["fixed",Math.round(s),Math.round(u)]},n.calcAbsolutePositions=function(e,t){var n,r,i,o,a,s,u,l,c,f;return null==t&&(t={}),this.getDocument(),this.getWindow(),i=e.height,l=e.width,t.x=t.x?parseInt(t.x):0,t.y=t.y?parseInt(t.y):0,n=this.documentDimensions().height,r=this.documentDimensions().width,s=(u=this.scrollPositions())[0],a=u[1]+(n-i)/2-1,f=this.panelLargerThanWindow(e)||a<0?0:a,c=(o=s+(r-l)/2-1)<0?0:o,d.Browser.isMobile()?["absolute",0,0]:["absolute",Math.round(c+t.x),Math.round(f+t.y)]},n.scrollPositions=function(){var e,t,n;return t=this.getDocument(),n=this.getWindow(),e=t.body,"number"==typeof n.pageYOffset?[n.pageXOffset,n.pageYOffset]:e&&(e.scrollLeft||e.scrollTop)?[e.scrollLeft,e.scrollTop]:t.documentElement&&(t.documentElement.scrollLeft||t.documentElement.scrollTop)?[t.documentElement.scrollLeft,t.documentElement.scrollTop]:[0,0]},n.safeFrameExpansionParams=function(e){var t,n,r,i,o,a,s,u,l,c,f,d;if(r=e.coords,u=e.initialDims,a=e.expansionDims,i=e.direction,s={push:"push"===(f=e.type)&&$sf.ext.supports()["exp-push"]},"overlay"===f)d=r.win,o=r.exp,l=(d.w-a.width)/2,c=(d.h-a.height)/2,r.self,t=o.l>l?l-o.l:o.l-l,n=o.t>c?c-o.t:o.t-c,s.l=-1*t,s.r=+o.l-s.l+a.width-(+o.l+u.width),s.t=-1*n,s.b=+o.t-s.t+a.height-(+o.t+u.height);else switch(null==i&&(i="down"),i){case"left":s.l=a.width-u.width,a.height>=u.height?s.t=u.height-a.height:s.t=a.height-u.height;break;case"right":s.r=a.width-u.width,a.height>=u.height?s.t=u.height-a.height:s.t=a.height-u.height;break;case"up":s.t=u.height-a.height,a.width>=u.width?s.l=u.width-a.width:s.l=a.width-u.width;break;case"down":s.b=a.height-u.height,a.width>=u.width?s.l=u.width-a.width:s.l=a.width-u.width}return s},n)}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var t;function n(){}(null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).Engagement=(n.wrapperHtml=function(e){var t,n;return t=e.id,null==(n=e.zIndex)&&(n=5),'<div class="outer-wrapper" '+(t?"id="+t:"")+'\n  style="position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: '+n+';">\n</div>'},n.removeWrappers=function(e){var t,n,r,i,o,a;for(null==e&&(e=null),e?n=[document.getElementById(e)]:null==n&&(n=document.querySelectorAll(".outer-wrapper")),a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(null!=t&&null!=(o=t.parentNode)?o.removeChild(t):void 0);return a},n.onHover=function(i,e){var o,a,s,u,l,c,t,f,d,h,p,v;return u=(t=null!=e?e:{}).node,f=t.repeatInterval,u||(this.topOnHoverCallback=i,null==u&&(u=document.querySelectorAll(".wrapper")[0])),p=function(e){return o=e.pageX,a=e.pageY},c=l=h=a=o=null,d=function(e){return l=o,c=a,h=setTimeout(function(){return s(e)},200)},v=this,s=function(e){var t,n,r;return n=s.prev,null==o||null==a||null==l||null==c?d(e):(t=Math.abs(o-l)+Math.abs(a-c),r=null==n&&0===t,t<32&&!r?(null!=v.topOnHoverCallback&&(v.topOnHoverCallback(),v.topOnHoverCallback=null),u.removeEventListener("mousemove",p),i!==v.topOnHoverCallback&&(i(),s.prev=null),null!=f?h=setTimeout(function(){return s(e)},f):void 0):(s.prev=r?null:t,d(e)))},u.addEventListener("mouseenter",function(e){return l=e.pageX,c=e.pageY,u.addEventListener("mousemove",p),h=setTimeout(function(){return s(e)},200)}),u.addEventListener("mouseleave",function(e){return u.removeEventListener("mousemove",p),o=a=null,clearTimeout(h)})},n)}).call(this,n(1))},function(e,t,n){(function(e){var t,i,n;function r(){}t="undefined"!=typeof window&&null!==window?window:e,(i=null!=t.spongecell?t.spongecell:t.spongecell={}).Event=(r.onLoad=function(e){if(!document||"complete"!==document.readyState&&"interactive"!==document.readyState)return void 0!==document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):void 0!==window.addEventListener?window.addEventListener("DOMContentLoaded",e,!1):void 0!==window.attachEvent?window.attachEvent("onload",e):void 0;setTimeout(function(){return e()},1)},r.on=function(e,t,n){return void 0!==document.addEventListener?e.addEventListener(t,n,!1):void 0!==document.attachEvent?e.attachEvent("on"+t,n):void 0},r.addMessageListener=function(e,t){return null==t&&(t=window),null!=t.addEventListener?t.addEventListener("message",n(e),!1):null!=t.attachEvent?t.attachEvent("onmessage",n(e)):void 0},n=function(r){return function(e){var t,n;if("mocha-zero-timeout"!==e.data)try{t=JSON.parse(e.data)}catch(e){return n=e,void i.Console.debug("Iframe parse error: %o",n)}return r(t,e)}},r)}).call(this,n(1))},function(e,t,n){"use strict";var r,u=(r=n(0))&&r.__esModule?r:{default:r};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=u.default.brokerChannels||(u.default.brokerChannels={}),o=u.default.brokerClients||(u.default.brokerClients={}),a=u.default.brokerChannels||(u.default.brokerChannels={}),s=function(){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(s,null,[{key:"generateId",value:function(){return"".concat(u.default.Utils.random(1e5),"_").concat(+new Date)}},{key:"putFn",value:function(e,t){a[e]=t}},{key:"externFn",value:function(t){var e="call".concat(t);return u.default.callbacks=u.default.callbacks||{},u.default.callbacks[e]=function(e){return a[t](e)},"spongecell.callbacks.".concat(e)}},{key:"registerCallbackFn",value:function(e){var n=s.generateId();return s.putFn(n,function(){e.apply(void 0,arguments);var t=u.default.requestMap;Object.keys(t).forEach(function(e){-1<t[e].indexOf(n)&&delete t[e]})}),s.externFn(n)}},{key:"getChannel",value:function(e){switch(e){case"feature":return"FeatureChannel";case"hooks":return"HooksChannel";case"loading":return"LoadingChannel";case"mraid":return"MRAIDChannel";case"nav":return"NavChannel";case"panel":return"PanelChannel";case"setup":return"SetupChannel";case"tracking":return"TrackingChannel";case"vpaid":return"VPAIDChannel";case"externalPage":return"ExternalPageChannel";default:return null}}},{key:"registerChannels",value:function(r,i,o){u.default.Console.group("Registering Channels for %s, %o",r,i);var a={};return Object.keys(i).forEach(function(e){var t=i[e],n=s.getChannel(e);null!=n&&null!=u.default[n]&&(u.default.Console.debug("Initializing Channel: %s with %o",e,t),a[e]=o.factory(n,r,t,o))}),l[r]=a,Object.keys(a).forEach(function(e){var t=a[e];u.default.Console.debug("Starting Channel: %s",e),t.start()}),u.default.Console.groupEnd(),a}},{key:"channelExists",value:function(e,t){return l[e]&&l[e][t]}},{key:"registerClient",value:function(e,t){o[e]=o[e]||[],o[e].push(t)}},{key:"clientRegistered",value:function(e){var t;return 0<(null===(t=o[e])||void 0===t?void 0:t.length)}},{key:"sendOnChannel",value:function(t,e){var n;if(t.iid&&(n=l[t.iid]),null!=n){var r=n[t.topic];null!=r&&r.send(t,e)}var i=o[t.topic];null!=i&&i.forEach(function(e){return e(t)})}}]),s}();u.default.Broker=s},function(e,t,n){"use strict";var r,o=(r=n(0))&&r.__esModule?r:{default:r};function a(e,t,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.create}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"create",value:function(t){for(var e="".concat(t).concat("Ft"),n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];try{return a(o.default[e],r)}catch(e){return a(o.default[t],r)}}}]),e}();o.default.VendorClassFactory=u},function(e,t,n){"use strict";var r;((r=n(0))&&r.__esModule?r:{default:r}).default.Tracker=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},function(e,t,n){"use strict";var r,a=(r=n(0))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(5);var c=function(){function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=s(this,u(i).call(this,e,t))).params=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,a.default.CreativeTag),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(i,[{key:"checkEnvironment",value:function(e){return!!this.checkBrowser()||!(e.nohtml5=!0)}},{key:"checkBrowser",value:function(){return this.platform=a.default.Browser.isMobile()?"mobile":"desktop",a.default.Browser.supported()}},{key:"sendMessage",value:function(){this._sendMessage.apply(this,arguments)}},{key:"_setupMRAIDDimensions",value:function(){var e,t,n=null===(e=window.mraid)||void 0===e?void 0:null===(t=e.getMaxSize)||void 0===t?void 0:t.call(e);n&&(this.size=this.size||{},this.size.width=n.width,this.size.height=n.height)}},{key:"_receiveMessage",value:function(e,t){function n(t,n){return function(e){return r._sendMessage({topic:t.topic,callback:t.callback,response:e,override:n})}}var r=this;if("OVERRIDE"===e.iid)this.mangled_vpaid=!0,e.iid=this.iid,a.default.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,e),a.default.Broker.sendOnChannel(e,n(e,"OVERRIDE"));else if(this.iid===e.iid){e.iid=this.iid,a.default.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,e);var i=0===t.origin.indexOf("http://localhost"),o=t.origin.match(/(\.|\/)spongecell\.com/);(this.mangled_vpaid||t.origin===this.iframeBaseUrl||i||o)&&a.default.Broker.sendOnChannel(e,n(e))}}}]),i}();a.default.StudioTag=c},function(e,t,n){n(22),n(27),n(28),n(29),n(30),n(32),n(34),n(36),n(39),n(42),n(44),n(46),n(53),n(55),n(57),n(59),n(6),n(61),n(63),n(68),n(69),n(70),n(71),n(73),n(74),n(75),e.exports=n(76)},function(t,e,n){(function(e){t.exports=e.Promise=n(23)}).call(this,n(1))},function(f,e,t){(function(t){function r(){}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(r.promise,e)}a(r.promise,t)}else(1===n._state?a:s)(r.promise,n._value)})):n._deferreds.push(r)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var e,n;e=this,n=setTimeout,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new l(e,t,n)),n},o.all=function(e){var s=Array.prototype.slice.call(e);return new o(function(r,i){if(0===s.length)return r([]);var o=s.length;function a(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},i)}s[t]=e,0==--o&&r(s)}catch(e){i(e)}}for(var e=0;e<s.length;e++)a(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(i){return new o(function(e,t){for(var n=0,r=i.length;n<r;n++)i[n].then(e,t)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},f.exports?f.exports=o:e.Promise||(e.Promise=o)}).call(this,t(24).setImmediate)},function(e,i,o){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}i.setTimeout=function(){return new r(n.call(setTimeout,t,arguments),clearTimeout)},i.setInterval=function(){return new r(n.call(setInterval,t,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(t,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(25),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(1))},function(e,t,n){(function(e,p){!function(n,r){"use strict";if(!n.setImmediate){var i,o,t,a,s=1,u={},l=!1,c=n.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(n);e=e&&e.setTimeout?e:n,i="[object process]"==={}.toString.call(n.process)?function(e){p.nextTick(function(){d(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(a="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",h,!1):n.attachEvent("onmessage",h),function(e){n.postMessage(a+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){t.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(o=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):function(e){setTimeout(d,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[s]=r,i(s),s++},e.clearImmediate=f}function f(e){delete u[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{f(e),l=!1}}}}function h(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(26))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(sja,tja){var vja,wja,xja,yja,Vja,Wja,zja,Aja,Bja,Cja,Dja,Eja,Fja,Gja,Hja,Ija,Jja,Kja,Lja,Nja,Oja,Pja,Qja,Rja,Sja,Tja,Uja,Xja,Yja,Zja,Sta,uja=(Aja=(zja=[]).slice,Bja=zja.filter,Cja=window.document,Dja={},Eja={},Fja={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Gja=/^\s*<(\w+|!)[^>]*>/,Hja=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ija=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jja=/^(?:body|html)$/i,Kja=/([A-Z])/g,Lja=["val","css","html","text","data","width","height","offset"],Nja=Cja.createElement("table"),Oja=Cja.createElement("tr"),Pja={tr:Cja.createElement("tbody"),tbody:Nja,thead:Nja,tfoot:Nja,td:Oja,th:Oja,"*":Cja.createElement("div")},Qja=/complete|loaded|interactive/,Rja=/^[\w-]*$/,Tja=(Sja={}).toString,Uja={},Xja=Cja.createElement("div"),Yja={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Zja=Array.isArray||function(e){return e instanceof Array},Uja.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=Xja).appendChild(e),r=~Uja.qsa(i,t).indexOf(e),o&&Xja.removeChild(e),r},Vja=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},Wja=function(n){return Bja.call(n,function(e,t){return n.indexOf(e)==t})},Uja.fragment=function(e,t,n){var r,i,o;return Hja.test(e)&&(r=xja(Cja.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(Ija,"<$1></$2>")),t===vja&&(t=Gja.test(e)&&RegExp.$1),t in Pja||(t="*"),(o=Pja[t]).innerHTML=""+e,r=xja.each(Aja.call(o.childNodes),function(){o.removeChild(this)})),dka(n)&&(i=xja(r),xja.each(n,function(e,t){-1<Lja.indexOf(e)?i[e](t):i.attr(e,t)})),r},Uja.Z=function(e,t){return(e=e||[]).__proto__=xja.fn,e.selector=t||"",e},Uja.isZ=function(e){return e instanceof Uja.Z},Uja.init=function(e,t){var n;if(!e)return Uja.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&Gja.test(e))n=Uja.fragment(e,RegExp.$1,t),e=null;else{if(t!==vja)return xja(t).find(e);n=Uja.qsa(Cja,e)}else{if(_ja(e))return xja(Cja).ready(e);if(Uja.isZ(e))return e;if(Zja(e))n=function(e){return Bja.call(e,function(e){return null!=e})}(e);else if(cka(e))n=[e],e=null;else if(Gja.test(e))n=Uja.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==vja)return xja(t).find(e);n=Uja.qsa(Cja,e)}}return Uja.Z(n,e)},(xja=function(e,t){return Uja.init(e,t)}).extend=function(t){var n,e=Aja.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,r){for(wja in n)r&&(dka(n[wja])||Zja(n[wja]))?(dka(n[wja])&&!dka(t[wja])&&(t[wja]={}),Zja(n[wja])&&!Zja(t[wja])&&(t[wja]=[]),e(t[wja],n[wja],r)):n[wja]!==vja&&(t[wja]=n[wja])}(t,e,n)}),t},Uja.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,a=Rja.test(o);return bka(e)&&a&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:Aja.call(a&&!r?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},xja.contains=Cja.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t&&t.parentNode;)if(t===e)return!0;return!1},xja.type=$ja,xja.isFunction=_ja,xja.isWindow=aka,xja.isArray=Zja,xja.isPlainObject=dka,xja.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},xja.inArray=function(e,t,n){return zja.indexOf.call(t,e,n)},xja.camelCase=Vja,xja.trim=function(e){return null==e?"":String.prototype.trim.call(e)},xja.uuid=0,xja.support={},xja.expr={},xja.map=function(e,t){var n,r,i,o=[];if(eka(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&o.push(n);else for(i in e)null!=(n=t(e[i],i))&&o.push(n);return function(e){return 0<e.length?xja.fn.concat.apply([],e):e}(o)},xja.each=function(e,t){var n,r;if(eka(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},xja.grep=function(e,t){return Bja.call(e,t)},window.JSON&&(xja.parseJSON=JSON.parse),xja.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Sja["[object "+t+"]"]=t.toLowerCase()}),xja.fn={forEach:zja.forEach,reduce:zja.reduce,push:zja.push,sort:zja.sort,indexOf:zja.indexOf,concat:zja.concat,map:function(n){return xja(xja.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return xja(Aja.apply(this,arguments))},ready:function(e){return Qja.test(Cja.readyState)&&Cja.body?e(xja):Cja.addEventListener("DOMContentLoaded",function(){e(xja)},!1),this},get:function(e){return e===vja?Aja.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return zja.every.call(this,function(e,t){return!1!==n.call(e,t,e)}),this},filter:function(t){return _ja(t)?this.not(this.not(t)):xja(Bja.call(this,function(e){return Uja.matches(e,t)}))},add:function(e,t){return xja(Wja(this.concat(xja(e,t))))},is:function(e){return 0<this.length&&Uja.matches(this[0],e)},not:function(t){var n=[];if(_ja(t)&&t.call!==vja)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):eka(t)&&_ja(t.item)?Aja.call(t):xja(t);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return xja(n)},has:function(e){return this.filter(function(){return cka(e)?xja.contains(this,e):xja(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!cka(e)?e:xja(e)},last:function(){var e=this[this.length-1];return e&&!cka(e)?e:xja(e)},find:function(e){var n=this;return e?"object"==typeof e?xja(e).filter(function(){var t=this;return zja.some.call(n,function(e){return xja.contains(e,t)})}):1==this.length?xja(Uja.qsa(this[0],e)):this.map(function(){return Uja.qsa(this,e)}):xja()},closest:function(n,r){var i=[],o="object"==typeof n&&xja(n);return this.each(function(e,t){for(;t&&!(o?0<=o.indexOf(t):Uja.matches(t,n));)t=t!==r&&!bka(t)&&t.parentNode;t&&i.indexOf(t)<0&&i.push(t)}),xja(i)},parents:function(e){for(var t=[],n=this;0<n.length;)n=xja.map(n,function(e){if((e=e.parentNode)&&!bka(e)&&t.indexOf(e)<0)return t.push(e),e});return nka(t,e)},parent:function(e){return nka(Wja(this.pluck("parentNode")),e)},children:function(e){return nka(this.map(function(){return lka(this)}),e)},contents:function(){return this.map(function(){return Aja.call(this.childNodes)})},siblings:function(e){return nka(this.map(function(e,t){return Bja.call(lka(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return xja.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=function(e){var t,n;return Dja[e]||(t=Cja.createElement(e),Cja.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),Dja[e]=n),Dja[e]}(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=_ja(t);if(this[0]&&!n)var r=xja(t).get(0),i=r.parentNode||1<this.length;return this.each(function(e){xja(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){var t;for(xja(this[0]).before(e=xja(e));(t=e.children()).length;)e=t.first();xja(e).append(this)}return this},wrapInner:function(i){var o=_ja(i);return this.each(function(e){var t=xja(this),n=t.contents(),r=o?i.call(this,e):i;n.length?n.wrapAll(r):t.append(r)})},unwrap:function(){return this.parent().each(function(){xja(this).replaceWith(xja(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=xja(this);(t===vja?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return xja(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return xja(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;xja(this).empty().append(oka(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(e){var t=oka(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(cka(t))for(wja in t)pka(this,wja,t[wja]);else pka(this,t,oka(this,n,e,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(e=this[0].getAttribute(t))&&t in this[0]?this[0][t]:e:vja},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){pka(this,e)},this)})},prop:function(t,n){return t=Yja[t]||t,1 in arguments?this.each(function(e){this[t]=oka(this,n,e,this[t])}):this[0]&&this[0][t]},data:function(e,t){var n="data-"+e.replace(Kja,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?rka(r):vja},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=oka(this,t,e,this.value)})):this[0]&&(this[0].multiple?xja(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(o){if(o)return this.each(function(e){var t=xja(this),n=oka(this,o,e,t.offset()),r=t.offsetParent().offset(),i={top:n.top-r.top,left:n.left-r.left};"static"==t.css("position")&&(i.position="relative"),t.css(i)});if(!this.length)return null;if(Cja.documentElement!==this[0]&&!xja.contains(Cja.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[Vja(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(Zja(e)){if(!n)return;var r={},i=getComputedStyle(n,"");return xja.each(e,function(e,t){r[t]=n.style[Vja(t)]||i.getPropertyValue(t)}),r}}var o="";if("string"==$ja(e))t||0===t?o=hka(e)+":"+jka(e,t):this.each(function(){this.style.removeProperty(hka(e))});else for(wja in e)e[wja]||0===e[wja]?o+=hka(wja)+":"+jka(wja,e[wja])+";":this.each(function(){this.style.removeProperty(hka(wja))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(xja(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&zja.some.call(this,function(e){return this.test(qka(e))},ika(e))},addClass:function(n){return n?this.each(function(e){if("className"in this){yja=[];var t=qka(this);oka(this,n,e,t).split(/\s+/g).forEach(function(e){xja(this).hasClass(e)||yja.push(e)},this),yja.length&&qka(this,t+(t?" ":"")+yja.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===vja)return qka(this,"");yja=qka(this),oka(this,t,e,yja).split(/\s+/g).forEach(function(e){yja=yja.replace(ika(e)," ")}),qka(this,yja.trim())}})},toggleClass:function(n,r){return n?this.each(function(e){var t=xja(this);oka(this,n,e,qka(this)).split(/\s+/g).forEach(function(e){(r===vja?!t.hasClass(e):r)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===vja?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===vja?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=Jja.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(xja(e).css("margin-top"))||0,n.left-=parseFloat(xja(e).css("margin-left"))||0,r.top+=parseFloat(xja(t[0]).css("border-top-width"))||0,r.left+=parseFloat(xja(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Cja.body;e&&!Jja.test(e.nodeName)&&"static"==xja(e).css("position");)e=e.offsetParent;return e})}},xja.fn.detach=xja.fn.remove,["width","height"].forEach(function(r){var i=r.replace(/./,function(e){return e[0].toUpperCase()});xja.fn[r]=function(t){var e,n=this[0];return t===vja?aka(n)?n["inner"+i]:bka(n)?n.documentElement["scroll"+i]:(e=this.offset())&&e[r]:this.each(function(e){(n=xja(this)).css(r,oka(this,t,e,n[r]()))})}}),["after","prepend","before","append"].forEach(function(t,a){var s=a%2;xja.fn[t]=function(){var n,r,i=xja.map(arguments,function(e){var t=[];return"array"==(n=$ja(e))?(e.forEach(function(e){return e.nodeType!==vja?t.push(e):xja.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(Uja.fragment(e)))}),t):"object"==n||null==e?e:Uja.fragment(e)}),o=1<this.length;return i.length<1?this:this.each(function(e,t){r=s?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var n=xja.contains(Cja.documentElement,r);i.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!r)return xja(e).remove();r.insertBefore(e,t),n&&function e(t,n){n(t);for(var r=0,i=t.childNodes.length;r<i;r++)e(t.childNodes[r],n)}(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:window;t.eval.call(t,e.innerHTML)}})})})},xja.fn[s?t+"To":"insert"+(a?"Before":"After")]=function(e){return xja(e)[t](this),this}}),Uja.Z.prototype=xja.fn,Uja.uniq=Wja,Uja.deserializeValue=rka,xja.zepto=Uja,xja);function $ja(e){return null==e?String(e):Sja[Tja.call(e)]||"object"}function _ja(e){return"function"==$ja(e)}function aka(e){return null!=e&&e==e.window}function bka(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function cka(e){return"object"==$ja(e)}function dka(e){return cka(e)&&!aka(e)&&Object.getPrototypeOf(e)==Object.prototype}function eka(e){var t=!!e&&"length"in e&&e.length,n=xja.type(e);return"function"!=n&&!aka(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function hka(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function ika(e){return e in Eja?Eja[e]:Eja[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function jka(e,t){return"number"!=typeof t||Fja[hka(e)]?t:t+"px"}function lka(e){return"children"in e?Aja.call(e.children):xja.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function nka(e,t){return null==t?xja(e):xja(e).filter(t)}function oka(e,t,n,r){return _ja(t)?t.call(e,n,r):t}function pka(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function qka(e,t){var n=e.className||"",r=n&&n.baseVal!==vja;if(t===vja)return r?n.baseVal:n;r?n.baseVal=t:e.className=t}function rka(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?xja.parseJSON(t):t):t}catch(e){return t}}window.Zepto=uja,void 0===window.$&&(window.$=uja),function(c){function l(e){return"string"==typeof e}var f,t=1,d=Array.prototype.slice,h=c.isFunction,p={},o={},n="onfocusin"in window,r={focus:"focusin",blur:"focusout"},v={mouseenter:"mouseover",mouseleave:"mouseout"};function m(e){return e._zid||(e._zid=t++)}function a(e,t,n,r){if((t=g(t)).ns)var i=function(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}(t.ns);return(p[m(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||m(e.fn)===m(n))&&(!r||e.sel==r)})}function g(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function y(e,t){return e.del&&!n&&e.e in r||!!t}function b(e){return v[e]||n&&r[e]||e}function w(i,e,t,o,a,s,u){var n=m(i),l=p[n]||(p[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return c(document).ready(t);var n=g(e);n.fn=t,n.sel=a,n.e in v&&(t=function(e){var t=e.relatedTarget;if(!t||t!==this&&!c.contains(this,t))return n.fn.apply(this,arguments)});var r=(n.del=s)||t;n.proxy=function(e){if(!(e=x(e)).isImmediatePropagationStopped()){e.data=o;var t=r.apply(i,e._args==f?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=l.length,l.push(n),"addEventListener"in i&&i.addEventListener(b(n.e),n.proxy,y(n,u))})}function _(t,e,n,r,i){var o=m(t);(e||"").split(/\s/).forEach(function(e){a(t,e,n,r).forEach(function(e){delete p[o][e.i],"removeEventListener"in t&&t.removeEventListener(b(e.e),e.proxy,y(e,i))})})}o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",c.event={add:w,remove:_},c.proxy=function(e,t){var n=2 in arguments&&d.call(arguments,2);if(h(e)){function r(){return e.apply(t,n?n.concat(d.call(arguments)):arguments)}return r._zid=m(e),r}if(l(t))return n?(n.unshift(e[t],e),c.proxy.apply(null,n)):c.proxy(e[t],e);throw new TypeError("expected function")},c.fn.bind=function(e,t,n){return this.on(e,t,n)},c.fn.unbind=function(e,t){return this.off(e,t)},c.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var s=function(){return!0},k=function(){return!1},i=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function x(r,i){return!i&&r.isDefaultPrevented||(i=i||r,c.each(e,function(e,t){var n=i[e];r[e]=function(){return this[t]=s,n&&n.apply(i,arguments)},r[t]=k}),r.timeStamp||(r.timeStamp=Date.now()),(i.defaultPrevented!==f?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(r.isDefaultPrevented=s)),r}function S(e){var t,n={originalEvent:e};for(t in e)i.test(t)||e[t]===f||(n[t]=e[t]);return x(n,e)}c.fn.delegate=function(e,t,n){return this.on(t,e,n)},c.fn.undelegate=function(e,t,n){return this.off(t,e,n)},c.fn.live=function(e,t){return c(document.body).delegate(this.selector,e,t),this},c.fn.die=function(e,t){return c(document.body).undelegate(this.selector,e,t),this},c.fn.on=function(t,i,n,o,a){var s,u,r=this;return t&&!l(t)?(c.each(t,function(e,t){r.on(e,i,n,t,a)}),r):(l(i)||h(o)||!1===o||(o=n,n=i,i=f),o!==f&&!1!==n||(o=n,n=f),!1===o&&(o=k),r.each(function(e,r){a&&(s=function(e){return _(r,e.type,o),o.apply(this,arguments)}),i&&(u=function(e){var t,n=c(e.target).closest(i,r).get(0);if(n&&n!==r)return t=c.extend(S(e),{currentTarget:n,liveFired:r}),(s||o).apply(n,[t].concat(d.call(arguments,1)))}),w(r,t,o,n,i,u||s)}))},c.fn.off=function(e,n,t){var r=this;return e&&!l(e)?(c.each(e,function(e,t){r.off(e,n,t)}),r):(l(n)||h(t)||!1===t||(t=n,n=f),!1===t&&(t=k),r.each(function(){_(this,e,t,n)}))},c.fn.trigger=function(e,t){return(e=l(e)||c.isPlainObject(e)?c.Event(e):x(e))._args=t,this.each(function(){e.type in r&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):c(this).triggerHandler(e,t)})},c.fn.triggerHandler=function(n,r){var i,o;return this.each(function(e,t){(i=S(l(n)?c.Event(n):n))._args=r,i.target=t,c.each(a(t,n.type||n),function(e,t){if(o=t.proxy(i),i.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){c.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),c.Event=function(e,t){l(e)||(e=(t=e).type);var n=document.createEvent(o[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),x(n)}}(uja),function(Era){var Hra,Ira,Fra=+new Date,Gra=window.document,Jra=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Kra=/^(?:text|application)\/javascript/i,Lra=/^(?:text|application)\/xml/i,Mra="application/json",Ora=/^\s*$/,Pra=Gra.createElement("a");function Rra(e,t,n,r){if(e.global)return function(e,t,n){var r=Era.Event(t);return Era(e).trigger(r,n),!r.isDefaultPrevented()}(t||Gra,n,r)}function Ura(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===Rra(t,n,"ajaxBeforeSend",[e,t]))return!1;Rra(t,n,"ajaxSend",[e,t])}function Vra(e,t,n,r){var i=n.context,o="success";n.success.call(i,e,o,t),r&&r.resolveWith(i,[e,o,t]),Rra(n,i,"ajaxSuccess",[t,n,e]),Xra(o,t,n)}function Wra(e,t,n,r,i){var o=r.context;r.error.call(o,n,t,e),i&&i.rejectWith(o,[n,t,e]),Rra(r,o,"ajaxError",[n,r,e||t]),Xra(t,n,r)}function Xra(e,t,n){var r=n.context;n.complete.call(r,t,e),Rra(n,r,"ajaxComplete",[t,n]),function(e){e.global&&!--Era.active&&Rra(e,null,"ajaxStop")}(n)}function Yra(){}function $ra(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function asa(e,t,n,r){return Era.isFunction(t)&&(r=n,n=t,t=void 0),Era.isFunction(n)||(r=n,n=void 0),{url:e,data:t,success:n,dataType:r}}Pra.href=window.location.href,Era.active=0,Era.ajaxJSONP=function(n,r){if(!("type"in n))return Era.ajax(n);function e(e){Era(s).triggerHandler("error",e||"abort")}var i,o,t=n.jsonpCallback,a=(Era.isFunction(t)?t():t)||"Zepto"+Fra++,s=Gra.createElement("script"),u=window[a],l={abort:e};return r&&r.promise(l),Era(s).on("load error",function(e,t){clearTimeout(o),Era(s).off().remove(),"error"!=e.type&&i?Vra(i[0],l,n,r):Wra(null,t||"error",l,n,r),window[a]=u,i&&Era.isFunction(u)&&u(i[0]),u=i=void 0}),!1===Ura(l,n)?e("abort"):(window[a]=function(){i=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+a),Gra.head.appendChild(s),0<n.timeout&&(o=setTimeout(function(){e("timeout")},n.timeout))),l},Era.ajaxSettings={type:"GET",beforeSend:Yra,success:Yra,error:Yra,complete:Yra,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:Mra,xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},Era.ajax=function(Xsa){var $sa,_sa,Ysa=Era.extend({},Xsa||{}),Zsa=Era.Deferred&&Era.Deferred();for(Hra in Era.ajaxSettings)void 0===Ysa[Hra]&&(Ysa[Hra]=Era.ajaxSettings[Hra]);!function(e){e.global&&0==Era.active++&&Rra(e,null,"ajaxStart")}(Ysa),Ysa.crossDomain||(($sa=Gra.createElement("a")).href=Ysa.url,$sa.href=$sa.href,Ysa.crossDomain=Pra.protocol+"//"+Pra.host!=$sa.protocol+"//"+$sa.host),Ysa.url||(Ysa.url=window.location.toString()),-1<(_sa=Ysa.url.indexOf("#"))&&(Ysa.url=Ysa.url.slice(0,_sa)),function(e){e.processData&&e.data&&"string"!=Era.type(e.data)&&(e.data=Era.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=$ra(e.url,e.data),e.data=void 0)}(Ysa);var ata=Ysa.dataType,bta=/\?.+=\?/.test(Ysa.url);if(bta&&(ata="jsonp"),!1!==Ysa.cache&&(Xsa&&!0===Xsa.cache||"script"!=ata&&"jsonp"!=ata)||(Ysa.url=$ra(Ysa.url,"_="+Date.now())),"jsonp"==ata)return bta||(Ysa.url=$ra(Ysa.url,Ysa.jsonp?Ysa.jsonp+"=?":!1===Ysa.jsonp?"":"callback=?")),Era.ajaxJSONP(Ysa,Zsa);function eta(e,t){dta[e.toLowerCase()]=[e,t]}var ita,cta=Ysa.accepts[ata],dta={},fta=/^([\w-]+:)\/\//.test(Ysa.url)?RegExp.$1:window.location.protocol,gta=Ysa.xhr(),hta=gta.setRequestHeader;if(Zsa&&Zsa.promise(gta),Ysa.crossDomain||eta("X-Requested-With","XMLHttpRequest"),eta("Accept",cta||"*/*"),(cta=Ysa.mimeType||cta)&&(-1<cta.indexOf(",")&&(cta=cta.split(",",2)[0]),gta.overrideMimeType&&gta.overrideMimeType(cta)),(Ysa.contentType||!1!==Ysa.contentType&&Ysa.data&&"GET"!=Ysa.type.toUpperCase())&&eta("Content-Type",Ysa.contentType||"application/x-www-form-urlencoded"),Ysa.headers)for(Ira in Ysa.headers)eta(Ira,Ysa.headers[Ira]);if(gta.setRequestHeader=eta,!(gta.onreadystatechange=function(){if(4==gta.readyState){gta.onreadystatechange=Yra,clearTimeout(ita);var mta,nta=!1;if(200<=gta.status&&gta.status<300||304==gta.status||0==gta.status&&"file:"==fta){if(ata=ata||function(e){return(e=e&&e.split(";",2)[0])&&("text/html"==e?"html":e==Mra?"json":Kra.test(e)?"script":Lra.test(e)&&"xml")||"text"}(Ysa.mimeType||gta.getResponseHeader("content-type")),"arraybuffer"==gta.responseType||"blob"==gta.responseType)mta=gta.response;else{mta=gta.responseText;try{"script"==ata?eval(mta):"xml"==ata?mta=gta.responseXML:"json"==ata&&(mta=Ora.test(mta)?null:Era.parseJSON(mta))}catch(e){nta=e}if(nta)return Wra(nta,"parsererror",gta,Ysa,Zsa)}Vra(mta,gta,Ysa,Zsa)}else Wra(gta.statusText||null,gta.status?"error":"abort",gta,Ysa,Zsa)}})===Ura(gta,Ysa))return gta.abort(),Wra(null,"abort",gta,Ysa,Zsa),gta;var jta=!("async"in Ysa)||Ysa.async;if(gta.open(Ysa.type,Ysa.url,jta,Ysa.username,Ysa.password),Ysa.xhrFields)for(Ira in Ysa.xhrFields)gta[Ira]=Ysa.xhrFields[Ira];for(Ira in dta)hta.apply(gta,dta[Ira]);return 0<Ysa.timeout&&(ita=setTimeout(function(){gta.onreadystatechange=Yra,gta.abort(),Wra(null,"timeout",gta,Ysa,Zsa)},Ysa.timeout)),gta.send(Ysa.data?Ysa.data:null),gta},Era.get=function(){return Era.ajax(asa.apply(null,arguments))},Era.post=function(){var e=asa.apply(null,arguments);return e.type="POST",Era.ajax(e)},Era.getJSON=function(){var e=asa.apply(null,arguments);return e.dataType="json",Era.ajax(e)},Era.fn.load=function(e,t,n){if(!this.length)return this;var r,i=this,o=e.split(/\s/),a=asa(e,t,n),s=a.success;return 1<o.length&&(a.url=o[0],r=o[1]),a.success=function(e){i.html(r?Era("<div>").html(e.replace(Jra,"")).find(r):e),s&&s.apply(i,arguments)},Era.ajax(a),this};var bsa=encodeURIComponent;Era.param=function(e,t){var n=[];return n.add=function(e,t){Era.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(bsa(e)+"="+bsa(t))},function n(r,e,i,o){var a,s=Era.isArray(e),u=Era.isPlainObject(e);Era.each(e,function(e,t){a=Era.type(t),o&&(e=i?o:o+"["+(u||"object"==a||"array"==a?e:"")+"]"),!o&&s?r.add(t.name,t.value):"array"==a||!i&&"object"==a?n(r,t,i,e):r.add(e,t)})}(n,e,t),n.join("&").replace(/%20/g,"+")}}(uja),(Sta=uja).fn.serializeArray=function(){var n,r,t=[],i=function(e){if(e.forEach)return e.forEach(i);t.push({name:n,value:e})};return this[0]&&Sta.each(this[0].elements,function(e,t){r=t.type,(n=t.name)&&"fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&"file"!=r&&("radio"!=r&&"checkbox"!=r||t.checked)&&i(Sta(t).val())}),t},Sta.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},Sta.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var t=Sta.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this},function(n){"__proto__"in{}||n.extend(n.zepto,{Z:function(e,t){return e=e||[],n.extend(e,n.fn),e.selector=t||"",e.__Z=!0,e},isZ:function(e){return"array"===n.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var r=getComputedStyle;window.getComputedStyle=function(e,t){try{return r(e,t)}catch(e){return null}}}}(uja)},function(e,t,n){"use strict";var r;(r=Zepto).fn.end=function(){return this.prevObject||r()},r.fn.andSelf=function(){return this.add(this.prevObject||r())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings,contents".split(",").forEach(function(e){var t=r.fn[e];r.fn[e]=function(){var e=t.apply(this,arguments);return e.prevObject=this,e}})},function(e,t,n){"use strict";function r(e,i){return function(t){var n,r;return this?(n=(r=this)[e](),{width:["left","right"],height:["top","bottom"]}[e].forEach(function(e){n+=parseInt(r.css("padding-".concat(e)),10),i&&(n+=parseInt(r.css("border-".concat(e,"-width")),10)),t&&(n+=parseInt(r.css("margin-".concat(e)),10))}),n):null}}var i;i=Zepto,["width","height"].forEach(function(e){var t=e.substr(0,1).toUpperCase()+e.substr(1);i.fn["inner".concat(t)]=r(e,!1),i.fn["outer".concat(t)]=r(e,!0)}),i.prototype=i.fn,window.jQuery=Zepto},function(e,t,n){"use strict";var r,i=(r=n(31))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,null,[{key:"extended",value:function(){var e=l(c(t),"extended",this).call(this);return this.include(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}({},e))}}]),t}();spongecell.PanelContainer=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,w=(r=n(0))&&r.__esModule?r:{default:r};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,null,[{key:"extended",value:function(){return{closedZIndex:1,basePanelZIndex:5,expandedZIndex:5e3,getAnimationLength:function(){return this.expandable.expandInitially&&!this.expandable.hasOpened&&!w.default.Cookie.readCookie(this.adTagId)||this.mraid?1:this.safeFrames&&"overlay"===this.expandable.expansionType?1:this.animationLength},getParentDiv:function(){var e=this.getIframe();return(null==e?void 0:e.length)?e.parent():this.$el.parent()},getIframe:function(){try{return!window.frameElement||this.safeFrames||this.mraid?null:$(window.frameElement)}catch(e){return null}},_sendExpansionMessage:function(){var t=this;this.sendMessage({topic:"nav",action:"setup",openCallback:this.openPanelFn(),closeCallback:this.closePanelFn(),initialDimensions:this._initialDimensions(),expansionDimensions:this._expansionDimensions(),callback:function(e){return t._initPanelType(e)}})},_setupExpansion:function(){this._setupPageDivs(),this.direction=this._setupExpansionDirection();var e=null,t=null;switch(this.direction){case"down":e=0;break;case"up":e=-1*(this.expandable.height-this.basePanel.height);break;case"left":t=-1*(this.expandable.width-this.basePanel.width);break;case"right":t=0}this.mraid&&"overlay"!==this.expandable.expansionType?this.mraidRequest("setResizeProperties",{baseWidth:this.basePanel.width,baseHeight:this.basePanel.height,width:this.expandable.width,height:this.expandable.height,offsetX:t,offsetY:e,allowOffscreen:!1}):this.mraid&&"overlay"===this.expandable.expansionType&&this.mraidRequest("setExpandProperties",{width:window.screen.width,height:window.screen.height})},_initPanelType:function(e){var t,n=e.panelSettings;this.animationLength=e.animationLength?1e3*e.animationLength:750,this.expandable.expansionType=e.expansionType,this.expandable.expandInitially=e.expandInitially,this.expandable.autoOpened=e.autoOpened,this.adTagId=e.adTagId,this.safeFrames=e.safeFrames,this.setupParent="false"!==(null===(t=e.panelSettings)||void 0===t?void 0:t.setupParent),n&&(this.closeOnClickThrough=n.closeOnClickThrough,this.offset={x:n.offsetX,y:n.offsetY},this.expandedZIndex=n.zIndex||this.expandedZIndex,n.animationLength&&(this.animationLength=+n.animationLength),n.expand&&(this.basePanel.overrideDirection=n.expand))},_initialDimensions:function(){return{height:this.basePanel.height,width:this.basePanel.width}},_expansionDimensions:function(){return{height:this.expandable.height,width:this.expandable.width}},_setupPageDivs:function(){var e;if(this.$el.css({overflow:"hidden",position:"relative"}),!this.safeFrames){var t,n,r,i,o=this.getParentDiv();if(this.setupParent)e={margin:"0 auto",position:"relative"},""!==(null===(t=o[0])||void 0===t?void 0:t.style.width)&&(null===(n=o[0])||void 0===n?void 0:n.style.width)||(e.width=this.basePanel.width),""!==(null===(r=o[0])||void 0===r?void 0:r.style.height)&&(null===(i=o[0])||void 0===i?void 0:i.style.height)||(e.height=this.basePanel.height);else e={position:"relative"};if("push"===this.expandable.expansionType)o.css(e),this.getIframe()&&$(this.getIframe()).css({position:"relative"});else if("float"===this.expandable.expansionType){o.css(e);var a=this.mraid||this.safeFrames?"relative":"absolute";if(this.getIframe())$(this.getIframe()).css({position:a});else{var s;this.$el.css({position:a});var u=null==o?void 0:null===(s=o[0])||void 0===s?void 0:s.getBoundingClientRect();(null==u?void 0:u.width)<this.basePanel.width&&o.css({width:this.basePanel.width}),(null==u?void 0:u.height)<this.basePanel.height&&o.css({height:this.basePanel.height})}}}},_getOffset:function(e){var t;if(null===(t=window.$sf)||void 0===t?void 0:t.ext.geom){var n=window.$sf.ext.geom().self;return{left:n.l,top:n.t,bottom:n.b,right:n.r}}return e.getBoundingClientRect()},_autoDetectDirection:function(){var e,t=null===(e=this.getIframe())||void 0===e?void 0:e[0],n=this.$el[0],r=t||n;return this.basePanel.width===this.expandable.width?this._getOffset(r).top>this.expandable.height?"up":"down":this.basePanel.height===this.expandable.height?this._getOffset(r).left>this.expandable.width?"left":"right":"left"},_setupExpansionDirection:function(){var e,t,n,r,i,o=this.basePanel.overrideDirection,a=null===(e=this.basePanel)||void 0===e?void 0:null===(t=e.settings)||void 0===t?void 0:null===(n=t.expansion)||void 0===n?void 0:n.direction;if(o?a="auto"===o?this._autoDetectDirection():o:"auto"===a&&(a=this._autoDetectDirection()),"float"===this.expandable.expansionType)switch(a){case"up":i={bottom:0,left:0};break;case"down":i={top:0,left:0};break;case"left":i={left:"auto",top:0,right:0};break;case"right":i={top:0,left:0,right:"auto"};break;default:w.default.Console.log("No expansion direction specified"),i={top:0,left:0}}else i={top:0,left:0};this.safeFrames&&"left"===a&&(this.$el.find(".spongecell-panel").addClass("expanding-left"),this.$el.css({position:"absolute"}),this.$el.parent().css({width:"100%",height:"100%"})),$.extend(i,(u(r={display:"-webkit-flex"},"display","-ms-flexbox"),u(r,"display","flex"),u(r,"-moz-justify-content","flex-end"),u(r,"-ms-flex-pack","end"),u(r,"-webkit-justify-content","flex-end"),u(r,"justify-content","flex-end"),u(r,"-ms-flex-direction","row"),u(r,"-moz-flex-direction","row"),u(r,"-webkit-flex-direction","row"),u(r,"flex-direction","row"),r));var s=this.getIframe()?$(this.getIframe()):this.$el;return null==s||s.css(i),a},openPanelFn:function(){var e=this;return function(){return e._openElements(e._expansionDimensions())}},closePanelFn:function(){var e=this;return function(){return e._closeElements(e._initialDimensions())}},open:function(){var e=this;if(this.locked||this.opened)return!0;if(this.sendMessage({topic:"nav",action:"open"}),this.mraid){var t="overlay"===this.expandable.expansionType?"expand":"resize";this.mraidRequest(t,{closeCallback:function(){return e.close()}})}},close:function(){if(this.locked)return!0;this.sendMessage({topic:"nav",action:"close"}),this.mraid&&this.mraidRequest("close")},_openElements:function(e){var t;if(null===(t=this.expandable.$el)||void 0===t||t.show(),this.locked=!0,"overlay"!==this.expandable.expansionType||this.mraid||this.safeFrames)if("overlay"===this.expandable.expansionType&&(this.mraid||this.safeFrames)){var n=this.safeFrames?{width:this.expandable.width,height:this.expandable.height}:this.topWindowDimensions();this.everOpened||(this.expandable.responsive&&this.expandable._scalePanel(),this.expandable.setup(this.loading),this.expandable.load(),this.everOpened=!0),this._openExpandable(n)}else this._openExpandable(e);else this._openOverlay(e);return this},_openExpandable:function(t){var n=this;if(this.safeFrames){var e={coords:window.$sf.ext.geom(),initialDims:{width:this.basePanel.width,height:this.basePanel.height},expansionDims:t,direction:this.direction,type:this.expandable.expansionType},r=w.default.Expansion.safeFrameExpansionParams(e);window.$sf.ext.expand(r)}var i=[this.expandable.$el];this.getIframe()&&i.push(this.getIframe()),i.forEach(function(e){e&&e.css("z-index",n.expandedZIndex)}),this.expandable.getHomeScreen().makeVisible(),this.expandable.$el.addClass("expanding");var o=[this.$el];this.getIframe()&&o.push(this.getIframe()),o.forEach(function(e){n._asyncResize(e,function(e){return n._resizeElem(e,t)})}),setTimeout(function(){n.locked=!1,n._openCallback()},this.getAnimationLength()-1)},_openCallback:function(){this.expandable.$el.removeClass("expanding"),this.expandable.openInitialScreen(),this.opened=!0,this.locked=!1},_openOverlay:function(e){this.appendOverlay(e)},_closeElements:function(e){this.expandable.hasOpened=!0,this.locked=!0,"overlay"!==this.expandable.expansionType||this.mraid||this.safeFrames?"overlay"===this.expandable.expansionType&&this.mraid?this._removeExpandable():this._closeExpandable(e):this._closeOverlay()},_closeExpandable:function(t){var n=this,e=[this.$el];this.getIframe()&&e.push(this.getIframe()),e.forEach(function(e){n._asyncResize(e,function(e){return n._resizeElem(e,t)})});var r=[this.expandable.$el];this.getIframe()&&r.push(this.getIframe()),setTimeout(function(){r.forEach(function(e){e&&e.css("z-index",n.closedZIndex)}),n.locked=!1,n._closeCallback()},this.getAnimationLength(!0)-1)},_removeExpandable:function(){this.expandable.$el.remove(),this._closeCallback(),this.locked=!1},_closeOverlay:function(){var e,t=w.default.Expansion.getDocument(this.expandable.expansionType);null===(e=w.default.Animation)||void 0===e||e.clearDocument(),this._closeCallback(),this._resetAnimations(),$(this.getOverlayIframe()).remove(),$(t.body).find(".spongecell-overlay").remove(),this.locked=!1},_closeCallback:function(){var e,r=this;this.safeFrames&&window.$sf.ext.collapse(),null===(e=this.expandable.$el)||void 0===e||e.hide(),this.expandable.screens.forEach(function(e){var t,n;"home"===e.getId()?(e.makeVisible(),e.resetElements(),null===(t=r.expandable.background)||void 0===t||t.resetElements(),null===(n=r.expandable.persistentLayer)||void 0===n||n.resetElements(),r.expandable.currentScreen=null):e.makeInvisible()}),this.expandable.screens.forEach(function(e){e.getComponentElements().forEach(function(e){e.component.stop(),"overlay"===r.expandable.expansionType&&e.component.reset()})}),this.opened=!1},_asyncResize:function(e,t){setTimeout(function(){return t(e)},1)},_resizeElem:function(e,t){var n=$===Zepto&&Zepto?"easeInOutQuart":"linear";e.animate({width:t.width,height:t.height},this.getAnimationLength(),n)},_resetAnimations:function(){this.expandable.screens.map(function(e){var t;return null===(t=e._animationElement())||void 0===t?void 0:t.remove()})},overlayId:function(){return"spongecell-overlay-".concat(this.iid)},getOverlayIframe:function(){return w.default.Expansion.getDocument(this.expandable.expansionType).getElementById("spongecell-overlay-".concat(this.iid))},appendOverlay:function(e){var t,n,r=this,i=w.default.Expansion.getDocument(this.expandable.expansionType),o=w.default.Expansion.documentDimensions(),a=_(w.default.Expansion.calcPositions(e,this.offset||{}),3),s=a[0],u=a[1],l=a[2],c=this.topWindowDimensions(),f=w.default.Browser.isMobile()?c.width:this.expandable.width,d=w.default.Browser.isMobile()?c.height:this.expandable.height,h=this.formatSettings.mobile?f:this.expandable.width,p=this.formatSettings.mobile?d:this.expandable.height,v=this.$el.find(".spongecell-style-".concat(this.iid)).attr("href");n=w.default.Browser.isFirefox()?"\n            srcDoc=\"<html>\n              <head><style> .sc-ff { display: block; } </style></head>\n              <body class='spongecell-ad'><link rel='stylesheet' media='all' href='".concat(v,"'></body>\n            </html>\"\n          "):"";var m='\n          <div>\n            <div class="spongecell-overlay" style="position: '.concat(s,"; left: 0px; top: 0px;\n                        background-color:#374047; opacity: 0.7;\n                        filter:alpha(opacity=70);\n                        width: ").concat(o.width,"px; height: ").concat(o.height,'px;\n                        z-index:7000000;" >\n            </div>\n            <iframe id="spongecell-overlay-').concat(this.iid,'" style="\n              position: ').concat(s,"; left: ").concat(u,"px; width: ").concat(h,"px; background: #fff;\n              height: ").concat(p,"px; top: ").concat(l,'px; z-index: 70000001;\n              border: 0; margin: 0; overflow: hidden; padding: 0;"\n              allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"\n              seamless frameborder="0" scrolling="no" ').concat(n,"></iframe>\n          </div>\n        ");$(i.body).append(m),null===(t=w.default.Animation)||void 0===t||t.cacheDocument(this.getOverlayIframe().contentDocument);var g=document.createElement("link");g.type="text/css",g.rel="stylesheet",g.media="all",g.href=v;function y(e){return w.default.Browser.isIE()||w.default.Browser.isFirefox()?setTimeout(e,10):e()}function b(){return y(function(){var e;w.default.Event.addMessageListener(function(e){return r.receiveMessage(e)},null===(e=r.getOverlayIframe())||void 0===e?void 0:e.contentWindow),r.expandable.responsive&&r.expandable._scalePanel(),r.expandable.setup(r.loading),r.expandable.load(),r._openCallback()})}$(this.getOverlayIframe().contentDocument).ready(function(){if($(r.getOverlayIframe().contentDocument.body).addClass("spongecell-ad"),w.default.Browser.isFirefox()){var t=setInterval(function(){var e;r.getOverlayIframe().contentDocument.styleSheets.length&&(null===(e=w.default.Animation)||void 0===e||e.cacheDocument(r.getOverlayIframe().contentDocument),b(),clearInterval(t))},50);y(function(){return $(r.getOverlayIframe().contentDocument.head).append(g)})}else w.default.Browser.supportsLinkOnload()&&(g.onload=b,y(function(){return $(r.getOverlayIframe().contentDocument.head).append(g)}));$(r.getOverlayIframe().contentDocument.head).append(g),b()}),$(i.body).find(".spongecell-overlay").off("click").on("click",function(){return r.close()})}}}}]),e}();t.default=o},function(e,t,n){"use strict";var r,i=(r=n(33))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,null,[{key:"extended",value:function(){var e=l(c(t),"extended",this).call(this);return this.include(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}({},e,{getLandingPage:function(t,e){var n=1<arguments.length&&void 0!==e?e:null;if(this.ad.isPreview&&t&&t.clicktag&&-1!==t.clicktag){var r=n||this.elements.find(function(e){return e.action.clicktag===t.clicktag}),i=r.dynamicSettings,o=this.ad.clickTagCount,a="https://creativepreview.flashtalking.net/clicktag/\n".concat(t.clicktag,"/?count=").concat(o);if("feed"===i.clicktagSource&&r.action.isDynamicClicktag){var s=spongecell.FeedHelper.getClicktagUrl(this.ad.feedData,r);return{url:"".concat(a,"&DYNCTTEST=").concat(s)}}return"versions"===i.clicktagSource&&r.action.isDynamicClicktag&&r.action.clicktagDefault?{url:"".concat(a,"&DYNCTTEST=").concat(r.action.clicktagDefault)}:{url:a}}}}))}}]),t}();spongecell.ElementContainer=d},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:"extended",value:function(){return{preventElementClickThrough:!1,_initElementContainer:function(){this.timelines=[],this.launchOffsets={},null==this.elements&&(this.elements=[]),this.animationsByIid={}},addUuid:function(e){if(e)return this.itemUuids=this.itemUuids||[],-1===this.itemUuids.indexOf(e)?this.itemUuids.push(e):void 0},getElements:function(t){return t?this.elements.filter(function(e){return 0<=t.indexOf(e.type)}):this.elements},getComponentElements:function(){return(this.getElements()||[]).filter(function(e){return e.component})},getElementByName:function(e){for(var t=0;t<this.elements.length;t+=1){var n=this.elements[t];if(n.name===e)return n}return null},getElementByIid:function(e){for(var t=0;t<this.elements.length;t+=1){var n=this.elements[t];if(n.iid===e)return n}return null},getCurrentCarousel:function(){return{carousel:null,slide:null}},getItemsAtIndex:function(n){var r=this,i=[];return Object.keys(this.ad.dynamicItems).forEach(function(e){var t=r.ad.dynamicItems[e][n];t[n]&&i.push(t[n])}),i},checkDynamicContentIndex:function(e,t){for(var n=this.getItemsAtIndex(e.itemIndex),r=0;r<n.length;r+=1){if(null!=n[r][t])return!0}return!1},getDynamicContentAtIndex:function(e,t,n){for(var r=null,i=this.getItemsAtIndex(e.itemIndex),o=0;o<i.length;o+=1){var a,s=i[o];if(null===(a=s[t])||void 0===a?void 0:a[n]){r=s[t][n];break}}return r},getAsset:function(l){var c=this;if(l){var e=function(){var e;if(c.ad.isUsedByRobot()&&window.myFT){var t,n,r=null==l?void 0:null===(t=l.video)||void 0===t?void 0:t.name,i=_.find(null===(n=window.myFT.manifestProperties)||void 0===n?void 0:n.videos,function(e){return e.name===r});if(null==i?void 0:i.url)return{url:i.url}}var o=null==l?void 0:null===(e=l.video)||void 0===e?void 0:e.assetId;if(o)return c.ad.videoAssets[o];var a,s,u=null==l?void 0:l.masterAssetId;return u?(null===(a=c.assets)||void 0===a?void 0:a[u])||(null===(s=c.ad.assets)||void 0===s?void 0:s[u]):void 0};return l.itemIndex&&this.getDynamicContentAtIndex(l,"assets",l.masterAssetId)||e()}},getAssetUrl:function(e){var t;return null===(t=this.getAsset(e))||void 0===t?void 0:t.url},getProperty:function(n){function e(){var e,t;return(null===(e=r.properties)||void 0===e?void 0:e[n.propertyId])||(null===(t=r.ad.properties)||void 0===t?void 0:t[n.propertyId])}var r=this;return n.itemIndex&&this.getDynamicContentAtIndex(n,"properties",n.propertyId)||e()}}}}]),e}();t.default=i},function(e,t,n){"use strict";var r,i=(r=n(35))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,null,[{key:"extended",value:function(){var e=l(c(t),"extended",this).call(this);return this.include(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}({},e))}}]),t}();spongecell.HtmlElementContainer=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,v=(r=n(0))&&r.__esModule?r:{default:r};function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,null,[{key:"extended",value:function(){return{_setupElementContainer:function(){this._createElements()},_createElements:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:200;this.elements=(this.elements||[]).map(function(e){return e.ad=t.ad,e.zIndex=n,n+=1,v.default.HtmlElement.create(t,e)})},_renderElements:function(){var t=this;(this.elements||[]).forEach(function(e){e.render(t.$el)})},_delegateElementEvents:function(e){var t,h=this,p=0<arguments.length&&void 0!==e&&e;if(null===(t=this.ad)||void 0===t||!t.canvasMode){(this.elements||[]).forEach(function(e){return e.delegateEvents()});(this.elements||[]).forEach(function(e){var t,n,r,i=$(h.panel.doc.getElementById("elem-".concat(e.iid))),o=e.action||{},a=o.screen,s=o.panel,u=o.ad,l=o.element;if(null!=a||null!=s||null!=u||null!=l){if(null!=a){var c=h.panel.getScreen(a);if(null==c)return;t=function(t,n,e){var r=2<arguments.length&&void 0!==e?e:null;return function(e){h.ad.animationMode||(h.panel.openScreen(n,t,r),null!=e&&(e.stopPropagation(),e.preventDefault()))}}(h._getSelfOrParentScreen(),c,e.transition)}else t=(null==s?void 0:s.action)?function(n){return function(e){var t;"open"===n&&(h.panel.removeLoader(),h.panel.cancelShowLoader()),e.preventDefault(),e.stopPropagation(),p&&(null===(t=h.trackClick)||void 0===t||t.call(h,e));h.ad[n]()}}(s.action):(null==u?void 0:u.action)?function(n){return function(e){var t;e.preventDefault(),e.stopPropagation(),p&&(null===(t=h.trackClick)||void 0===t||t.call(h,e));"remove"===n&&h.ad.remove()}}(u.action):function(r,i){return function(e){var t,n=h.elements.filter(function(e){return e.iid===r}).map(function(e){return e.component})[0];null==n&&(n=h.component),null===(t=n)||void 0===t||t.handleAction(i,e),null!=e&&(e.stopPropagation(),e.preventDefault())}}(l.iid,l.action);var f=(n=t,r=!!e.action.feature,function(e){!r&&p&&h.trackStart(),n(e)});i.on("tap click",f);var d=null==s?void 0:s.action;"dual"!==e.action.interaction||v.default.Browser.isMobile()||d||v.default.Engagement.onHover(f,{node:i[0]})}})}},getLaunchTimeOffset:function(e){if("video"!==e.type)return 0;var t=e.iid;if(null!=this.launchOffsets[t])return this.launchOffsets[t];var n=1/0,r=this.getPrimaryTimeline();return r&&r.animations.filter(function(e){return e.elementIid===t}).forEach(function(e){e.items.filter(function(e){return!v.default.Animation.isOutAnimation(e.transition)}).forEach(function(e){n=Math.min(n,e.offset)})}),n=n===1/0?0:n,this.launchOffsets[t]=n},_delegateAnimationEvents:function(){this.elements.forEach(function(e){e.delegateAnimationEvents()}),this.animations&&(this.timelines=v.default.Animation.createTimelinesForContainer(this,this.animations,this.ad.eventManager,this.ad.isUsedByRobot()))},_loadElements:function(){var r=this;return Promise.all(this.elements.map(function(e){e.feature?(e.feature.items||[]).forEach(function(e){return r.addUuid(e.item_id)}):(e.getProcessorItems()||[]).forEach(function(e){return r.addUuid(e.item_id)});if(e.loaded||r._shouldDelayLoad())return!0;var t=e.load();if(r.ad.isAutoStart()){var n=r.getLaunchTimeOffset(e);r.ad.isAutoStart()&&setTimeout(function(){return e.launch()},n)}return t}))},_shouldDelayLoad:function(){var e,t;return!this.panel.loadTriggered&&(!(-1<this.panel.getTransitionScreens().indexOf(this.iid))&&(this.ad.animationMode?this.iid!==this.ad.animationScreen:!this.ad.engaged&&this.ad.delayLoading&&-1===["home",null===(e=this.panel.persistentLayer)||void 0===e?void 0:e.iid].indexOf(this.iid)&&"home"!==(null===(t=this.component)||void 0===t?void 0:t.container.iid)))},engage:function(){this.ad.engaged&&this._engageElements()},_engageElements:function(){(this.elements||[]).forEach(function(e){var t;return null===(t=e.engage)||void 0===t?void 0:t.call(e)})},_getSelfOrParentScreen:function(){return this},_resetInlineVideos:function(){},resetElements:function(){(this.elements||[]).forEach(function(e){e.loaded=!1})},getPrimaryTimelines:function(){return[this.getPrimaryTimeline()]},getPrimaryTimeline:function(){return this.timelines.find(function(e){return e.isPrimary})},seek:function(r,e){var i=this,o=1<arguments.length&&void 0!==e&&e,t=(this.elements||[]).map(function(e){var t=i.getLaunchTimeOffset(e),n=Math.max(r-t,0);return e.seek(n,o)}),n=this.getPrimaryTimeline();return n&&(n.timeline.seek(r),o&&n.timeline.play()),Promise.all(t)},getTimelineDuration:function(){var t=0;(this.elements||[]).forEach(function(e){t=Math.max(t,e.getTimelineDuration())});var e=this.getPrimaryTimeline();return e&&(t=Math.max(t,e.duration)),t},getAllAnimations:function(){var t=i(this.animations||[]);return this.elements.forEach(function(e){(e.layouts||[]).forEach(function(e){t.push.apply(t,i(e.animations||[]))})}),t}}}}]),e}();t.default=a},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(37);var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,i.default.HtmlAdPanel),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"_appendRootElem",value:function(){var e=this.ad.iframe?$(this.ad.impTag.studioTag.getIframe()):this.ad.$el;$("<ft-default>").append(this.$el).appendTo(e)}}]),e}();i.default.HtmlAdPanel=c},function(e,t,n){"use strict";var a=r(n(0)),i=r(n(6));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(38),n(7);var h=a.default.OmnipresentHtmlScreen,p="expanding-animation",v=null,m=function(){function r(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=l(this,f(r).call(this,e))).settings=e,n.preExpandTimeout=null,n.width=n.settings.size.width,n.height=n.settings.size.height,n._scalePanel(),(null===(t=n.settings.elements)||void 0===t?void 0:t.length)&&n._createPersistentLayer(),n.ad.animationMode&&n._setupAnimationMode(),n.ad.eventManager.subscribe("resize:".concat(n.ad.iid),function(){n._scalePanel(),n.setupPanelSize()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,a.default.AdPanel),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(r,[{key:"engageOnceFn",value:function(){this.ad.engaged||this.ad.engage()}},{key:"_delegateEvents",value:function(){var e=this;a.default.Browser.isMobile()?this.$el.on("tap",this.engageOnceFn.bind(this)):("teaser"===this.type&&this.$el.on("mouseover",".hover-expand",function(){e.preExpandTimeout=e.showLoader(),e.$el.on("mouseout",e.cancelShowLoader)}),a.default.Engagement.onHover(this.engageOnceFn.bind(this))),this.$el.on("mousedown",this.engageOnceFn.bind(this))}},{key:"_createPersistentLayer",value:function(){this.persistentLayer=new h(this,this.settings.elements)}},{key:"_buildFontFace",value:function(e,t){var n=a.default.Browser.isIE()?' format("embedded-opentype")':"";return"\n      @font-face {\n        font-family: ".concat(e,";\n        src: url(").concat(t,")").concat(n,";\n      }\n    ")}},{key:"_getFontFaces",value:function(){function n(e){var t=r.ad.assets[e];t&&i.push({fontFamily:t.label.split(".")[0],url:t.url})}function e(e){var t=e.fontFamily,n=e.url;i.push({fontFamily:t,url:n})}var r=this,i=[];return this.ad.usedByRobot&&(e({fontFamily:"Arial",url:"assets/fonts/Arial.ttf"}),e({fontFamily:"Courier New",url:"assets/fonts/Courier_New.ttf"}),e({fontFamily:"Georgia",url:"assets/fonts/Georgia.ttf"}),e({fontFamily:"Helvetica",url:"assets/fonts/Helvetica.ttf"}),e({fontFamily:"Tahoma",url:"assets/fonts/Tahoma.ttf"}),e({fontFamily:"Times New Roman",url:"assets/fonts/Times_New_Roman.ttf"}),e({fontFamily:"Trebuchet",url:"assets/fonts/Trebuchet_MS.ttf"}),e({fontFamily:"Verdana",url:"assets/fonts/Verdana.ttf"})),this.ad.canvasMode?Object.keys(this.ad.assets).forEach(function(e){var t;(null===(t=r.ad.assets[e].contentType)||void 0===t?void 0:t.match(/font/))&&n(e)}):(this.settings.fonts||[]).forEach(function(e){return n(e)}),i}},{key:"_getCustomStyleTag",value:function(){var n=this,e=this._getFontFaces().reduce(function(e,t){return e+n._buildFontFace(t.fontFamily,t.url)},'<style id="live-style">');return e+="</style>"}},{key:"_setRootElem",value:function(){var e=null;if(this.ad.iframe)this.$el=$('<div class="wrapper spongecell-panel" />'),this.ad.$el=this.$el,e="body";else if("overlay"!==this.expansionType||this.ad.mraid||this.ad.safeFrames)this.$el=$("<div class='wrapper spongecell-panel ".concat(this.type||"","' />")),e=document.getElementById("spongecell-ad-".concat(this.ad.iid));else{var t=a.default.Expansion.getDocument(this.expansionType).getElementById("spongecell-overlay-".concat(this.ad.iid));this.doc=t.contentDocument,this.$el=$(t.contentDocument.body)}this._appendRootElem(e)}},{key:"_appendRootElem",value:function(e){e&&this.$el.appendTo(e)}},{key:"_render",value:function(){var e,t;this._setRootElem(),a.default.Browser.isIE()&&this.$el.addClass("ie"),this.vpaid&&(this.$el.addClass("vpaid"),this._setupBorder()),a.default.Animation&&this._setupAnimation(),this.doc=this.doc||document,this.setupPanelSize(),this._mapAnimations(),null===(e=this.persistentLayer)||void 0===e||e.render(),null===(t=this.background)||void 0===t||t.render();var n=this._getCustomStyleTag();$(n).appendTo("head"),this.ad.screenshotMode&&this.$el.addClass("screenshot-mode"),this.ad.canvasMode?this.$el.addClass("canvas-mode"):(this.screens.forEach(function(e){return e.render()}),this.ad.activePanel()===this&&this.openInitialScreen())}},{key:"_setup",value:function(){var t=this;return c(f(r.prototype),"_setup",this).call(this).then(function(){if(!i.default)return Promise.resolve(!0);var e=t._getFontFaces().map(function(e){return new i.default(e.fontFamily).load(null,1e4)});return Promise.all(e)})}},{key:"_mapAnimations",value:function(){this.screens.forEach(function(t){(t.animations||[]).forEach(function(e){t.animationsByIid[e.elementIid]=t.animationsByIid[e.elementIid]||[],t.animationsByIid[e.elementIid].push(e)})})}},{key:"removeLoader",value:function(e){e&&e.toElement&&0===$(e.toElement).find(".spongecell-ad").length&&"click"!==e.type||(clearTimeout(v),this.$el.off("mouseout",this.removeLoader),$(document.getElementById(p)).remove())}},{key:"expandPanel",value:function(){this.removeLoader(),this.ad.open()}},{key:"cancelShowLoader",value:function(){clearTimeout(this.preExpandTimeout)}},{key:"_scalePanel",value:function(){var e,t;if(this.responsive||this.ad.flexible){var n=this.ad.topWindowDimensions();if(a.default.Browser.isMobile()&&(this.ad.mraid||"overlay"===this.expansionType))t=(n.height-this.height)/this.height,e=(n.width-this.width)/this.width;else if(a.default.Browser.isMobile()||"overlay"!==this.expansionType)t=(window.innerHeight-this.height)/this.height,e=(window.innerWidth-this.width)/this.width;else{var r=Math.min(n.height,this.height),i=Math.min(n.width,this.width);t=(r-this.height)/this.height,e=(i-this.width)/this.width}this.scale=e<t?{dimension:"x",magnitude:1+e}:{dimension:"y",magnitude:1+t}}else this.scale={magnitude:1}}},{key:"_setupAnimation",value:function(){this.$el.addClass("has-animation")}},{key:"_setupAnimationMode",value:function(){this.animationsPlayed=0,this.totalAnimations=0}},{key:"_calcTotalAnimations",value:function(){function n(e){var t,n,r=(null===(t=e.animations)||void 0===t?void 0:t.length)||0;return i.totalAnimations+=r*(((null===(n=e.animationSettings)||void 0===n?void 0:n.loops)||0)+1),i.ad.eventManager.subscribe("animationComplete:".concat(e.iid),i._animationCompleted.bind(i)),r}var i=this,r=0,e=this.getScreen(this.ad.animationScreen);this.ad.eventManager.dispatch("previewStarted",this.ad.impTag.creativeId),this.ad.animationLayout?e.setLayoutMode(!0):r+=n(e),e.getComponentElements().forEach(function(e){if("mediaCarousel"===e.type){var t=e.component.slides[0];t&&t.iid===i.ad.animationLayout&&(r+=n(t))}}),0===r&&setTimeout(function(){return i.ad.eventManager.dispatch("previewComplete",i.ad.impTag.creativeId)},1e3)}},{key:"_animationCompleted",value:function(){var e=this;this.animationsPlayed+=1,this.animationsPlayed>=this.totalAnimations&&setTimeout(function(){return e.ad.eventManager.dispatch("previewComplete",e.ad.impTag.creativeId)},1e3)}},{key:"_setupBorder",value:function(){if(!this.canvasMode&&this.ad.border){var e=this.ad.border,t=e.thickness,n=e.color,r=null!==t?t:1,i=null!==n?n:"transparent";this.$el.css({border:"".concat(r,"px solid ").concat(i),"box-sizing":"border-box"})}}},{key:"setupPanelSize",value:function(){if(this.responsive){if("overlay"===this.expansionType&&a.default.Browser.isMobile()){var e=this.ad.topWindowDimensions();return this.$el.width(e.width),void this.$el.height(e.height)}return"overlay"!==this.expansionType||a.default.Browser.isMobile()?(this.$el.width(window.innerWidth),void this.$el.height(window.innerHeight)):(this.$el.width(this.width),void this.$el.height(this.height))}if(this.vpaid)return this.$el.width("100%"),void this.$el.height("100%");this.$el.width(this.width),this.$el.height(this.height)}},{key:"showLoader",value:function(){var n=this;if(!(0<$(document.getElementById(p)).length))return setTimeout(function(){var e;if(n.$el.off("mouseout",n.cancelShowLoader),v=setTimeout(n.expandPanel,2700),n.width<120||n.height<120){var t=(Math.min(n.width,n.height)/120).toFixed(1);e="\n          -ms-transform: scale(".concat(t,",").concat(t,");\n          -webkit-transform: scale(").concat(t,",").concat(t,");\n          transform: scale(").concat(t,",").concat(t,");\n        ")}n.$el.prepend('\n        <div id="expanding-animation" style="\n          width: '.concat(n.width,"px;\n          height: ").concat(n.height,"px;\n          z-index: ").concat(+$(n.$el).css("z-index")+1,';">\n          <div class="expanding-wrapper" ').concat(e?"style='".concat(e,"'"):"",' >\n            <div class="round-wrapper">\n              <div class="circle one"></div>\n              <div class="circle two"></div>\n              <div class="circle three"></div>\n              <div class="one number"><span>1</span></div>\n              <div class="two number"><span>2</span></div>\n              <div class="three number"><span>3</span></div>\n            </div>\n            <div class="expanding-text">Expanding</div>\n          </div>\n        </div>\n      ')),n.$el.on("mouseout",n.removeLoader)},500)}},{key:"load",value:function(){var e,t;if(!this.$el)return Promise.resolve(!0);var n=[],r=(this.screens||[]).map(function(e){return e.load()});return n.push.apply(n,s(r)),n.push(null===(e=this.persistentLayer)||void 0===e?void 0:e.load()),n.push(null===(t=this.background)||void 0===t?void 0:t.load()),this.ad.animationMode&&this._calcTotalAnimations(),Promise.all(n)}},{key:"loadNonHomeElements",value:function(e){var i=0<arguments.length&&void 0!==e?e:{};this.loadTriggered||(this.loadTriggered=!0,this.screens.forEach(function(e){"home"!==e.iid&&e.elements.forEach(function(e){var t,n,r;e.loaded||null===(t=e.load)||void 0===t||t.call(e);i.postRoll&&(null===(n=e.component)||void 0===n||null===(r=n.launch)||void 0===r||r.call(n))})}))}},{key:"openInitialScreen",value:function(e){e=this.ad.animationScreen?e||this.getScreen(this.ad.animationScreen):e||this.getHomeScreen(),this.openScreen(e,null,null)}},{key:"openScreen",value:function(t,e,n){var r,i=2<arguments.length&&void 0!==n?n:null;if(t!==this.currentScreen&&(null==t||!t.animating)){if(this.vpaid&&"home"===(null==t?void 0:t.iid)&&e?this.ad.sendVpaidMessage("unpause"):this.vpaid&&"home"!==(null==t?void 0:t.iid)&&this.ad.sendVpaidMessage("pause"),"none"===(null===(r=i)||void 0===r?void 0:r.type)&&(i=null),this.currentScreen){var o=this.currentScreen._animationElement();null==o||o.ended()}if(e)e.startTransition(i,!1),e.getComponentElements().filter(function(e){return"video"===e.type&&e.settings.postRollPending}).forEach(function(e){return e.component.cancelPostRoll()});else{var a;if(i)null===(a=this.currentScreen)||void 0===a||a.startTransition(i,!1);this.screens.filter(function(e){return e!==t}).forEach(function(e){return e.hide()})}t.startTransition(i,!0),this.currentScreen=t,this.updateElementStates()}}},{key:"openScreenFromAnimation",value:function(e){var t=this;if(!this.ad.animationMode){var n=this.currentScreen,r=this.getScreen(e.toScreen);if(r){var i=1e3*parseFloat(e.delay||0);setTimeout(function(){return t.openScreen(r,n,e)},i)}}}},{key:"updateElementStates",value:function(){var e;null===(e=this.persistentLayer)||void 0===e||e.updateState(),this.currentScreen.getElements(["customButton"]).forEach(function(e){e.updateState()})}},{key:"_buildFeature",value:function(e,t){var n=a.default.AdFeature.create(this.ad,t);return n.screens=[e],n.layouts=t.layouts||[],n.settings={},this.ad.features.push(n),n}},{key:"_allElementsByIid",value:function(){var e,t,n,r,i={};return null===(e=this.persistentLayer)||void 0===e||null===(t=e.elements)||void 0===t||t.forEach(function(e){i[e.originalIid]=e}),null===(n=this.background)||void 0===n||null===(r=n.elements)||void 0===r||r.forEach(function(e){i[e.originalIid]=e}),this.screens.filter(function(e){return e.elements}).reduce(function(e,t){return e.concat(t.elements)},[]).forEach(function(e){i[e.iid]=e}),i}},{key:"refresh",value:function(e){var t,n,r=e.settings,i=void 0===r?{}:r,o=this.responsive?"ResponsiveScreen":"HtmlScreen";i.screen&&i.screen.iid!==(null===(t=this.canvasScreen)||void 0===t?void 0:t.iid)&&(this.canvasScreen&&this._removeScreen(this.canvasScreen),this.canvasScreen=new a.default[o](this,i.screen),this.screens.push(this.canvasScreen)),i.elements&&this._resetElements(i.elements),this._rebuildPersistentLayer(i.persistentElements),this._rebuildBackground(i.background),this._rebuildScreen(this.canvasScreen),this._rebuildCSS(i),i.layout&&(this.canvasScreen.setLayoutMode(!0),this._showSlide(null===(n=i.feature)||void 0===n?void 0:n.id,i.layout));this.ad.eventManager.dispatch("adShown")}},{key:"show",value:function(e){var t;e.screen&&(null===(t=this.canvasScreen)||void 0===t?void 0:t.iid)!==e.screen&&this._showScreen(e.screen),e.layout&&this._showSlide(e.feature,e.layout),this.ad.eventManager.dispatch("adShown")}},{key:"hideOverState",value:function(e){var t=this.getScreen(e.screen);(null==t?void 0:t.getElement(e.iid))._toggleState("up")}},{key:"showOverState",value:function(e){var t=this.getScreen(e.screen);(null==t?void 0:t.getElement(e.iid))._toggleState("over")}},{key:"_showScreen",value:function(e){this.canvasScreen&&this._removeScreen(this.canvasScreen);var t,n=this.getScreen(e);n&&(this._rebuildScreen(n),this.canvasScreen=n,null===(t=this.persistentLayer)||void 0===t||t.updateState())}},{key:"_showSlide",value:function(n,r){this.canvasScreen.getComponentElements().filter(function(e){var t;return(null===(t=e.feature)||void 0===t?void 0:t.id)===n}).forEach(function(n){Object.keys(n.feature.layouts).forEach(function(e){var t=n.feature.layouts[e];r===t.iid&&n.component&&n.component.navigateTo(e)})})}},{key:"_rebuildCSS",value:function(e){var t=[];this.canvasScreen.getComponentElements().filter(function(e){return e.layouts}).forEach(function(e){t.concat(e.layouts)});var n=[];t.forEach(function(e){e.elements&&n.concat(e.elements)});var r=(e.elements||[]).concat(n).filter(function(e){return e.css}).map(function(e){return e.css})||[],i=(e.css||"")+r.join("");$(this.doc.getElementById("live-style")).remove(),this.$el.append(this._getCustomStyleTag()),$(this.doc.getElementById("live-style")).append(i)}},{key:"_rebuildPersistentLayer",value:function(e){e&&(this.settings.elements=e),this.persistentLayer&&this._removeScreen(this.persistentLayer),this._createPersistentLayer(),this._rebuildScreen(this.persistentLayer)}},{key:"_rebuildBackground",value:function(e){e&&(this.settings.background=e),this.background&&this._removeScreen(this.background),this.ad._createBackground(this,this.settings.background),this._rebuildScreen(this.background)}},{key:"_rebuildScreen",value:function(e){var t;this._removeScreen(e),e.elements.forEach(function(e){e.loaded=!1}),e.render(),e.load(),null==e||null===(t=e.show)||void 0===t||t.call(e)}},{key:"_removeScreen",value:function(e){e.$el&&(e.$el.remove(),e.$el=null)}},{key:"_resetElements",value:function(e){this.canvasScreen.elements=e}},{key:"getNonScreenElements",value:function(){var e,t;return[].concat((null===(e=this.background)||void 0===e?void 0:e.elements)||[]).concat((null===(t=this.persistentLayer)||void 0===t?void 0:t.elements)||[])}}]),r}();a.default.HtmlAdPanel=m},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(3);var c=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=s(this,u(r).call(this,e,t))).panel=e,n.elements=t,n.ad=n.panel.ad,n.persistent=!0,n.animations=[],n.iid=i.default.Utils.generateIID(),n._initElementContainer(),n._setupElementContainer(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,i.default.Module),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(r,[{key:"_html",value:function(){return'\n      <div id="persistent-layer_'.concat(this.iid,'" class="persistent-layer">\n      </div>\n    ')}},{key:"render",value:function(){this.width=this.panel.width*this.panel.scale.magnitude,this.height=this.panel.height*this.panel.scale.magnitude,this.panel.$el.append(this._html()),this.$el=$(this.panel.doc.getElementById("persistent-layer_".concat(this.iid))),this._renderElements(),this._delegateElementEvents(),this._delegateAnimationEvents()}},{key:"_delegateAnimationEvents",value:function(){var e=this;this.panel.screens.forEach(function(t){e.elements.forEach(function(e){t.animationsByIid[e.originalIid]&&e.delegateAnimationEvents(t.animationsByIid[e.originalIid],t.iid)})})}},{key:"load",value:function(){var t=this;return this._loadElements().then(function(e){return t.ad.eventManager.publish("".concat(t.panel.iid,":screen:").concat(t.iid,":load")),e})}},{key:"updateState",value:function(){var e;null===(e=this.elements)||void 0===e||e.forEach(function(e){var t;return null===(t=e.updateState)||void 0===t?void 0:t.call(e)})}},{key:"moveBelowAnimation",value:function(){return this.$el.css("zIndex",-1)}},{key:"showAfterAnimation",value:function(){return this.$el.css("zIndex",20)}},{key:"_shouldDelayLoad",value:function(){return!1}},{key:"trackClick",value:function(e){return(this._getSelfOrParentScreen()||this.panel.getHomeScreen()).trackClick(e)}},{key:"_getSelfOrParentScreen",value:function(){return this.panel.currentScreen}},{key:"getTrackingKey",value:function(){return(this.panel.currentScreen||this.panel.screens[0]).getTrackingKey()}},{key:"getId",value:function(){return this.panel.currentScreen.getId()}}]),r}();c.extend(i.default.ElementContainer),c.extend(i.default.HtmlElementContainer),i.default.OmnipresentHtmlScreen=c},function(e,t,n){"use strict";var r=o(n(0)),i=o(n(40));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,i.default),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"_delegateEvents",value:function(){this._delegateElementEvents(!1),this._delegateAnimationEvents()}}]),e}();r.default.HtmlScreen=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s=(r=n(0))&&r.__esModule?r:{default:r};n(8);var o=n(4);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),l(this,f(i).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,s.default.Screen),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(i,[{key:"setup",value:function(){var e=this;this.setupScreenSize(),this._setupElementContainer(),this.ad.eventManager.subscribe("resize:".concat(this.ad.iid),function(){return e.setupScreenSize()})}},{key:"setupScreenSize",value:function(){this.width=this.panel.width*this.panel.scale.magnitude,this.height=this.panel.height*this.panel.scale.magnitude,this.tall=this.height>3*this.width,this.wide=this.width>7*this.height}},{key:"render",value:function(){this.setup(),this.panel.$el.append(this._html()),this.$el=$(this.panel.doc.getElementById("screen-".concat(this.getId(),"-").concat(this.panel.type||"panel"))),this.panel.background?this.$el.css({background:"transparent"}):this.$el.css({backgroundColor:"#fff"}),this.hide(),this._renderElements(),this._delegateEvents()}},{key:"_delegateEvents",value:function(){}},{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c(f(i.prototype),"load",this)).call.apply(e,[this].concat(n)),this._loadElements()}},{key:"checkAutoLaunchFeatures",value:function(){"home"===this.getId()&&this.ad.basePanel===this.panel||this.getComponentElements().forEach(function(e){var t;-1<["mediaCarousel","video"].indexOf(e.type)&&!e.launched&&(null===(t=e.settings)||void 0===t?void 0:t.launchBeforeEngagement())&&e.component.launch()})}},{key:"startTransition",value:function(e,t){var n=this,r=!(1<arguments.length&&void 0!==t)||t;if(e){this.$el.addClass("preserve-3d");this.$el.on("animationend webkitAnimationEnd",function(e){e.target===n.$el[0]&&(n._transitionEnd(r),n.$el.off("animationend webkitAnimationEnd"))});var i=r?"in":"out";setTimeout(function(){return n._addTransition(e,i)})}else r?this.show():this.hide(),this.checkAutoLaunchFeatures()}},{key:"hide",value:function(){this.getComponentElements().forEach(function(e){return e.component.stop()}),this.makeInvisible()}},{key:"show",value:function(){"home"!==this.getId()&&this.ad.loadNonHomeElements(),this.makeVisible(),this.ad.adFullLoadPromise.then(this.showReady.bind(this))}},{key:"showReady",value:function(){var e,t,n,r;this.ad.canvasMode||s.default.Animation&&this.animations&&this.animations.length&&(this.remainingLoops=(null===(t=this.animationSettings)||void 0===t?void 0:t.loops)||0,"multiple"===(null===(n=this.animationSettings)||void 0===n?void 0:n.play)?this.ad.eventManager.publish("".concat(this.panel.iid,":screen:").concat(this.iid,":load")):"multiple"!==(null===(r=this.animationSettings)||void 0===r?void 0:r.play)&&(this.animationLoaded||(this.ad.eventManager.publish("".concat(this.panel.iid,":screen:").concat(this.iid,":load")),this.animationLoaded=!0)));this.ad.feedsCustomReportingEnabled&&!this.ad.impressionTracked&&"function"==typeof Tracker&&this.feedsReportImpression(),this.engage(),null===(e=this._animationElement())||void 0===e||e.renderAnimation(),s.default.Browser.isSafari()&&!this.ad.canvasMode&&this._reloadElements(),this._resetInlineVideos()}},{key:"hasFeedElements",value:function(e){return(e[e.type].dynamic||e.action&&e.action.isDynamicClicktag)&&e.dynamicSettings&&("feed"===e.dynamicSettings.source||"feed"===e.dynamicSettings.clicktagSource)}},{key:"mapFeedElements",value:function(e){return["feed"===e.dynamicSettings.source&&+e.dynamicSettings.multiItem,"feed"===e.dynamicSettings.clicktagSource&&+e.dynamicSettings.clicktagMultiItem].filter(function(e){return!1!==e})}},{key:"getFeedItemIds",value:function(e){var t=this,n=e.elements.filter(function(e){return"mediaCarousel"===e.type&&"standard"===e.carouselType}).map(function(e){return e.layouts.map(function(e){return e.elements})});n=(0,o.flattenDeep)(n);var r=e.elements.filter(function(e){return"mediaCarousel"===e.type&&"feed"===e.carouselType}).map(function(e){return s.default.HtmlMediaCarouselComponent.getFeedMultiItems(e,t.ad.feedData.length)}),i=e.elements.concat(n).filter(this.hasFeedElements).map(this.mapFeedElements);return i=(0,o.flattenDeep)(i.concat(r))}},{key:"feedsReportImpression",value:function(){var i=this,e=this.panel.screens.map(function(e){return i.getFeedItemIds(e)});if(e=(0,o.flattenDeep)(e),this.panel.background&&this.panel.background.elements&&(e=e.concat(this.getFeedItemIds(this.panel.background))),this.panel.persistentLayer&&this.panel.persistentLayer.elements&&(e=e.concat(this.getFeedItemIds(this.panel.persistentLayer))),0!==(e=(0,o.uniq)(e)).length){var t=e.map(function(e){return i.ad.feedData[e]}).map(function(t){var n=[],r=i.ad.feedsCustomReportingFields;return delete r[r.indexOf("powerfeeds_id")],r=r.filter(Boolean),r=["powerfeeds_id"].concat(a(r)),(0,o.keys)(t).forEach(function(e){(0,o.includes)(r,e)&&n.push(s.default.FeedHelper.sanitizeFeedValueForReporting(t[e]))}),n.join(",")}).join("|");this.ad.impressionTracked=!0,window.myFT.get("debugStateCall")&&console.log("Custom reporting message:",t),window.Tracker.impressionTrackEvent(t)}}},{key:"makeInvisible",value:function(){this.visible=!1,this.$el.css(this._invisibleCss())}},{key:"makeVisible",value:function(){this.visible=!0,this.$el.css(this._visibleCss())}},{key:"setLayoutMode",value:function(e){e?this.$el.addClass("layout-mode"):this.$el.removeClass("layout-mode")}},{key:"_invisibleCss",value:function(){return s.default.Browser.isSafari()?{display:"none",pointerEvents:"none"}:{opacity:0,zIndex:-1,pointerEvents:"none"}}},{key:"_visibleCss",value:function(){return s.default.Browser.isSafari()?{display:"block",pointerEvents:"auto"}:{opacity:1,zIndex:1,pointerEvents:"auto"}}},{key:"_addTransition",value:function(e,t){var n=e.direction,r=e.easing,i=e.duration?1e3*e.duration:s.default.Animation.defaultDuration,o=e.type||e.transition;this.animating=!0,this.$el.css($.extend({},this._visibleCss(),{width:"100%",height:"100%"}));var a=s.default.Animation.getAnimations(o,n);this.transitions=a.map(function(e){return e[t]}),s.default.Animation.addAnimation(this.$el,{animations:this.transitions,easing:r,duration:i,entry:t,type:o})}},{key:"_transitionEnd",value:function(e){!(0<arguments.length&&void 0!==e)||e?this.show():this.hide(),this.checkAutoLaunchFeatures(),s.default.Animation.removeAnimation(this.$el,this.transitions),this.panel.background&&this.$el.css({width:"auto",height:"100%"}),this.animating=!1}},{key:"_html",value:function(){var e=this.panel.background?"has-background":"";return'\n      <div id="screen-'.concat(this.getId(),"-").concat(this.panel.type||"panel",'" class="screen ').concat(e,'">\n      </div>\n    ')}},{key:"_animationElement",value:function(){var e;return null===(e=this.getElements(["animation"]))||void 0===e?void 0:e[0]}},{key:"hasAnimation",value:function(){return!!this._animationElement()}},{key:"_reloadElements",value:function(){var e=this,t=this.$el.css("display");this.$el.css("zIndex",+this.$el.css("zIndex")+1),this.$el.css("display","none"),setTimeout(function(){e.$el.css("zIndex",+e.$el.css("zIndex")-1),e.$el.css("display",t)},0)}},{key:"_renderDiv",value:function(){return this.$el}}]),i}();h.extend(s.default.HtmlElementContainer);var p=h;t.default=p},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r,o=(r=n(0))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(43);var f=function(){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),s(this,l(r).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,o.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(r,[{key:"_afterElemAppend",value:function(){var e=this.action||{},t=e.clicktag,n=e.isDynamicClicktag;0<t&&!this.ad.isPreview&&!n&&this.$el.wrap('<ft-click clicktag="'.concat(this.action.clicktag,'"></ft-click>')),u(l(r.prototype),"_afterElemAppend",this).call(this)}},{key:"delegateEvents",value:function(){u(l(r.prototype),"delegateEvents",this).call(this),this.delegatePreviewClick()}},{key:"delegatePreviewClick",value:function(){var t=this;this.ad.isPreview&&this.$()&&this.$().on("tap click",function(){var e=t.container.getLandingPage(t.action,t);e&&t.ad.openLink(e.url)})}},{key:"_onReady",value:function(){var e=this.action||{},t=e.isDynamicClicktag,n=e.clicktag;if(window.myFT&&t&&0<n){var r="feed"===this.dynamicSettings.clicktagSource,i=window.myFT.instantAds[this.action.clicktagName];r||window.myFT.applyClickTag(this.$el,n,i)}else o.default.Slide&&this.container instanceof o.default.Slide&&window.myFT&&0<n&&window.myFT.applyClickTag(this.$el,n)}}]),r}();o.default.HtmlElement=f},function(e,t,n){"use strict";var r,s=(r=n(0))&&r.__esModule?r:{default:r},u=n(4);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var c=["onTap","onClick","onHover","onMouseOut"],f=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=e,this.settings=t,s.default.Console.log("Initializing HTML Element on %s: %o",this.container.name,this.settings),s.default.Utils.extend(this,this.settings),this.panel=this.container.panel,this.setDefaults(),this.ad.adReadyPromise.then(this._onReady.bind(this)),this.elementHasDynamicFeedContent=this.useFtFeed()&&this.ad.isUsingDynamicFeeds()}return a(n,null,[{key:"create",value:function(e,t){var n,r=t.type;1<(null==r?void 0:r.length)&&(n="Html".concat(r[0].toUpperCase()).concat(r.slice(1),"Element"));var i=n||"HtmlElement";return e.ad.isPreview||t.optimization_overrides&&0<Object.keys(t.optimization_overrides).length&&(t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}({},t,t.optimization_overrides)),e.ad.factory(i,e,t)}}]),a(n,[{key:"setDefaults",value:function(){this[this.type]=this[this.type]||{},this.position=this.position||{top:0,left:0},this.rotationAngle=this.rotationAngle||0,this.opacity=void 0===this.opacity?1:this.opacity,this.size=this.size||{width:this.panel.width,height:this.panel.height},this.originalIid=this.originalIid||this.iid,this._setRenderDimensions()}},{key:"_setRenderDimensions",value:function(){this.magnitude="anchored"===this.positionType?1:this.panel.scale.magnitude,this.fullscreen&&(this.width="100%",this.height="100%"),this.width=this.size.width*this.magnitude,this.height=this.size.height*this.magnitude}},{key:"render",value:function(e){return this.$screen=e,this._setRenderDimensions(),this.$el=this.$elem(),this.$screen.append(this.$el),this._afterElemAppend(),this.$el}},{key:"_afterElemAppend",value:function(){var e,t,n=this;this.$el.attr("id","elem-".concat(this.iid)),this.$el.addClass("element"),(null===(e=this.ad)||void 0===e?void 0:null===(t=e.lockedElements)||void 0===t?void 0:t[this.iid])&&this.$el.addClass("locked"),this.$el.css(this._buildCss()),this.ad.eventManager.subscribe("resize:".concat(this.ad.iid),function(){n.setDefaults(),n.$el.css(n._buildCss(!1))})}},{key:"_onReady",value:function(){}},{key:"$elem",value:function(){return $(this._html())}},{key:"_html",value:function(){return'<div class="'.concat(this._getClass(),'"></div>')}},{key:"_getClass",value:function(){var e=s.default.Utils.toDashCase(this.type);return"".concat(e,"-element")}},{key:"getExternalTriggerAnimations",value:function(){var t=this,e=(s.default.Slide&&this.container instanceof s.default.Slide?this.container.component.container:this.container).getAllAnimations(),n=[];return e.forEach(function(e){e.triggerElementIid===t.iid&&-1<c.indexOf(e.trigger)&&n.push(e)}),n}},{key:"launch",value:function(){}},{key:"seek",value:function(){return Promise.resolve(!0)}},{key:"getTimelineDuration",value:function(){return 0}},{key:"delegateAnimationEvents",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:null;this.ad.canvasMode||(this.getExternalTriggerAnimations().length&&this.$el.addClass("animation-interactive"),(n=n||this.container.animationsByIid[this.originalIid])&&(s.default.Animation.container=this.container,s.default.Animation.storeElementPosition(this.iid,this.$el),n.forEach(function(e){-1<c.indexOf(e.trigger)&&t.$el.addClass("animation-interactive")})))}},{key:"delegateEvents",value:function(){var o=this;s.default.Engagement.onHover(function(){return o.ad.eventManager.publish("element:".concat(o.iid,":hover"))},{node:this.$()[0]}),this.$().on("tap click",function(){var e,t=o.action||{},n=t.isDynamicClicktag,r=t.clicktag,i="feed"===(null===(e=o.dynamicSettings)||void 0===e?void 0:e.clicktagSource);window.myFT&&n&&0<r&&i&&o.handleFeedClicktagClick(),o.ad.eventManager.publish("element:".concat(o.iid,":click")),s.default.Browser.isMobile()&&o.ad.eventManager.publish("element:".concat(o.iid,":hover"))}),this.$().on("mouseleave",function(){o.ad.eventManager.publish("element:".concat(o.iid,":mouseOut"))})}},{key:"handleFeedClicktagClick",value:function(){var e=this.dynamicSettings.clicktagMultiItem,t=parseInt(e,10),n=this.ad.feedData[t],r=s.default.FeedHelper.getClicktagUrl(this.ad.feedData,this);if(this.action.isDynamicClicktag&&this.ad.feedsCustomReportingEnabled){var i=[],o=this.ad.feedsCustomReportingFields;delete o[o.indexOf("powerfeeds_id")],o=o.filter(Boolean),o=["powerfeeds_id"].concat(l(o)),(0,u.keys)(n).forEach(function(e){(0,u.includes)(o,e)&&i.push(s.default.FeedHelper.sanitizeFeedValueForReporting(n[e]))});var a=i.join(",");window.myFT.get("debugStateCall")&&console.log("Custom reporting message:",a),window.Tracker.clickTrackEvent(a,"ft_section",!1)}window.myFT.clickTag(this.action.clicktag,r)}},{key:"load",value:function(){var e,t,n,r,i,o,a,s,u;"animation"!==this.type&&(this.loaded=!0),((null===(e=this.action)||void 0===e?void 0:e.screen)||(null===(t=this.action)||void 0===t?void 0:t.landingPageKey)||(null===(n=this.action)||void 0===n?void 0:n.element)||(null===(r=this.action)||void 0===r?void 0:r.panel)||(null===(i=this.action)||void 0===i?void 0:i.ad)||0<(null===(o=this.action)||void 0===o?void 0:o.clicktag))&&(null===(s=this.$el)||void 0===s||s.addClass("has-action"));(null===(a=this.action)||void 0===a?void 0:a.panel)&&"dual"===this.action.interaction&&(null===(u=this.$el)||void 0===u||u.addClass("hover-expand"));this.elementHasDynamicFeedContent&&this.renderContentFromDynamicFeed()}},{key:"engage",value:function(){}},{key:"$",value:function(e){return e?this.$el.find(e):this.$el}},{key:"_getProcessorId",value:function(){var e,t,n;return this.image?this.image.processorId||(null===(e=this.action)||void 0===e?void 0:e.processorId):this.customButton?(null===(t=this.customButton.upState)||void 0===t?void 0:t.processorId)||(null===(n=this.action)||void 0===n?void 0:n.processorId):void 0}},{key:"getProcessorItems",value:function(){var e,t;if(this.image&&this.image.processorId)t=this.image.processorId;else if(this.customButton&&(null===(e=this.customButton.upState)||void 0===e?void 0:e.processorId)){var n;t=null===(n=this.customButton.upState)||void 0===n?void 0:n.processorId}else this.text&&this.text.processorId&&(t=this.text.processorId);if(!t)return null;var r,i=null===(r=this.ad.features.filter(function(e){return e.processorId===t}))||void 0===r?void 0:r[0];if(i){var o,a,s,u=(null===(o=this.action)||void 0===o?void 0:o.itemIndex)||(null===(a=this.text)||void 0===a?void 0:a.itemIndex)||0;return(null===(s=i.items)||void 0===s?void 0:s[u])?[i.items[u]]:null}}},{key:"_buildCss",value:function(e){var t,n,r,i,o,a,s,u,l=this,c=!(0<arguments.length&&void 0!==e)||e;"overlay"===this.panel.expansionType?(t=this.ad.mraid?null===(r=this.ad.topDimensions)||void 0===r?void 0:r.height:null===(i=this.panel.doc)||void 0===i?void 0:null===(o=i.body)||void 0===o?void 0:o.clentHeight,n=this.ad.mraid?null===(a=this.ad.topDimensions)||void 0===a?void 0:a.width:null===(s=this.panel.doc)||void 0===s?void 0:null===(u=s.body)||void 0===u?void 0:u.clientWidth):(t=window.innerHeight,n=window.innerWidth);var f,d,h,p,v,m=this.container.persistent&&this.panel.responsive&&"y"===this.panel.scale.dimension?(t-this.container.height)/2:0,g=this.container.persistent&&this.panel.responsive&&"x"===this.panel.scale.dimension?(n-this.container.width)/2:0,y=this.horizontallyCenter&&!this.horizontallyCenter.disabled,b=this.verticallyCenter&&!this.verticallyCenter.disabled,w={position:"absolute",zIndex:this.zIndex,width:this.width,height:this.height};return"rteText"===this.type&&(w.overflow="hidden",w.display="flex",w.flexDirection="column",this.verticalAlign&&(w.justifyContent=this.verticalAlign)),c&&($.extend(w,{transform:"rotateZ(".concat(this.rotationAngle,"deg)"),opacity:this.opacity}),"anchored"===this.positionType?($.extend(w,(v={},{}.hasOwnProperty.call(l.anchorPosition||{},"left")&&(v.left=l.panel.width*l.anchorPosition.left),{}.hasOwnProperty.call(l.anchorPosition||{},"right")&&(v.right=l.panel.width*l.anchorPosition.right),{}.hasOwnProperty.call(l.anchorPosition||{},"top")&&(v.top=l.panel.height*l.anchorPosition.top),{}.hasOwnProperty.call(l.anchorPosition||{},"bottom")&&(v.bottom=l.panel.height*l.anchorPosition.bottom),v)),(y||b)&&(p=w,l.horizontallyCenter.disabled||l.verticallyCenter.disabled?l.horizontallyCenter.disabled||(p.right=0,p.left=0,$.extend(p,{margin:"0 auto"})):(p.top=0,p.right=0,p.bottom=0,p.left=0,$.extend(p,{margin:"auto auto"})),p.top=0,p.bottom=0,$.extend(p,{margin:"auto 0"}))):$.extend(w,((h={}).left=(null===(f=l.position)||void 0===f?void 0:f.left)?l.container.width*l.position.left+g:0,h.top=(null===(d=l.position)||void 0===d?void 0:d.top)?l.container.height*l.position.top+m:0,h))),w}},{key:"renderContentFromDynamicFeed",value:function(){}},{key:"useFtFeed",value:function(){return!1}}]),n}();s.default.HtmlElement=f},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(45);var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,i.default.AdApi),e}();i.default.AdApiSc=l},function(e,t,n){"use strict";var r,d=(r=n(0))&&r.__esModule?r:{default:r};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.ad=e}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"bindAnimationCallback",value:function(e){return e(this.ad.apiSetupOptions())}},{key:"trackViewed",value:function(e,t){if(e){var n,r,i=null===(n=this.ad.getElementByIid(t))||void 0===n?void 0:null===(r=n.container)||void 0===r?void 0:r.getUniqueTrackingKey();this.ad.uuidManager.cacheViewedUuid(e.itemUuid,i),this.ad.uuidManager.trackViewed(i)}}},{key:"openScreen",value:function(e,t,n){var r;n&&!this.ad.engaged&&this.ad.engage();var i,o=this.ad.getCurrentScreen();o&&(null===(i=o._animationElement())||void 0===i||i.ended());var a=this.ad.getScreenByName(e);null==a||null===(r=a.panel)||void 0===r||r.openScreen(a,null,t)}},{key:"openPanel",value:function(e){e.panel.close?this.ad.close():e.panel.open&&this.ad.open()}},{key:"_getLandingPage",value:function(e,t){if("__default"!==e)return e.itemIndex?null==t?void 0:t.getLandingPage(e):{url:this.ad.landingPages[e.id]||e.url};var n,r=null==t?void 0:null===(n=t._animationElement())||void 0===n?void 0:n.action;return null==t?void 0:t.getLandingPage(r)}},{key:"openLanding",value:function(e,t,n,r){var i,o=this,a=2<arguments.length&&void 0!==n?n:"",s=3<arguments.length&&void 0!==r?r:null;this.engaged||this.ad.engage();var u=this.ad.getCurrentScreen();e=this._getLandingPage(e,u);function l(e){return s(d.default.Net.appendQueryParamsToUrl(e,a))}var c=null==u?void 0:u.getTrackingKey(),f={description:"Clicked ".concat(null==u?void 0:null===(i=u._animationElement())||void 0===i?void 0:i.name),baseFeature:"screen",partition:c,landingPage:e};return t?this.ad.sendMessage({topic:"setup",action:"process_landing_page",url:t,callback:function(e){return o.ad.completionClickThrough(c,f,e,l)}}):this.ad.completionClickThrough(c,f,null,l)}}]),t}();d.default.AdApi=o},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(47);var f=function(){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,l(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,i.default.Ad),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(n,[{key:"_handleSetupMessage",value:function(e){u(l(n.prototype),"_handleSetupMessage",this).call(this,e)||this._evaluateMessageCallback(e)}},{key:"onPanelSetup",value:function(){var e=this;u(l(n.prototype),"onPanelSetup",this).call(this),this.topBaseUrl?($("head").append('<base href="'.concat(this.topBaseUrl,'">')),this.html5apiLoaded=!1,this.trackerLoaded=!1,this._loadHtml5API().then(function(){window.myFT.on("manifest",function(){e.html5apiLoaded=!0,e.isUsedByRobot()?(e.trackerLoaded=!0,e.runCallback()):e._loadTracker().then(function(){e.trackerLoaded=!0,e.runCallback()})})})):this.resolveReadyPromise()}},{key:"_loadHtml5API",value:function(){var e="".concat(this.isUsedByRobot()?"":"https://cdn.flashtalking.com/frameworks/js/api/2/10/","html5API.js");return this._loadScript(e)}},{key:"_loadTracker",value:function(){return this._loadScript("https://cdn.flashtalking.com/feeds/frameworks/js/utils/Tracker.js")}},{key:"_loadScript",value:function(e){var t=$("<script>").attr({type:"text/javascript",src:e});return $(document.body).append(t),new Promise(function(e){t.on("load",e)})}},{key:"runCallback",value:function(){if(this.html5apiLoaded&&this.trackerLoaded){var e=this.getCallback();window.myFT.instantAds?window.myFT.on("instantads",e):e()}}},{key:"getCallback",value:function(){return this.applySafariWorkaround(),this.resolveReadyPromise.bind(this)}},{key:"applySafariWorkaround",value:function(){try{var e=window.parent.location.host,t="creativepreview-qa-creativemanager.flashtalking.net"===e||"creativepreview.flashtalking.net"===e;if(i.default.Browser.isSafari()&&t)window.parent.parent.document.querySelector(".o-app span:first-child").style.display="none"}catch(e){}}},{key:"track",value:function(e){i.default.Console.log("Tracker: %o",e),this.html5apiLoaded&&window.myFT.send("tracker",e)}},{key:"_processSetupSettings",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};u(l(n.prototype),"_processSetupSettings",this).call(this,t),this.clickTagCount=t.clickTagCount}}]),n}();i.default.AdFt=f},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(4);__webpack_require__(9),__webpack_require__(10),__webpack_require__(11),__webpack_require__(12),__webpack_require__(13),__webpack_require__(3),__webpack_require__(14),__webpack_require__(15),__webpack_require__(16),__webpack_require__(17),__webpack_require__(8),__webpack_require__(7),__webpack_require__(48),__webpack_require__(18),__webpack_require__(49),__webpack_require__(50),__webpack_require__(51);var _spongecell=_interopRequireDefault(__webpack_require__(0)),_myAdLib=_interopRequireDefault(__webpack_require__(52));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ad=function(_spongecell$Module){function Ad(e){var t;return _classCallCheck(this,Ad),t=_possibleConstructorReturn(this,_getPrototypeOf(Ad).call(this,e)),_spongecell.default.Console.log("Initializing Ad: %o",e),t.impTag=t._getImpressionTag(),t.impTag._initAd(_assertThisInitialized(_assertThisInitialized(t))),t.iframe=t._getIframe(e),t.monotypeFontsManager=_spongecell.default.MonotypeFontsManager?new _spongecell.default.MonotypeFontsManager(e):null,t.adTypeId=t.impTag.creativeSettings.adTypeId,t.isSocial=-1!==[Ad.TYPES.facebookImage,Ad.TYPES.facebookVideo,Ad.TYPES.youTubeInStream,Ad.TYPES.youTubeDiscovery].indexOf(t.adTypeId),t.usedByRobot=!!e.used_by_robot,t.animationMode=!!e.animation,t.animationScreen=e.animation,t.animationLayout=e.animation_layout,t.canvasMode=e.canvas,t.screenshotMode=e.screenshot,t.isPreview=e.preview||!1,t.feedData=[],t.feedsCustomReportingEnabled=!1,t.feedsCustomReportingFields=[],t.feedsUseFallback=!1,t.impressionTracked=!1,t.factory=new _spongecell.default.VendorClassFactory,t.eventManager=new _spongecell.default.EventManager(_assertThisInitialized(_assertThisInitialized(t))),t.uuidManager=new _spongecell.default.UuidManager(_assertThisInitialized(_assertThisInitialized(t))),t.adApi=t.factory("AdApi",_assertThisInitialized(_assertThisInitialized(t))),_spongecell.default.Browser.isMobile()&&t._setupViewPort(),t.setupComplete=!1,t.adReadyPromise=new Promise(function(e){t.adReadyPromiseResolve=e}),t.adFullLoadPromise=new Promise(function(e){t.adFullLoadPromiseResolve=e}),t._setupChannels(),window.myAdLib=new _myAdLib.default(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(Ad,_spongecell$Module),_createClass(Ad,[{key:"isUsedByRobot",value:function(){return this.usedByRobot}},{key:"isAutoStart",value:function(){return!this.isUsedByRobot()}},{key:"_getIframe",value:function(e){if(e.canvas||e.animation)return!1;if(e.iframe)return e.iframe;try{var t,n,r;return!!(null===(t=this.impTag)||void 0===t?void 0:null===(n=t.creativeSettings)||void 0===n?void 0:null===(r=n.tags)||void 0===r?void 0:r.studioIframe)}catch(e){return!1}}},{key:"_getImpressionTag",value:function(){var e;return window.impressionTag||(null===(e=window.parent)||void 0===e?void 0:e.impressionTag)}},{key:"_createBackground",value:function(e,t,n){e.background=this.factory("Background",e,t,n)}},{key:"_createPanels",value:function(e){var i=this;if(this.panels=[],e.forEach(function(e){var t,n,r=(e.ad=i).factory("HtmlAdPanel",e);i.panels.push(r),(null===(t=e.background)||void 0===t?void 0:t.length)&&i._createBackground(r,e.background),null===(n=e.logs)||void 0===n||n.forEach(function(e){_spongecell.default.Console.log("Import logs: %o",e)})}),1<this.panels.length)return this.expansionRequired=!0,this.basePanel=this.panels[0],this.expandable=this.panels[1],this.basePanel.type="teaser",void(this.expandable.type="expanded");this.basePanel=this.panels[0],this.basePanel.type="standard",$(document.body).addClass("spongecell-ad")}},{key:"activePanel",value:function(){return this.expansionRequired&&this.opened?this.expandable:this.basePanel}},{key:"loadNonHomeElements",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.panels.forEach(function(e){return e.loadNonHomeElements(t)})}},{key:"_setup",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};_spongecell.default.Console.log("Initializing Ad Settings: %o",$.extend({},n)),this.isUsingFeeds()&&!this.isUsingDynamicFeeds()?this.getFeedDataLoadingPromise().then(function(){t._processAdRevisionSettings(n.adRevisionSettings),t._processSetupSettings(n)}):(this._processAdRevisionSettings(n.adRevisionSettings),this._processSetupSettings(n))}},{key:"_processAdRevisionSettings",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._createPanels(t.panels),this.iframe||(this.$el=$(document.getElementById("spongecell-ad-".concat(this.iid)))),this.expansionRequired&&this._sendExpansionMessage()}},{key:"_processSetupSettings",value:function(e){var t,n=this,r=0<arguments.length&&void 0!==e?e:{};this.iid=this.iid||r.iid,this.topDimensions=r.topDimensions,this.border=r.border||{},this.assets=r.assets||{},this.videoAssets=r.videoAssets||{},this.properties={flashData:$.extend(r.flashData||{},{name:"flashData"})},this.api=r.api,this.delayLoading="home"===(null===(t=r.loading)||void 0===t?void 0:t.strategy),this.creativeSettings=r,this.disableFullScreen=r.disableFullScreen,this.mraid=r.mraid,this.loading=r.loading,this.formatSettings=r.formatSettings||{},this.internalMacros=r.internalMacros||{},this.flexible=this.formatSettings.flexible,this.topBaseUrl=r.topBaseUrl||"",this.videoHost=r.videoHost;this.features=this._getFeatures(r,{}),this.panels.forEach(function(e){var t;null===(t=n.monotypeFontsManager)||void 0===t||t.onPanelCreate(e.settings),e.screens.forEach(function(e){var t;e.getComponentElements().forEach(function(e){var t;e.settings.vpaid&&(e.vpaid=!0),null===(t=n.monotypeFontsManager)||void 0===t||t.onFeatureSetup(e)}),null===(t=n.monotypeFontsManager)||void 0===t||t.onScreenSetup(e)})}),this.flexible&&_spongecell.default.Event.on(window,"resize",function(){return n.eventManager.publish("resize:".concat(n.iid))});function i(){return n._finishProcessSetupSettings(r)}var o=[];this.monotypeFontsManager&&o.push(this.monotypeFontsManager.getMonotypeLoadingPromise()),Promise.all(o).then(i,i)}},{key:"isUsingFeeds",value:function(){return!(0,_lodash.isEmpty)(this.impTag.creativeSettings.feeds)}},{key:"isUsingDynamicFeeds",value:function(){return!!this.isUsingFeeds()&&(!this.isPreview&&(this.impTag.creativeSettings.feeds.dynamic||!1))}},{key:"_getFeedDataPromise",value:function(r,i,o,a,s){var u=this;return new Promise(function(t){var e=r;o&&(u.feedsCustomReportingEnabled=!0,u.feedsCustomReportingFields=a),s&&window.myFT&&window.myFT.instantAds&&window.myFT.instantAds.Feed_URL&&(e=window.myFT.instantAds.Feed_URL);var n=0<=e.search("ftCreds=1");_spongecell.default.Console.log("Loading feeds from feeds URL... Credentials: ".concat(n)),_spongecell.default.Net.ajax(e,function(e){u.feedData=e,t()},function(){if(i){_spongecell.default.Console.log("Loading feeds from fallback URL...");var e=0<=i.search("ftCreds=1");_spongecell.default.Net.ajax(i,function(e){u.feedData=e,t()},function(){u.feedsUseFallback=!0,_spongecell.default.Console.log("Setting feeds to fallback."),t()},!1,{},void 0,e)}else u.feedsUseFallback=!0,_spongecell.default.Console.log("Setting feeds to fallback."),t()},!1,{},void 0,n)})}},{key:"getFeedDataLoadingPromise",value:function(e){var t=0<arguments.length&&void 0!==e&&e,n=this.impTag.creativeSettings.feeds,r=n.url,i=n.fallbackUrl,o=n.customReportingEnabled,a=n.customReportingFields;return this._getFeedDataPromise(r,i,o,a,t)}},{key:"_getFeatures",value:function(e,t){var n=this,r=[];return(e.features||[]).forEach(function(e){e=_spongecell.default.AdFeature.create(n,e),t[e.id]=e,r.push(e)}),r}},{key:"onPanelSetup",value:function(){this.formatSettings.autoRemove&&this._setupRemoveTimer(),this.canvasMode?this._setupCanvasMode():(this._loadFeatures(),this.expansionRequired&&this._setupExpansion()),this.animationMode&&this._setupAnimationMode()}},{key:"_finishProcessSetupSettings",value:function(n){var r=[];this.panels.forEach(function(e){if("overlay"!==e.expansionType){var t=e.setup(n);r.push(t)}});var e=this.onPanelSetup.bind(this);Promise.all(r).then(e,e)}},{key:"_setupRemoveTimer",value:function(){this.mraid&&this.formatSettings.useCustomClose&&this.mraidRequest("useCustomClose",!0),this.interstitial={},this.formatSettings.killTimer||(this.interstitial.removeTimer=1e3*this.formatSettings.initialTimer,this.interstitial.engageTimer=this.formatSettings.engageTimer?1e3*this.formatSettings.engageTimer:null,this.interstitial.removeTimeout=setTimeout(this.remove,this.interstitial.removeTimer),this.interstitial.removeTimerStart=new Date)}},{key:"_setupViewPort",value:function(){var e=document.querySelector("meta[name=viewport]");if(e)e.content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1";else{(e=document.createElement("meta")).name="viewport",e.content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1";var t=document.getElementsByTagName("head")[0];null==t||t.appendChild(e)}}},{key:"_loadFeatures",value:function(){function t(){return e.adReadyPromise.then(n)}var e=this,n=this._allFeaturesLoaded.bind(this),r=this.features.length;if(0!==r){this.features.map(function(e){return e.load(function(){0==(r-=1)&&t()})})}else t()}},{key:"_allFeaturesLoaded",value:function(){var e=this;this.featuresLoaded=!0,Promise.all(this.panels.map(function(e){return e.load()})).then(function(){setTimeout(function(){e._removeLoader(),e.eventManager.dispatch("adLoaded"),setTimeout(e.adFullLoadPromiseResolve,1)})})}},{key:"resolveReadyPromise",value:function(){var e=this;this.isUsingDynamicFeeds()?this.getFeedDataLoadingPromise(!0).then(function(){e.adReadyPromiseResolve()}):this.adReadyPromiseResolve()}},{key:"_removeLoader",value:function(){this.sendMessage({topic:"loading",action:"removeLoader"})}},{key:"_setupChannels",value:function(){var e,t,n=this;this.iframe?this.iid=null===(e=this.impTag)||void 0===e?void 0:e.iid:this.iid=null===(t=this.impTag)||void 0===t?void 0:t.studioTag.iid;_spongecell.default.adTags=_spongecell.default.adTags||{},_spongecell.default.adTags[this.iid]=this,_spongecell.default.Event.addMessageListener(function(e){return n.receiveMessage(e)}),this.isUsedByRobot()||this.startSetup()}},{key:"startSetup",value:function(){var t=this;this.setupComplete||(window.setTimeout(function(){return t.sendMessage({topic:"setup",callback:function(e){return t._setup(e)}})}),this.setupComplete=!0)}},{key:"_setupCanvasMode",value:function(){var e,t,n=this;this.$el.addClass("sc-canvas-mode"),this.delayLoading=!1,this._removeLoader(),null===(e=this.basePanel.persistentLayer)||void 0===e||e.load(),null===(t=this.basePanel.background)||void 0===t||t.load(),_spongecell.default.Broker.registerClient("canvas",function(e){return n._handleCanvasMessage(e)})}},{key:"_setupAnimationMode",value:function(){this.$el.addClass("sc-animation-mode")}},{key:"remove",value:function(){this.canvasMode||(this.mraid?this.mraidRequest("close"):this.sendMessage({topic:"nav",action:this.formatSettings.autoRemove?"remove":"close"}))}},{key:"openLink",value:function(e){this.mraid?this.mraidRequest("openLink",e):window.open(e)}},{key:"mraidRequest",value:function(e,t,n){this.sendMessage({topic:"mraid",fn:e,params:t,callback:n})}},{key:"engage",value:function(){var e,t,n;if(!this.canvasMode){this.$el.find(".outer-wrapper").remove();var r=!this.engaged;this.engaged=!0;var i=this.getCurrentScreen();null==i||null===(e=i.engage)||void 0===e||e.call(i),this.delayLoading&&r&&this.loadNonHomeElements(),null===(t=this.basePanel.persistentLayer)||void 0===t||t.engage(),null===(n=this.basePanel.background)||void 0===n||n.engage()}}},{key:"sendMessage",value:function(e){var n=this,r=0<arguments.length&&void 0!==e?e:{};if(r.iid=this.iid||"OVERRIDE",_spongecell.default.Console.log("Sending message from Ad: %o",r),this.iframe){var t=r.callback||function(){};this.impTag.sendChannelMessage(r.topic,r,t)}else _spongecell.default.Broker.sendOnChannel(r,r.callback),$("iframe").each(function(e,t){n._sendMessage(t.contentWindow,r)})}},{key:"_sendMessage",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};n=JSON.stringify(n),e.postMessage(n,"*")}},{key:"receiveMessage",value:function(e){switch(_spongecell.default.Console.log("Ad Receiving message: %o",e),e.topic){case"nav":this._handleNavMessage(e);break;case"setup":this._handleSetupMessage(e);break;case"vpaid":this._handleVPAIDMessage(e);break;default:this._evaluateMessageCallback(e)}}},{key:"_evaluateMessageCallback",value:function _evaluateMessageCallback(message){this[message.callback]&&(message.callback=_spongecell.default.Broker.registerCallbackFn(this[message.callback]));var evaluationFn=eval(message.callback);null==evaluationFn||evaluationFn(message.response)}},{key:"_handleNavMessage",value:function(e){this._handleNavMessageScreen(e)||this._handleNavMessageEngagement(e)||this._handleNavMessagePanel(e)||this._evaluateMessageCallback(e)}},{key:"_handleNavMessageScreen",value:function(e){if(e.screen)return this.adApi.openScreen(e.screen,e.transition,e.engage),!0}},{key:"_handleNavMessageEngagement",value:function(e){if(e.engagement&&!this.engaged)return this.engage(),!0}},{key:"_handleNavMessagePanel",value:function(e){if(e.panel)return this.adApi.openPanel(e),!0}},{key:"_handleSetupMessage",value:function(e){if("api"===e.type){var t={data:this.apiSetupOptions(),callback:e.callback};return this._sendAnimationMessage(t,e),!0}}},{key:"_handleVPAIDMessage",value:function(e){this.processVideoEvent(e),this.sendVpaidMessage("actionComplete",e)}},{key:"sendVpaidMessage",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.sendMessage({topic:"vpaid",action:e,callbackString:n.callback})}},{key:"_sendAnimationMessage",value:function(e,t){var n,r=t.iid;e.callbackParams=t.callbackParams||{};var i=document.getElementById("animation-".concat(r));null===(n=i=i||this.expandable&&this.expandable.doc.getElementById("animation-".concat(r)))||void 0===n||n.contentWindow.postMessage(e,"*")}},{key:"_handleCanvasMessage",value:function(e){var t,n;switch(_spongecell.default.Console.log("Ad Receiving Canvas message %o",e),e.action){case"refresh":this.basePanel.refresh(e);break;case"showOverState":this.basePanel.showOverState(e);break;case"hideOverState":this.basePanel.hideOverState(e);break;case"show":this.basePanel.show(e);break;case"update":this.assets=e.assets;break;case"hideElement":this.$el.find("#elem-".concat(e.element)).hide(),this.lockedElements=this.lockedElements||{},e.locked&&(this.lockedElements[e.element]=!0);break;case"showElement":this.$el.find("#elem-".concat(e.element)).show(),this.lockedElements=this.lockedElements||{},this.lockedElements[e.element]=!1;break;case"onLayoutMode":null===(t=this.getScreenByName(e.screen))||void 0===t||t.setLayoutMode(!0);break;case"offLayoutMode":null===(n=this.getScreenByName(e.screen))||void 0===n||n.setLayoutMode(!1)}}},{key:"apiSetupOptions",value:function(){var r=this,i={assets:{},properties:{},spongecellParams:this.internalMacros};return Object.keys(this.assets).forEach(function(e){var t=r.assets[e],n=t.label||t.name;i.assets[n]=t}),Object.keys(this.properties).forEach(function(e){var t=r.properties[e];i.properties[t.name]=t}),this.dynamicItems&&(i.dynamicItems=this.dynamicItems),i}},{key:"getCurrentScreen",value:function(){var e,t;return(null===(e=this.activePanel())||void 0===e?void 0:e.currentScreen)||(null===(t=this.activePanel())||void 0===t?void 0:t.getHomeScreen())}},{key:"getScreenByName",value:function(t){var n;return this.panels.forEach(function(e){e.screens.forEach(function(e){e.name!==t||n||(n=e)})}),n}},{key:"getElementByIid",value:function(n){var r=null;return this.panels.forEach(function(e){e.screens.forEach(function(e){var t=e.getElementByIid(n);t&&!r&&(r=t)})}),r}},{key:"topWindowDimensions",value:function(){if(this.mraid&&this.topDimensions)return this.topDimensions;var e=_spongecell.default.Expansion.getWindow();return{width:e.innerWidth,height:e.innerHeight}}},{key:"getFeedTextField",value:function(e,t){var n;return this.feedData[e]&&this.feedData[e][t]&&(n=this.feedData[e][t].toString()),n}}]),Ad}(_spongecell.default.Module);Ad.TYPES={htmlStandard:1,facebookImage:2,facebookVideo:3,youTubeInStream:4,youTubeDiscovery:5},_spongecell.default.PanelContainer&&Ad.extend(_spongecell.default.PanelContainer),_spongecell.default.Ad=Ad},function(e,t,n){"use strict";var r,j=(r=n(0))&&r.__esModule?r:{default:r};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}j.default.Renderer=function(){function f(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(f,null,[{key:"normalImage",value:function(e){return!(e.backgroundType&&"normal"!==e.backgroundType||e.cropMode)}},{key:"imageCss",value:function(e,t){if(!t)return{};var n,r;/\.gif$/.test(t)&&(n=t,r=Math.floor(1e13*Math.random()),t="".concat(n,"?cb=").concat(r));var i={backgroundImage:"url('".concat(t,"')")};switch("crop"===e.backgroundType?"normal":e.backgroundType){case"normal":if(i.backgroundSize="100% 100%",e.cropDimensions){var o=e.cropDimensions;i.backgroundSize="auto",i.backgroundPosition="".concat(-1*o.x,"px ").concat(-1*o.y,"px")}if(e.backgroundDimensions){var a=e.backgroundDimensions,s={width:a.width/e.size.width*100,height:a.height/e.size.height*100};if(i.backgroundSize="".concat(s.width,"% ").concat(s.height,"%"),!e.cropMode){var u={x:a.width!==e.size.width?a.x/(a.width-e.size.width)*100:0,y:a.height!==e.size.height?a.y/(a.height-e.size.height)*100:0};i.backgroundPosition="".concat(u.x,"% ").concat(u.y,"%")}}i.backgroundRepeat="no-repeat";break;case"fit":i.backgroundSize="contain",i.backgroundRepeat="no-repeat",i.backgroundPosition="50% 50%";break;case"fill":i.backgroundSize="cover",i.backgroundRepeat="no-repeat",i.backgroundPosition="50% 50%";break;case"center":i.backgroundRepeat="no-repeat",i.backgroundPosition="center center";break;case"repeat":i.backgroundRepeat="repeat";break;case"optimized":i.backgroundSize="100% 100%",i.backgroundRepeat="no-repeat";break;default:i.backgroundRepeat="no-repeat"}return i}},{key:"imageStyle",value:function(e,t){var n,r=this.imageCss(e,t);return(null===(n=e.image)||void 0===n?void 0:n.backgroundColor)&&(r.backgroundColor=e.image.backgroundColor),$.extend({},r,f.getContainerCSS(e.image))}},{key:"imageButtonHtml",value:function(r,i){var o=this,a="";return["up","over","down"].forEach(function(e){var t=i[e],n=$('<div>\n  <div class="'.concat(e,'-state button-state"></div>\n</div>'));o.imageCss(r,t)&&n.find(".button-state").css(o.imageCss(r,t)),t&&(a+=n.html())}),a}},{key:"arrowButtonHtml",value:function(n){var r="";return["up","over"].forEach(function(e){var t=$('<div>\n  <div class="'.concat(e,'-state button-state">\n    ').concat(function(){switch(n.variant){case 1:return'<div class="sc-triangle"></div>\n<div class="button-semi"></div>';case 2:return'<div class="arrow-box">\n  <?xml version="1.0" encoding="iso-8859-1"?>\n    <svg version="1.1" id="arrow-2-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n      x="0" y="0" viewBox="0 0 43 43" style="position: absolute;" xml:space="preserve">\n        <path d="M17.897 29.639l.69.722 9.271-8.863-9.266-8.86-.691.723 8.51 8.137z" />\n    </svg>\n</div>\n';case 3:return'<div class="sc-triangle full"></div>';default:return""}}(),"\n  </div>\n</div>"));r+=t.html()}),r}},{key:"closeButtonHtml",value:function(n){var r="";return["up","over"].forEach(function(e){var t=$('<div>\n  <div class="'.concat(e,'-state button-state">\n    ').concat(function(){switch(n.variant){case 1:case 2:return'<?xml version="1.0" encoding="iso-8859-1"?>\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  x="0" y="0" viewBox="0 0 25 25" style="position: absolute;" xml:space="preserve">\n    <path d="M11.162 12.432L5.19 6.461l1.338-1.338 5.972 5.972 5.972-5.972L19.81 6.46l-5.972 5.971 5.972 5.972-1.338\n      1.338L12.5 13.77l-5.972 5.972-1.338-1.338 5.972-5.972z"/>\n</svg>';case 3:return'<?xml version="1.0" encoding="iso-8859-1"?>\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  x="0" y="0" viewBox="0 0 18 18" style="position: absolute;" xml:space="preserve">\n    <path d="M6.935 9.405L-.05 2.42 1.515.856 8.5 7.84 15.485.856\n      17.05 2.42l-6.985 6.985 6.985 6.986-1.565 1.564L8.5 10.97l-6.985 6.985-1.565-1.564 6.985-6.986z"/>\n</svg>';default:return""}}(),"\n  </div>\n</div>"));r+=t.html()}),r}},{key:"videoPlayButtonHtml",value:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).fill;return'<?xml version="1.0" encoding="iso-8859-1"?>\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  x="0" y="0" viewBox="0 0 512 512" xml:space="preserve">\n    <path fill="'.concat(void 0===t?"#FFF":t,'" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176\n      101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z" />\n</svg>')}},{key:"posterFrameHtml",value:function(e,t,n){var r=2<arguments.length&&void 0!==n&&n,i=[],o=e.posterFrame,a=(o=void 0===o?{}:o).icon,s=(a=void 0===a?{}:a).color,u=a.visible,l=a.text;if(!t&&!u)return null;s&&l&&i.push("color:".concat(s)),t&&i.push("background-image:url(".concat(t,")"));var c='<div class="poster-frame '.concat(e.type||"",'" style="').concat(i.join(";"),'">');return u&&!r&&(c+='<div class="poster-frame-icon">'.concat(f.videoPlayButtonHtml({fill:s}),"</div>"),l&&(c+="<div class='poster-frame-text'>".concat(l,"</div>"))),c+="</div>"}},{key:"applyArrowButtonStyle",value:function(r,n){var i,o,e=1,t=r.width||r.size.width,a=r.height||r.size.height,s=Math.min(t,a);switch(r.variant){case 1:r.borderWidth=2;break;case 2:case 3:r.borderWidth=1}function u(e){var t={borderLeftColor:r.button[e].borderColor,borderTopColor:r.button[e].borderColor,borderLeftWidth:"".concat(r.borderWidth,"px"),borderTopWidth:"".concat(r.borderWidth,"px"),width:c,height:c,transform:"rotate(135deg)","-webkit-transform":"rotate(135deg)",top:0,right:0};return 3===r.variant&&(r.orientation.match(/left|right/)?t.right="50%":"up"===r.orientation?t.top="33%":"down"===r.orientation&&(t.bottom="33%")),t}function l(){var e=$.extend(!0,{},r.button.style.shadow);if(2===r.variant&&r.orientation.match(/up|down/)){var t=[e.y,e.x];e.x=t[0],e.y=t[1]}var n=function(){if(1===r.variant)switch(r.orientation){case"right":return{x:1,y:1};case"left":return{x:-1,y:-1};case"up":case"down":default:return{x:1,y:1}}else if(2===r.variant)switch(r.orientation){case"right":return{x:1,y:1};case"left":return{x:-1,y:-1};case"up":return{x:-1,y:1};case"down":return{x:1,y:-1};default:return{x:1,y:1}}}();return"".concat(e.x*n.x,"px ").concat(e.y*n.y,"px ").concat(e.blur,"px ").concat(e.spread,"px ").concat(e.color)}var c=(s*Math.sqrt(2)/2-r.borderWidth)*e,f={up:"style",over:"hoverStyle"};switch(r.variant){case 1:e=.7,n().addClass(r.orientation),n().find(".button-semi").removeClass("up down right left"),n().find(".button-semi").addClass(r.orientation),n().css({boxShadow:l()}),Object.keys(f).forEach(function(e){if(o=f[e],n(".".concat(e,"-state .sc-triangle")).css(u(o)),n(".".concat(e,"-state .button-semi")).css({backgroundColor:r.button[o].bgColor}),r.orientation.match(/up|down/)){i="up"===r.orientation?45:225;var t={transform:"rotate(".concat(i,"deg)"),"-webkit-transform":"rotate(".concat(i,"deg)")};n(".".concat(e,"-state .sc-triangle")).css(t),n(".".concat(e,"-state .button-semi")).css({right:0,bottom:0,margin:"auto"})}});break;case 2:n().addClass("round"),n().css({boxShadow:l()}),Object.keys(f).forEach(function(e){o=f[e],n(".".concat(e,"-state")).css({backgroundColor:r.button[o].bgColor,border:"".concat(r.borderWidth,"px solid ").concat(r.button[o].borderColor)}),n(".".concat(e,"-state path")).css({fill:r.button[o].borderColor})});break;case 3:switch(n().css({boxShadow:"none"}),r.orientation){case"up":i=45;break;case"down":i=225;break;default:i=135}e=.9,Object.keys(f).forEach(function(e){var t=u(o=f[e]);t.transform="rotate(".concat(i,"deg)"),t["-webkit-transform"]="rotate(".concat(i,"deg)"),n(".".concat(e,"-state .sc-triangle")).css(t)}),n(".over-state .sc-triangle").css({borderTopWidth:"".concat(r.borderWidth+2,"px"),borderLeftWidth:"".concat(r.borderWidth+2,"px")})}var d=function(){var e=0;switch(r.orientation){case"up":2===r.variant&&(e=-90);break;case"right":e=0;break;case"down":2===r.variant&&(e=90);break;case"left":e=180;break;default:return""}return e+=r.rotationAngle,"rotate(".concat(e,"deg)")}();n(".arrow-box").addClass(r.orientation),n().css({transform:d,"-webkit-transform":d})}},{key:"applyCloseButtonStyle",value:function(n,r){function e(){var e=n.button.style.shadow;return"".concat(e.x,"px ").concat(e.y,"px ").concat(e.blur,"px ").concat(e.spread,"px ").concat(e.color)}var i={up:"style",over:"hoverStyle"};switch(n.variant){case 1:r().removeClass("round"),r().css({boxShadow:e()}),Object.keys(i).forEach(function(e){var t=i[e];r(".".concat(e,"-state")).css({backgroundColor:n.button[t].bgColor}),r(".".concat(e,"-state path")).css({fill:n.button[t].borderColor})});break;case 2:r().addClass("round"),r().css({boxShadow:e()}),Object.keys(i).forEach(function(e){var t=i[e];r(".".concat(e,"-state")).css({backgroundColor:n.button[t].bgColor}),r(".".concat(e,"-state path")).css({fill:n.button[t].borderColor})});break;case 3:r().removeClass("round"),r().css({boxShadow:"none"}),Object.keys(i).forEach(function(e){var t=i[e];r(".".concat(e,"-state path")).css({fill:n.button[t].borderColor})})}}},{key:"normalizeTextStyleObject",value:function(t){var e,n,r=t.text.style;if(null!=r){var i=r.textStyle;"string"==typeof i&&(t.text.style.textStyle={},t.text.style.textStyle[i]=1),Object.keys(t.text.style.textStyle).forEach(function(e){1!==t.text.style.textStyle[e]&&delete t.text.style.textStyle[e]}),r.verticalAlign=r.verticalAlign||"top",(null===(e=r.lineHeight)||void 0===e?void 0:e.toString().match(/^\d+$/))?(r.lineHeight=parseInt(r.lineHeight,10)/parseInt(r.fontSize,10)*100,r.lineHeight/=1.2,r.lineHeight="".concat(Math.round(r.lineHeight),"%")):(null===(n=r.lineHeight)||void 0===n?void 0:n.toString().match(/^\d+%$/))||(r.lineHeight="100%"),r.letterSpacing=r.letterSpacing||"0%"}}},{key:"applyTextStyle",value:function(r,e){var t,n,i,o=$.extend({},r.text.style),a={bold:["fontWeight","normal","bold"],italic:["fontStyle","normal","italic"],underline:["textDecoration","","underline"],strikethrough:["textDecoration","","line-through"]},s=o.textStyle;if(o.fontSize=o.fontSize?"".concat(o.fontSize,"pt"):"",o.textDecoration="",Object.keys(a).forEach(function(e){var t,n=a[e];1===(null==s?void 0:s[e])?(t=n[2],"textDecoration"===n[0]&&o[n[0]]&&(t=[t,o[n[0]]].join(" "))):t=n[1],"monotype"!==r.text.fontMode||"fontWeight"!==n[0]&&"fontStyle"!==n[0]||"normal"===o[n[0]]||(t=o[n[0]]),t&&(o[n[0]]=t)}),delete o.textStyle,o.lineHeight="".concat(1.2*parseInt(o.lineHeight,10),"%"),"textButton"===r.type&&"fixed"===(null===(t=r.button)||void 0===t?void 0:null===(n=t.style)||void 0===n?void 0:n.expand)?(o.verticalAlign="middle",o.textAlign="center"):o.verticalAlign=o.verticalAlign||"top",e.find(".inner-text-wrapper").addClass(o.verticalAlign),delete o.verticalAlign,o.letterSpacing="".concat(j.default.Renderer.calculateLetterSpacing(o.letterSpacing),"em"),null!=o.fontColor&&!1===(null===(i=$.support)||void 0===i?void 0:i.opacity)){var u=o.fontColor.match(/\d+/g);o.fontColor="rgb(".concat(u.slice(0,3).join(","),")")}e.find(".inner-text").css(o)}},{key:"calculateTextButtonOffset",value:function(e,t,n){var r,i,o=null===(r=e.text)||void 0===r?void 0:null===(i=r.style)||void 0===i?void 0:i.textAlign;return"center"===o?t/2/n:"right"===o?t/n:0}},{key:"elementFitToContent",value:function(e,t,n){var r=j.default.Renderer.getTextContentWidth(e,t,n);e.size.width=r.width,e.size.height=r.height}},{key:"elementPositionToTextAlign",value:function(e,t,n,r){var i=j.default.Renderer.getTextContentWidth(e,n,r),o=e.size.width-i.width;0!=o&&(e.position.left+=j.default.Renderer.calculateTextButtonOffset(e,o,t))}},{key:"calculateLineHeight",value:function(e){return"".concat(1.2*parseInt(e,10),"%")}},{key:"calculateLetterSpacing",value:function(e){var t=parseInt(e,10)/100;return Math.round(1e3*t)/1e3}},{key:"getTextContentWidth",value:function(e,t,n){var r,i=!(1<arguments.length&&void 0!==t)||t,o=2<arguments.length?n:void 0,a=$("<span>").addClass("text-length-fake").appendTo(document.body),s=(e.text||{}).style,u=(s=void 0===s?{}:s).fontFamily,l=s.fontSize,c=s.letterSpacing,f=s.lineHeight,d=s.textStyle,h=(d=void 0===d?{}:d).bold,p=void 0===h?"normal":h,v=(e.button||{}).style,m=(v=void 0===v?{}:v).paddingVertical,g=v.paddingHorizontal,y=v.borderWidth,b=v.expand,w=j.default.Renderer.calculateLineHeight(f),_=j.default.Renderer.calculateLetterSpacing(c);null==o&&(o=(null===(r=e.text)||void 0===r?void 0:r.text)||"");o.length<1&&(o="&nbsp;");var k={fontSize:"".concat(l,"pt"),letterSpacing:"".concat(_,"em"),lineHeight:w,paddingTop:+m,paddingBottom:+m,paddingLeft:+g,paddingRight:+g,borderWidth:"".concat(y,"px"),fontWeight:p,fontFamily:u};"fixed"===b&&(k.whiteSpace="normal"),a.html(o).css(k);var x=Math.ceil(i?a.outerWidth():a.width()),S=Math.ceil(i?a.outerHeight():a.height());return a.remove(),{width:x,height:S}}},{key:"applyTextButtonStyle",value:function(e,t){var n=e.button.style||{},r=n.expand,i=n.paddingHorizontal,o=void 0===i?10:i,a=n.paddingVertical,s=void 0===a?10:a,u=n.borderWidth,l=n.bgColor,c=n.borderColor,f=n.borderRadius,d=n.shadow,h=e.size,p=h.width,v=h.height,m="fixed"===r?10:+o,g="fixed"===r?10:+s;p<2*m&&(m=Math.floor(p/2)),v<2*g&&(g=Math.floor(v/2));var y=j.default.Renderer.normalizeBorderRadius(f),b={backgroundColor:l,borderWidth:u,borderColor:c,paddingTop:g,paddingBottom:g,paddingLeft:m,paddingRight:m,borderTopLeftRadius:y.topLeft,borderTopRightRadius:y.topRight,borderBottomRightRadius:y.bottomRight,borderBottomLeftRadius:y.bottomLeft,boxShadow:"".concat(d.x,"px ").concat(d.y,"px ").concat(d.blur,"px ").concat(d.spread,"px ").concat(d.color)};"fixed"===r&&(b.whiteSpace="normal"),t.find(".button-wrapper").css(b)}},{key:"applyTextButtonFixedSize",value:function(e,t,n){var r,i,o=e.size,a=o.width,s=o.height,u=(null===(r=e.text)||void 0===r?void 0:null===(i=r.style)||void 0===i?void 0:i.fontSize)||72,l=t.find(".inner-text");a=20<a?a-20:a,s=20<s?s-20:s,j.default.Renderer.adjustTextToFitArea(l,a,s,u,n)}},{key:"adjustTextToFitArea",value:function(e,t,n,r,i){var o=3<arguments.length&&void 0!==r?r:72,a=4<arguments.length&&void 0!==i?i:"linear",s=e.clone(),u=s[0];s.addClass("text-to-fit-area-fake").css({width:t,height:n,fontSize:"1pt"}).appendTo(document.body);function l(e,t){e.css("font-size","".concat(t,"pt"))}function c(){return u.scrollWidth<=t&&u.scrollHeight<=n}var f="linear"===a?function(e,t){for(var n=e;c()&&!(t<=(n+=.5));)l(s,n);return n}(1,o):function(e,t){for(var n;e<=t;)l(s,n=(e+t)/2),c()?e=n+1:t=n-1;return n}(1,o);l(e,f-.5),s.remove()}},{key:"applyTextOverflow",value:function(e){var t,n,o=e.element,a=e.el,s=e.selector,u=!o.ad||"text"!==o.type&&"rteText"!==o.type?a:s.parent(),r=o.magnitude||1,l=$.extend({},o.text.style),c=l.fontSize?+l.fontSize.toString().replace(/[^0-9]/g,"")*r:12,f=r,i=(null===(t=o.text.overflow)||void 0===t?void 0:t.type)||"autofit",d={none:function(){s.css({transformOrigin:"center",transform:"scale(1)"}),u.css("overflow","visible"),"rteText"===o.type&&u.css("overflow","hidden")},autofit:function(){function e(e){var t=e,n=(i=function(){var e=s.clone();return a.append(e),e.css({fontSize:"".concat(c,"pt"),fontFamily:l.fontFamily,fontWeight:l.fontWeight||"normal",fontStyle:l.fontStyle||"normal",letterSpacing:u.css("letterSpacing")||"0em",width:o.width||u.css("width"),height:o.height||u.css("height"),visibility:"hidden",opacity:0}),e}())[0],r=t;return n.scrollWidth>i.width()&&(r=i.width()/n.scrollWidth*e),n.scrollHeight>i.height()&&(t=i.height()/n.scrollHeight*e),Math.min(r,t)}var i;"text"===o.type?0!==(c=e(c))&&s.css({fontSize:"".concat(c,"pt")}):"rteText"===o.type&&0!==(f=e(f))&&(s.css({transformOrigin:"top left"}),s.css({transform:"scale(".concat(f,")")})),i.remove()},scroll:function(){var e;s.css({transformOrigin:"center",transform:"scale(1)"}),u.css("overflow-y","auto"),u.css("overflow-x","hidden"),(null===(e=j.default.Browser)||void 0===e?void 0:e.isIE())&&(u[0].style.flex=1,u[0].style["flex-basis"]="".concat(u.width(),"px")),u.css("pointer-events","all"),s.css("height","auto"),s.height()>u.height()&&u.removeClass("top middle bottom")},truncate:function(){var t=this,i=o.text.overflow;s.css({transformOrigin:"center",transform:"scale(1)"}),s.css("max-height","100%"),u.css("pointer-events","all");var n,r={ellipsis:"link"===i.ellipsisType?"... ".concat(i.linkCta):"..."};s.hasClass("initialized")&&(s.trigger("destroy.dot"),s.removeClass("initialized"),s.find(".ellipsis-cta").remove()),o.ad&&"text"===o.type&&s.dotdotdot(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}({},r,{callback:(n=!1,function(e){n||(n=!0,$(t).addClass("initialized"),function(e){if(e&&!(s.get(0).scrollHeight<=s.innerHeight())){var t=$(s.contents().get(-2));if(t.is("br")){var n=t.get(0).previousSibling;n&&3===(null==n?void 0:n.nodeType)&&n.nodeValue.match(/^\s+$/)&&n.remove(),t.remove()}}}(e),"link"===i.ellipsisType&&function(e){var t=s.html(),n=s.html().lastIndexOf(e.ellipsis);if(-1!==n){var r='... <a href="#" class="ellipsis-cta">'.concat(i.linkCta,"</a>");t=t.substring(0,n)+r+t.substring(n+e.ellipsis.length)}t=t.replace(/\s*<br>\s*/g,"<br>"),s.get(0).innerHTML=t}(r))})})),s.hasClass("initialized")||s.trigger("update")}};if(j.default.Browser.isSafari()&&"truncate"===i)var h=setInterval(function(){var e=s.get(0).getBoundingClientRect();(0<e.x||0<e.y||0<e.width||0<e.height)&&(d.truncate(),clearInterval(h))},10);else null===(n=d[i])||void 0===n||n.call(d)}},{key:"normalizeBorderRadius",value:function(r){return r=$.extend(!0,{},r),Object.keys(r).forEach(function(e){var t,n=null===(t=r[e])||void 0===t?void 0:t.toString();n.match(/^[\d]{1,3}%$/)||(r[e]="".concat(parseInt(n,10),"px"))}),r}},{key:"getContainerCSS",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=n.border,i=n.borderRadius,o=n.shadow,a=1<arguments.length&&void 0!==t?t:{},s=[];if((null==r?void 0:r.color)&&s.push("0 0 0 ".concat(r.width,"px ").concat(r.color)),i){var u=f.normalizeBorderRadius(i);a.borderTopLeftRadius=u.topLeft,a.borderTopRightRadius=u.topRight,a.borderBottomRightRadius=u.bottomRight,a.borderBottomLeftRadius=u.bottomLeft}return(null==o?void 0:o.color)&&s.push("".concat(o.x,"px ").concat(o.y,"px ").concat(o.blur,"px ").concat(o.spread,"px ").concat(o.color)),s.length&&(a.boxShadow=s.join(",")),a}},{key:"applyShapeStyle",value:function(e,o){function t(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=$.extend({},t,r);o.find(".".concat(e,"-state")).css(i)}var n=e.shape;if(null!=n){var r=f.getContainerCSS(n);t("up",r,{backgroundColor:n.background}),t("over",r,{borderColor:n.overState.stroke,backgroundColor:n.overState.background})}}}]),f}()},function(e,t,n){(function(e){var t,i,o;function n(e){this.ad=e,this.subscribers={},this.eventTimes={},this.sortedTimeEvents=[]}(null!=(t=null!=e?e:window).spongecell?t.spongecell:t.spongecell={}).EventManager=(i={vpaid:["adLoaded","clickThrough","played"],externalPage:["previewComplete","adShown","previewStarted"]},o=function(e,t,n){return{action:t,params:n,topic:e}},n.prototype.addTime=function(e){return this.eventTimes[e]=!0,this.sortedTimeEvents=Object.keys(this.eventTimes).sort()},n.prototype.publishTimeEvents=function(e,t,n){var r,i,o,a,s;for(null==n&&(n={}),a=[],r=0,i=(o=this.sortedTimeEvents).length;r<i;r++)(s=o[r])<=t&&!n[s]?(this.publish(e+":"+s),a.push(n[s]=!0)):a.push(void 0);return a},n.prototype.publish=function(e,t){var n,r,i,o,a;if(this.subscribers[e]){for(o=[],n=0,r=(i=this.subscribers[e]).length;n<r;n++)a=i[n],o.push(a.callback.apply(a.context));return o}},n.prototype.subscribe=function(e,t,n){var r;return null==(r=this.subscribers)[e]&&(r[e]=[]),this.subscribers[e].push({callback:t,context:n})},n.prototype.unsubscribe=function(e){return delete this.subscribers[e]},n.prototype.dispatch=function(e,t){var n,r;for(n in null==t&&(t={}),r=[],i)-1<i[n].indexOf(e)?r.push(this.ad.sendMessage(o(n,e,t))):r.push(void 0);return r},n)}).call(this,n(1))},function(e,t,n){(function(e){var t,n,b,w;function r(e){this.ad=e,this.viewedUuids={},this.viewedUuidsCache={},this.allUuids=[],this.initialized=!0,this.trackViewed=n.Utils.debounce(this._trackViewed,50,!1)}t=null!=e?e:window,(n=null!=t.spongecell?t.spongecell:t.spongecell={}).UuidManager=(w=["clickThrough","engagement","mouseOver","itemsRequest","itemsViewed","slideView","start"],b=["engagement","mouseOver"],r.prototype.checkCachedUuid=function(e){return!e||this.viewedUuidsCache[e]},r.prototype.cacheViewedUuid=function(e,t){var n;if(null==(n=this.viewedUuids)[t]&&(n[t]=[]),!(this.checkCachedUuid(e,t)||-1<this.viewedUuids[t].indexOf(e)))return this.viewedUuids[t].push(e)},r.prototype._trackViewed=function(e){var t,n;if(t=this.viewedUuids[e]||[],this.viewedUuids[e]=t.filter((n=this,function(e){return!n.checkCachedUuid(e)})),0!==this.viewedUuids[e].length)return this.ad.track("itemsViewed",null,{trackingKey:e})},r.prototype.cacheUuids=function(e){var t,n,r,i;for(i=[],t=0,r=e.length;t<r;t++)!(n=e[t]).item_id||-1<this.allUuids.indexOf(n.item_id)?i.push(void 0):i.push(this.allUuids.push(n.item_id));return i},r.prototype.getUuids=function(e,t,n){var r,i,o,a,s,u,l,c,f,d,h,p,v,m,g,y;if(i=t.getCurrentCarousel(),m=r=null,"itemsRequest"===e)r=this.allUuids.length?this.allUuids.join(","):null;else if("itemsViewed"===e){for(a=0,l=(r=this.viewedUuids[n.trackingKey]||[]).length;a<l;a++)g=r[a],this.viewedUuidsCache[g]=!0;this.viewedUuids[n.trackingKey]=[]}else r=(null!=(f=t.itemUuids)?f.length:void 0)?t.itemUuids.join(","):null,m=null!=i&&null!=(d=i.slide)?d.itemUuid:void 0;if(r||m)if(i.carousel&&-1<b.indexOf(e)){for(o=null!=(h=i.carousel)?h.slides.map(function(e){return e.itemUuid}):void 0,y=[],u=0,c=(v=null!=(p=t.itemUuids)?p:[]).length;u<c;u++)g=v[u],(o.indexOf(g)<0||g===m)&&y.push(g);y=y.length?y.join(","):null}else y=r;return s={all:y,single:m,screen:t.iid},-1<w.indexOf(e)&&s},r)}).call(this,n(1))},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(u,null,[{key:"isValidUrl",value:function(e){return"string"==typeof e&&i.default.Utils.isUrl(e)}},{key:"getClicktagUrl",value:function(e,t){var n=t.dynamicSettings,r=n.clicktagMultiItem,i=n.clicktagFeedField,o=n.clicktagMultiItemEnabled,a=parseInt(o&&r||0,10),s=e[a]&&e[a][i]?e[a][i]:null;return!u.isValidUrl(s)&&t.action.clicktagDefault&&(s=t.action.clicktagDefault),s}},{key:"sanitizeFeedValueForReporting",value:function(e){return e.toString().replace(/\|/g,"/").replace(/,/g,"_")}}]),u}();i.default.FeedHelper=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function t(e){r(this,t),this.screen=e}return o(t,[{key:"at",value:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n&&n,o={stop:function(){}};this.screen.seek(e,i).then(function(){t(o,r.screen)})}},{key:"getTimelineDuration",value:function(){return this.screen.getTimelineDuration()}}]),t}(),s=function(){function t(e){r(this,t),this.ad=e}return o(t,[{key:"page",value:function(e){this.ad.adApi.openScreen(e,null,!1);var t=this.ad.getScreenByName(e);return new a(t)}}]),t}(),u=function(){function t(e){r(this,t),this.ad=e,this.player=new s(e)}return o(t,[{key:"ready",value:function(e){var t=this;this.ad.startSetup(),this.ad.adFullLoadPromise.then(function(){e(t.player,window.myFT)})}}]),t}();t.default=u},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(54);var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,i.default.HtmlShapeElement),e}();i.default.HtmlShapeElementFt=l},function(e,t,n){"use strict";var r,o=(r=n(0))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=s(this,l(i).call(this,e,t)))._setUseOverState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,o.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"_setUseOverState",value:function(){this._hasOverState=0<this.action.landingPageKey||this.action.screen,this._useOverFade=this.shape.overState.fade}},{key:"$elem",value:function(){var e=u(l(i.prototype),"$elem",this).call(this);return o.default.Renderer.applyShapeStyle(this,e),e}},{key:"_html",value:function(){return'\n      <div class="shape-element">\n        <div class="up-state shape-state" />\n        <div class="over-state shape-state" />\n      </div>\n    '}},{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=u(l(i.prototype),"load",this)).call.apply(e,[this].concat(n))}},{key:"delegateEvents",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=u(l(i.prototype),"delegateEvents",this)).call.apply(e,[this].concat(n)),this._bindStateSwitch()}},{key:"_bindStateSwitch",value:function(){var e=this;this._hasOverState&&(this.$().on("mouseenter touchstart",function(){return e._toggleState("over")}),this.$().on("mouseleave touchend",function(){return e._toggleState("up")}))}},{key:"_toggleState",value:function(e){if(!this._useOverFade)return this.$(".shape-state").css("opacity",0),void this.$(".".concat(e,"-state")).css("opacity",1);this.$(".over-state").removeClass("visible hidden"),"up"===e?this.$(".over-state").addClass("hidden"):this.$(".over-state").addClass("visible")}}]),i}();o.default.HtmlShapeElement=f},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(4);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(56);var u=function(){function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l(this,f(u).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,i.default.HtmlImageElement),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(u,[{key:"getInnerHtml",value:function(){return this.useFtDynamic()?'<ft-dynamic name="'.concat(this.image.variableName,'" class="').concat(this.innerClass,'"></ft-dynamic>'):c(f(u.prototype),"getInnerHtml",this).call(this)}},{key:"useFtDynamic",value:function(){return this.image.dynamic&&!this.ad.isPreview&&!this.useFtFeed()}},{key:"useFtFeed",value:function(){return this.image.dynamic&&!this.ad.canvasMode&&this.ad.isUsingFeeds()&&!this.ad.feedsUseFallback&&!(0,o.isEmpty)(this.dynamicSettings)&&"feed"===this.dynamicSettings.source}},{key:"loadImage",value:function(e){return i.default.Net.loadImage(e).then(this.applyStyles.bind(this,e)).catch(this.loadStaticImage.bind(this))}},{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if((e=c(f(u.prototype),"load",this)).call.apply(e,[this].concat(n)),this.useFtDynamic()){var i=this.$("img").attr("src");return this.$("img").remove(),this.loadImage(i)}if(this.useFtFeed()){var o=this.dynamicSettings.feedField||"powerfeeds_image",a=this.dynamicSettings.multiItemEnabled&&this.dynamicSettings.multiItem||0,s=this.ad.feedData[a]&&this.ad.feedData[a][o]?this.ad.feedData[a][o]:null;return this.loadImage(s)}return this.loadStaticImage()}}]),u}();i.default.HtmlImageElementFt=u},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){function o(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=s(this,(e=u(o)).call.apply(e,[this].concat(r)))).innerClass="inner-image",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,i.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(o,[{key:"_html",value:function(){return'<div class="'.concat(this._getClass(),'">').concat(this.getInnerHtml(),"</div>")}},{key:"getInnerHtml",value:function(){return'<div class="'.concat(this.innerClass,'"></div>')}},{key:"loadStaticImage",value:function(){var e=this.container.getAssetUrl(this.image);return this.applyStyles(e)}},{key:"applyStyles",value:function(e){var t;(null===(t=e)||void 0===t?void 0:t.match(/.*\.spongecell\.com\/img\/.*\/original.png$/))&&(e=e.replace("/original.png","/".concat(this.width,"-").concat(this.height,".png")));var n=i.default.Renderer.imageStyle(this,e);return this.$(".".concat(this.innerClass)).css(n),i.default.Net.loadImage(e)}}]),o}();i.default.HtmlImageElement=c},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(58);var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,i.default.HtmlRteTextElement),e}();i.default.HtmlRteTextElementFt=l},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function o(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=s(this,(e=l(o)).call.apply(e,[this].concat(r)))).innerClass="inner-text",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(o,[{key:"$elem",value:function(){var e=$('\n      <div class="rte-text-element">\n        <div class="inner-text-wrapper">\n          '.concat(this.getInnerHtml(),"\n        </div>\n      </div>\n    "));return e}},{key:"_hasLink",value:function(){return"truncate"===this.text.overflow.type&&"link"===this.text.overflow.ellipsisType}},{key:"_processText",value:function(){var e=this.$(".inner-text");i.default.Renderer.applyTextOverflow({element:this,el:this.ad.$el,selector:e})}},{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=u(l(o.prototype),"load",this)).call.apply(e,[this].concat(n)),this._processText()}},{key:"getInnerHtml",value:function(){return'<div class="'.concat(this.innerClass,'">').concat(this.getText(),"</div>")}},{key:"getText",value:function(){return this.container.getProperty(this.htmlData)||this.htmlData}}]),o}();i.default.HtmlRteTextElement=f},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(60);var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,i.default.HtmlHitAreaElement),e}();i.default.HtmlHitAreaElementFt=l},function(e,t,n){"use strict";var r,o=(r=n(0))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),s(this,l(i).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,o.default.HtmlElement),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"load",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=u(l(i.prototype),"load",this)).call.apply(e,[this].concat(n)),this.applyStyles()}},{key:"applyStyles",value:function(){var e=o.default.Renderer.getContainerCSS(this.hitArea);this.$el.css(e)}}]),i}();o.default.HtmlHitAreaElement=f},function(e,t,n){"use strict";var x=r(n(62)),i=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}return t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function k(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(k,null,[{key:"applyStyles",value:function(e,t){var n=e[0];t.delay&&(n.style.animationDelay=t.delay,n.style.webkitAnimationDelay=t.delay),n.style.animationName=t.animationNames,n.style.animationTimingFunction=t.easing,n.style.animationDuration=t.duration,n.style.webkitAnimationName=t.animationNames,n.style.webkitAnimationTimingFunction=t.easing,n.style.webkitAnimationDuration=t.duration,n.style.animationFillMode="both",n.style.webkitAnimationFillMode="both"}},{key:"getAnimationOptions",value:function(e){var t,n=j({},e,{delay:0});return"parallax"===n.type?(t="parallax","out"===n.entry&&(n.top=!0,n.duration+=Math.round(.167*n.duration))):"flip"===n.type&&(n.duration/=2,"in"===n.entry?(t="out",n.delay=n.duration):t="in"),"parallax"!==n.type&&"in"===n.entry&&(n.top=!0),n.easing=k.getEasing(t||n.easing||"ease",n.animations.length,n.entry).replace("cubic-bezier","cubicBezier"),n}},{key:"addAnimation",value:function(e,t){var n;"parallax"===t.type?(n="parallax","out"===t.entry&&(t.top=!0,t.duration+=Math.round(.167*t.duration))):"flip"===t.type&&(t.duration/=2,"in"===t.entry?(n="out",t.delay=t.duration):n="in"),"parallax"!==t.type&&"in"===t.entry&&(t.top=!0),n=n||t.easing||"ease";var r=t.animations.length,i=k.animationNames(t.animations),o=k.getDurationUsingMs(t.duration,r),a=k.getEasing(n,r,t.entry),s=k.getDelay(t.delay),u=t.animations;t.top&&u.push("ontop"),e.addClass(t.animations.join(" ")),k.applyStyles(e,{animationNames:i,duration:o,easing:a,delay:s})}},{key:"animationNames",value:function(e){var t="";return e.forEach(function(e){t+="".concat(e,", ")}),t.replace(/,\s$/,"")}},{key:"getAnimations",value:function(e,n){return(k.ANIMATION_KEYS[e]||["slide"]).map(function(e){var t=k.ANIMATION_TYPES[e][n||"left"];return{out:t[0],in:t[1]}})}},{key:"getInAnimations",value:function(e,t){return k.getAnimations(e,t).map(function(e){return e.in})}},{key:"getOutAnimations",value:function(e,t){return k.getAnimations(e,t).map(function(e){return e.out})}},{key:"getDelay",value:function(e){if(!e)return null;var t=Math.round(e/1e3*100)/100;return"".concat(t,"s")}},{key:"getDurationUsingMs",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:1,r=Math.round(e/1e3*100)/100;return k.getDuration(r,n)}},{key:"getDuration",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:1;e=parseFloat(e)||.01;for(var r="",i=1;i<=n;i+=1)r+="".concat(e,"s, ");return r.replace(/,\s$/,"")}},{key:"getEasing",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:1;if("none"===e)return"linear";for(var i="parallax"===e?k.EASING_TYPES["in"===(2<arguments.length&&void 0!==n?n:null)?"ease":"inOut"]:k.EASING_TYPES[e]||k.EASING_TYPES.ease,o="",a=1;a<=r;a+=1)o+="cubic-bezier(".concat(i,"), ");return o.replace(/,\s$/,"")}},{key:"removeAnimation",value:function(e,t){var n=e[0];n.style.webkitAnimation="none",n.style.animation="none",e.removeClass(t.concat("ontop").join(" "))}},{key:"isOutAnimation",value:function(e){return!!k.OUT_ANIMATIONS[e]}},{key:"getRotateFromTransform",value:function(e){var t=e.match(/rotate\((\d+)deg\)/);return t&&t[1]?parseInt(t[1],10):0}},{key:"logAnimation",value:function(e,t,n){var r=2<arguments.length&&void 0!==n&&n?"end":"start";i.default.Console.log("Animation ".concat(t," ").concat(r," on ").concat(e))}},{key:"storeElementPosition",value:function(e,t){k.elementPosition=k.elementPosition||{};var n=parseInt(t.css("left").replace(/px$/,""),10),r=parseInt(t.css("top").replace(/px$/,""),10);k.elementPosition[e]=k.elementPosition[e]||{left:n,top:r}}},{key:"getTransitionAttrs",value:function(e,t,n){var r={},i=k.getFromAttrs(e,t,n),o=k.getToAttrs(e,t,n);return Object.keys(i).forEach(function(e){r[e]=[i[e],o[e]]}),r}},{key:"getSlideTransitionAttrs",value:function(e){var n=k.CAROUSEL_ANIMATIONS[e.animations[0]],r={transition:{},style:{}};return Object.keys(n).forEach(function(e){var t="object"===o(n[e])?"transition":"style";r[t][e]=n[e]}),e.top&&(r.style.zIndex=1),r}},{key:"getTransitionPart",value:function(e,n){var r=k.getSlideTransitionAttrs(e).transition,t=Object.keys(r).reduce(function(e,t){return e[t]=r[t][n],e},{});return e.top&&(t.zIndex=n),t}},{key:"getSlideTransitionStartAttrs",value:function(e){return k.getTransitionPart(e,k.TRANSITION_START)}},{key:"getSlideTransitionEndAttrs",value:function(e){return k.getTransitionPart(e,k.TRANSITION_END)}},{key:"createCarouselTimeline",value:function(i,e,t,o,a,n,r,s,u,l){var c=S(e),f=x.default.timeline({autoplay:!1});if(c.length<=1)return f;for(var d=0,h=k.getAnimationOptions(n),p=k.getAnimationOptions(r),v=k.getSlideTransitionAttrs(p),m=k.getSlideTransitionStartAttrs(p),g=k.getSlideTransitionAttrs(h),y=k.getSlideTransitionStartAttrs(h),b=k.getSlideTransitionEndAttrs(h),w=[],_=0;_<t;_+=1)w.push(null);return w.forEach(function(){c.forEach(function(e,t){var n=(t+1)%c.length,r=c[n];d+=a,f.add(j({targets:e,duration:.001,opacity:1},v.style,b),d-.001),f.add(j({targets:e,easing:p.easing,duration:p.duration,delay:p.delay},v.transition),d),f.add(j({targets:e,duration:.001},m,{opacity:0}),d+p.duration+.001),f.add({targets:r,duration:.001,opacity:0},d-.002),f.add(j({targets:r,duration:.001,opacity:1},g.style,y),d-.001),f.add(j({targets:r,easing:h.easing,duration:h.duration,delay:h.delay},g.transition,{changeComplete:function(){s(n),null==u||u.call(n,c.index,i),null==l||l.call(null,n,r)}}),d),d+=o})}),f}},{key:"getTimelineData",value:function(e,n){var r={animations:[],duration:0},i=0,d=0;return e.forEach(function(u){var e=u.effects,t=u.trigger,l=$(n.getElementById("elem-".concat(u.elementIid))),c={trigger:t,$element:l,elementIid:u.elementIid,items:[]};"onScreenLoad"===t?d=i=0:"withPrevious"===t&&(d-=i);var f=0;e.forEach(function(e){for(var t=(+e.repeat||0)+1,n=k.getTransitionAttrs(l,u.elementIid,e),r=1e3*e.duration,i=1e3*(+e.delay||0),o=i+t*r,a=j({duration:0==r?.001:r,easing:k.getEasing(e.ease).replace("cubic-bezier","cubicBezier")},n),s=0;s<t;s+=1)c.items.push({offset:d+i+s*r,transition:e.transition,data:a});f=Math.max(f,o)}),r.animations.push(c),d+=f,i=f}),r.duration=d,r}},{key:"createTimeline",value:function(e,n,t,r,i,o){function a(e,t){(l[e]||[]).forEach(function(e){return e(t)})}var s=5<arguments.length&&void 0!==o?o:{},u=k.getTimelineData(e,t,s),l={},c=x.default.timeline({autoplay:!1,loop:s.loop,loopBegin:function(){a("loopStart",{remainingLoops:this.remaining,loop:this.loop-this.remaining+1})},loopComplete:function(){a("loopEnd",{remainingLoops:this.remaining,loop:this.loop-this.remaining})},begin:function(){a("timelineStart")},complete:function(){var e;a("timelineEnd"),r.publish("animationComplete:".concat(n.iid));var t=n.animationSettings;!1===(null==t?void 0:null===(e=t.navigation)||void 0===e?void 0:e.disabled)&&"none"!==t.navigation.toScreen&&n.panel.openScreenFromAnimation(t.navigation)}});return 0<s.delay&&c.add({duration:s.delay},u.duration),u.animations.forEach(function(t){var e=t.$element,n=e[0];i&&e.addClass("optimized"),t.items.forEach(function(e){c.add(j({targets:n},e.data,{changeBegin:function(){a("animationStart",{elementIid:t.elementIid,element:n}),k.logAnimation(t.elementIid,e.transition)},changeComplete:function(){a("animationEnd",{elementIid:t.elementIid,element:n}),k.logAnimation(t.elementIid,e.transition,!0)}}),e.offset)})}),j({timeline:c,on:function(e,t){l[e]=l[e]||[],l[e].push(t)}},u)}},{key:"createTimelinesForContainer",value:function(l,e,c,t){var f=3<arguments.length&&void 0!==t&&t,d=[],n=k.getAllAnimationChains(e);return k.mergeAnimationChains(n).forEach(function(e){var t,n={},r=e.animations[0],i=r.triggerElementIid||r.elementIid;switch(r.trigger){case"onScreenLoad":var o,a;n={delay:1e3*((null===(o=l.animationSettings)||void 0===o?void 0:o.delay)||0),loop:((null===(a=l.animationSettings)||void 0===a?void 0:a.loops)||0)+1},t="".concat(l.panel.iid,":screen:").concat(l.iid,":load");break;case"onSlideLoad":t="".concat(l.panel.iid,":screen:layout:").concat(l.iid,":load");break;case"onClick":case"onTap":t="element:".concat(i,":click");break;case"onHover":t="element:".concat(i,":hover");break;case"onMouseOut":t="element:".concat(i,":mouseOut");break;case"onVideoStart":t="element:".concat(i,":videoStart");break;case"videoTime":t="element:".concat(i,":videoTime:").concat(r.time||0);break;default:return}var s=k.createTimeline(e.animations,l,l.panel.doc,c,f,n),u=j({trigger:r.trigger,isPrimary:!k.INTERACTIVE_TRIGGERS[r.trigger]},s);d.push(u),c.subscribe(t,function(){f&&!k.INTERACTIVE_TRIGGERS[r]||u.timeline.play()})}),d}},{key:"getAllAnimationChains",value:function(e){var t=[];return e.forEach(function(e){if(k.CHAIN_START_TRIGGERS[e.trigger])t.push({animations:[]});else if(0===t.length)return;t[t.length-1].animations.push(e)}),t}},{key:"mergeAnimationChains",value:function(e){var t={animations:[]},n=[];return e.forEach(function(e){k.PRIMARY_TRIGGERS[e.animations[0].trigger]?t.animations=S(t.animations).concat(S(e.animations)):n.push(e)}),0===t.animations.length?n:n.concat([t])}},{key:"getFromAttrs",value:function(e,t,n){var r={};switch((k.elementState=k.elementState||{})[t]=k.elementState[t]||{},n.transition){case"slideIn":var i=k.directionByTransition[n.transition][n.direction],o=k.offscreenPosition(e,t,i);r.left="".concat(o.left,"px"),r.top="".concat(o.top,"px");break;case"slideOut":var a=k.elementState[t].left||k.elementPosition[t].left,s=k.elementState[t].top||k.elementPosition[t].top;r.left="".concat(a,"px"),r.top="".concat(s,"px");break;case"fadeOut":case"disappear":r.opacity=e.css("opacity")||1;break;case"fadeIn":case"appear":r.opacity=0;break;case"move":var u=k.container.width*n.startPosition.left,l=k.container.height*n.startPosition.top;r.left="".concat(u,"px"),r.top="".concat(l,"px");break;case"rotate":r.rotateZ="".concat(n.startRotation,"deg");break;default:r=k.generateTransformFrom(e,t,n)}return r}},{key:"getToAttrs",value:function(e,t,n){var r={},i={};switch(n.transition){case"slideIn":var o=k.elementPosition[t];i=o,r.left="".concat(o.left,"px"),r.top="".concat(o.top,"px");break;case"slideOut":var a=k.getSlideOutDestination(e,t,n.direction);i=a,r.left="".concat(a.left,"px"),r.top="".concat(a.top,"px");break;case"fadeIn":case"appear":r.opacity=e.css("opacity")||1;break;case"fadeOut":case"disappear":r.opacity=0;break;case"move":var s=k.container.width*n.endPosition.left,u=k.container.height*n.endPosition.top;i={left:s,top:u},r.left="".concat(s,"px"),r.top="".concat(u,"px");break;case"rotate":r.rotateZ="".concat(n.endRotation,"deg");break;default:i=k.generateTransform(e,t,n),r.scale=i.scale,r.rotateX=i.rotateX,r.rotateY=i.rotateY,r.rotateZ=i.rotateZ}return 0<Object.keys(i).length&&k.generateNextFromState(e,t,i),r}},{key:"offscreenPosition",value:function(e,t,n){var r=e.width()?e.width():parseInt(e[0].style.width,10),i=e.height()?e.height():parseInt(e[0].style.height,10),o=Math.ceil(Math.sqrt(r*r+i*i)),a=k.elementPosition[t];switch(n){case"right":return{top:a.top,left:k.container.width+o};case"left":return{top:a.top,left:-1*o};case"bottom":return{top:k.container.height+o,left:a.left};case"top":return{top:-1*o,left:a.left}}}},{key:"generateTransformFrom",value:function(e,t,n){var r={},i=k.elementState[t];i&&["scale","rotateX","rotateY","rotateZ"].forEach(function(e){r[e]=i[e]||("scale"===e?1:0)});var o=e.css("transform");switch(r.rotateZ=k.getRotateFromTransform(o),n.transition){case"scaleUp":r.scale=0;break;case"scaleDown":r.scale=1;break;case"zoom":var a=parseInt(n.zoomFrom,10)||50;r.scale=a/100;break;case"flip":"horizontal"===n.direction?r.rotateY=0:r.rotateX=0}return r}},{key:"generateNextFromState",value:function(e,t,n){["scale","rotateX","rotateY","rotateZ","left","top"].forEach(function(e){k.elementState[t][e]=n[e]})}},{key:"edgeOffset",value:function(e,t){var n=e.width()||parseInt(e[0].style.width,10),r=e.height()||parseInt(e[0].style.height,10),i=Math.ceil(Math.sqrt(n*n+r*r));switch(t){case"right":return k.container.width+i;case"left":return-1*i;case"bottom":return k.container.height+i;case"top":return-1*i}}},{key:"getSlideOutDestination",value:function(e,t,n){var r=k.elementState[t],i=k.elementPosition[t];switch(n){case"toRight":return{top:null!=r.top?r.top:i.top,left:k.edgeOffset(e,"right")};case"toLeft":return{top:null!=r.top?r.top:i.top,left:k.edgeOffset(e,"left")};case"toBottom":return{left:r.left,top:k.edgeOffset(e,"bottom")};case"toTop":return{left:r.left,top:k.edgeOffset(e,"top")}}}},{key:"addAnimatedComponent",value:function(e,t){if("scaleUp"===e.transition)t.scale=1;else if("scaleDown"===e.transition)t.scale=0;else if("rotate"===e.transition){t[k.transformComponent[e.transition]]=e.rotation}else if("flip"===e.transition){t[k.transformComponent[e.transition][e.direction]]=360}}},{key:"generateTransform",value:function(e,t,n){var r,i={},o=k.elementState[t];"flip"===n.transition?r=k.transformComponent.flip[n.direction]:0===n.transition.indexOf("scale")&&(r=k.transformComponent.scale),["scale","rotateX","rotateY","rotateZ"].filter(function(e){return r!==e}).forEach(function(e){"scale"===e?i.scale=(null==o?void 0:o.scale)||1:i[e]=(null==o?void 0:o[e])||0});var a=e.css("transform");switch(i.rotateZ=k.getRotateFromTransform(a),n.transition){case"scaledUp":i.scale=1;break;case"scaleDown":i.scale=0;break;case"zoom":var s=parseInt(null==n?void 0:n.zoomTo,10)||100;i.scale=s/100}return k.addAnimatedComponent(n,i),i}},{key:"cacheDocument",value:function(e){k.cachedDocument=e}},{key:"clearDocument",value:function(){k.cachedDocument=null}}]),k}();u.cachedDocument=null,u.container=null,u.elementState=null,u.elementPosition=null,u.ANIMATION_TYPES={flip:{down:["flipOutBottom","flipInTop"],left:["flipOutLeft","flipInRight"],right:["flipOutRight","flipInLeft"],up:["flipOutTop","flipInBottom"]},fade:{down:["fadeOut","fadeIn"],left:["fadeOut","fadeIn"],right:["fadeOut","fadeIn"],up:["fadeOut","fadeIn"],default:["fadeOut","fadeIn"]},push:{down:["rotatePushBottom","slideFromTop"],left:["rotatePushLeft","slideFromRight"],right:["rotatePushRight","slideFromLeft"],up:["rotatePushTop","slideFromBottom"]},scale:{down:["scaleDown","slideFromTop"],left:["scaleDown","slideFromRight"],right:["scaleDown","slideFromLeft"],up:["scaleDown","slideFromBottom"]},slide:{down:["slideToBottom","slideFromTop"],left:["slideToLeft","slideFromRight"],right:["slideToRight","slideFromLeft"],up:["slideToTop","slideFromBottom"]},slideFade:{down:["fadeOut","slideFromTop"],left:["fadeOut","slideFromRight"],right:["fadeOut","slideFromLeft"],up:["fadeOut","slideFromBottom"]},slideScale:{down:["scaleDown","slideFromTop"],left:["scaleDown","slideFromRight"],right:["scaleDown","slideFromLeft"],up:["scaleDown","slideFromBottom"]}},u.ANIMATION_KEYS={slide:["slide"],slideFade:["slideFade"],slideScale:["slideScale"],push:["push"],fade:["fade"],flip:["flip"],parallax:["slide"]},u.EASING_TYPES={ease:"0.250, 0.100, 0.250, 1.000",in:"0.420, 0.000, 1.000, 1.000",inBack:"0.600, -0.280, 0.735, 0.045",inOut:"0.420, 0.000, 0.580, 1.000",out:"0.000, 0.000, 0.580, 1.000",outBack:"0.175, 0.885, 0.320, 1.275",inOutBack:"0.680, -0.550, 0.265, 1.550"},u.defaultDuration=500,u.directionByTransition={slideIn:{fromRight:"right",fromLeft:"left",fromTop:"top",fromBottom:"bottom"},slideOut:{toRight:"right",toLeft:"left",toTop:"top",toBottom:"top"}},u.transformComponent={scale:"scale",rotate:"rotateZ",flip:{vertical:"rotateX",horizontal:"rotateY"}},u.TRANSITION_START=0,u.TRANSITION_END=1,u.CAROUSEL_ANIMATIONS={slideToLeft:{translateX:["0%","-100%"]},slideToRight:{translateX:["0%","100%"]},slideToTop:{translateY:["0%","-100%"]},slideToBottom:{translateY:["0%","100%"]},slideFromLeft:{translateX:["-100%","0%"]},slideFromRight:{translateX:["100%","0%"]},slideFromTop:{translateY:["-100%","0%"]},slideFromBottom:{translateY:["100%","0%"]},flipOutRight:{translateZ:[0,-1e3],rotateY:[0,"90deg"],opacity:[1,.2],transformOrigin:"50% 50%"},flipInLeft:{translateZ:[-1e3,0],rotateY:["-90deg",0],opacity:[.2,1],transformOrigin:"50% 50%"},flipOutLeft:{translateZ:[0,-1e3],rotateY:[0,"-90deg"],opacity:[1,.2],transformOrigin:"50% 50%"},flipInRight:{translateZ:[-1e3,0],rotateY:["90deg",0],opacity:[.2,1],transformOrigin:"50% 50%"},flipOutTop:{translateZ:[0,-1e3],rotateX:[0,"90deg"],opacity:[1,.2],transformOrigin:"50% 50%"},flipInBottom:{translateZ:[-1e3,0],rotateX:["-90deg",0],opacity:[.2,1],transformOrigin:"50% 50%"},flipOutBottom:{translateZ:[0,-1e3],rotateX:[0,"-90deg"],opacity:[1,.2],transformOrigin:"50% 50%"},flipInTop:{translateZ:[-1e3,0],rotateX:["90deg",0],opacity:[.2,1],transformOrigin:"50% 50%"},rotatePushLeft:{rotateY:[0,"90deg"],opacity:[1,0],transformOrigin:"0% 50%"},rotatePushRight:{rotateY:[0,"-90deg"],opacity:[1,0],transformOrigin:"100% 50%"},rotatePushTop:{rotateX:[0,"-90deg"],opacity:[1,0],transformOrigin:"50% 0%"},rotatePushBottom:{rotateX:[0,"90deg"],opacity:[1,0],transformOrigin:"50% 100%"},fadeIn:{opacity:[.3,1]},fadeInFull:{opacity:[0,1]},fadeOut:{opacity:[1,.3]},fadeOutFull:{opacity:[1,0]},scaleDown:{scale:[1,.8],opacity:[1,0]},scaleUp:{scale:[.8,1],opacity:[0,1]},scaleUpDown:{scale:[1.2,1],opacity:[0,1]},scaleDownUp:{scale:[1,1.2],opacity:[1,0]},scaleDownCenter:{scale:[1,.7],opacity:[1,0]},scaleUpCenter:{scale:[.7,1],opacity:[0,1]}},u.CHAIN_START_TRIGGERS={onClick:!0,onTap:!0,onHover:!0,onMouseOut:!0,onScreenLoad:!0,onSlideLoad:!0,onVideoStart:!0,videoTime:!0},u.PRIMARY_TRIGGERS={onScreenLoad:"onScreenLoad",onSlideLoad:"onSlideLoad"},u.INTERACTIVE_TRIGGERS={onTap:!0,onClick:!0,onHover:!0,onMouseOut:!0},u.OUT_ANIMATIONS={fadeOut:!0,disappear:!0,slideOut:!0},i.default.Animation=u},function(e,t,n){"use strict";n.r(t);var g={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},y={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],h={CSS:{},springs:{}};function j(e,t,n){return Math.min(Math.max(e,t),n)}function a(e,t){return-1<e.indexOf(t)}function o(e,t){return e.apply(null,t)}var S={arr:function(e){return Array.isArray(e)},obj:function(e){return a(Object.prototype.toString.call(e),"Object")},pth:function(e){return S.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||S.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return S.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return S.hex(e)||S.rgb(e)||S.hsl(e)},key:function(e){return!g.hasOwnProperty(e)&&!y.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function p(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function s(i,n){var e=p(i),t=j(S.und(e[0])?1:e[0],.1,100),r=j(S.und(e[1])?100:e[1],.1,100),o=j(S.und(e[2])?10:e[2],.1,100),a=j(S.und(e[3])?0:e[3],.1,100),s=Math.sqrt(r/t),u=o/(2*Math.sqrt(r*t)),l=u<1?s*Math.sqrt(1-u*u):0,c=1,f=u<1?(u*s-a)/l:-a+s;function d(e){var t=n?n*e/1e3:e;return t=u<1?Math.exp(-t*u*s)*(c*Math.cos(l*t)+f*Math.sin(l*t)):(c+f*t)*Math.exp(-t*s),0===e||1===e?e:1-t}return n?d:function(){var e=h.springs[i];if(e)return e;for(var t=0,n=0;;)if(1===d(t+=1/6)){if(16<=++n)break}else n=0;var r=t*(1/6)*1e3;return h.springs[i]=r}}function u(t){return void 0===t&&(t=10),function(e){return Math.ceil(j(e,1e-6,1)*t)*(1/t)}}var l=function(o,t,a,n){if(0<=o&&o<=1&&0<=a&&a<=1){var s=new Float32Array(11);if(o!==t||a!==n)for(var e=0;e<11;++e)s[e]=d(.1*e,o,a);return function(e){return o===t&&a===n?e:0===e||1===e?e:d(r(e),t,n)}}function r(e){for(var t=0,n=1;10!==n&&s[n]<=e;++n)t+=.1;var r=t+(e-s[--n])/(s[n+1]-s[n])*.1,i=v(r,o,a);return.001<=i?function(e,t,n,r){for(var i=0;i<4;++i){var o=v(t,n,r);if(0===o)return t;t-=(d(t,n,r)-e)/o}return t}(e,r,o,a):0===i?r:function(e,t,n,r,i){for(var o,a,s=0;0<(o=d(a=t+(n-t)/2,r,i)-e)?n=a:t=a,1e-7<Math.abs(o)&&++s<10;);return a}(e,t,t+.1,o,a)}};function i(e,t){return 1-3*t+3*e}function c(e,t){return 3*t-6*e}function f(e){return 3*e}function d(e,t,n){return((i(t,n)*e+c(t,n))*e+f(t))*e}function v(e,t,n){return 3*i(t,n)*e*e+2*c(t,n)*e+f(t)}var m,b,w=(m={linear:function(){return function(e){return e}}},b={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=j(e,1,10),r=j(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){b[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(b).forEach(function(e){var r=b[e];m["easeIn"+e]=r,m["easeOut"+e]=function(t,n){return function(e){return 1-r(t,n)(1-e)}},m["easeInOut"+e]=function(t,n){return function(e){return e<.5?r(t,n)(2*e)/2:1-r(t,n)(-2*e+2)/2}},m["easeOutIn"+e]=function(t,n){return function(e){return e<.5?(1-r(t,n)(1-2*e))/2:(r(t,n)(2*e-1)+1)/2}}}),m);function E(e,t){if(S.fnc(e))return e;var n=e.split("(")[0],r=w[n],i=p(e);switch(n){case"spring":return s(e,t);case"cubicBezier":return o(l,i);case"steps":return o(u,i);default:return o(r,i)}}function _(e){try{return document.querySelectorAll(e)}catch(e){return}}function O(e,t){for(var n=e.length,r=2<=arguments.length?t:void 0,i=[],o=0;o<n;o++)if(o in e){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i}function k(e){return e.reduce(function(e,t){return e.concat(S.arr(t)?k(t):t)},[])}function x(e){return S.arr(e)?e:(S.str(e)&&(e=_(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function T(e,t){return e.some(function(e){return e===t})}function C(e){var t={};for(var n in e)t[n]=e[n];return t}function P(e,t){var n=C(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function I(e,t){var n=C(e);for(var r in t)n[r]=S.und(e[r])?t[r]:e[r];return n}function A(e){return S.rgb(e)?function(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}(e):S.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):S.hsl(e)?function(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,u=i[4]||1;function l(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=r=s;else{var c=s<.5?s*(1+a):s+a-s*a,f=2*s-c;t=l(f,c,o+1/3),n=l(f,c,o),r=l(f,c,o-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+u+")"}(e):void 0}function M(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function R(e,t){return S.fnc(e)?e(t.target,t.id,t.total):e}function D(e,t){return e.getAttribute(t)}function L(e,t,n){if(T([n,"deg","rad","turn"],M(t)))return t;var r=h.CSS[t+n];if(!S.und(r))return r;var i=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+n;var a=100/i.offsetWidth;o.removeChild(i);var s=a*parseFloat(t);return h.CSS[t+n]=s}function F(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?L(e,i,n):i}}function $(e,t){return S.dom(e)&&!S.inp(e)&&(!S.nil(D(e,t))||S.svg(e)&&e[t])?"attribute":S.dom(e)&&T(r,t)?"transform":S.dom(e)&&"transform"!==t&&F(e,t)?"css":null!=e[t]?"object":void 0}function B(e){if(S.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function z(e,t,n,r){var i=a(t,"scale")?1:0+function(e){return a(e,"translate")||"perspective"===e?"px":a(e,"rotate")||a(e,"skew")?"deg":void 0}(t),o=B(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?L(e,o,r):o}function U(e,t,n,r){switch($(e,t)){case"transform":return z(e,t,r,n);case"css":return F(e,t,n);case"attribute":return D(e,t);default:return e[t]||0}}function H(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=M(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function N(e,t){if(S.col(e))return A(e);if(/\s/g.test(e))return e;var n=M(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function W(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function V(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);0<i&&(r+=W(t,o)),t=o}return r}function Y(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*D(e,"r")}(e);case"rect":return function(e){return 2*D(e,"width")+2*D(e,"height")}(e);case"line":return function(e){return W({x:D(e,"x1"),y:D(e,"y1")},{x:D(e,"x2"),y:D(e,"y2")})}(e);case"polyline":return V(e);case"polygon":return function(e){var t=e.points;return V(e)+W(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function q(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;S.svg(t)&&S.svg(t.parentNode);)t=t.parentNode;return t}(e),i=r.getBoundingClientRect(),o=D(r,"viewBox"),a=i.width,s=i.height,u=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:r,viewBox:u,x:u[0]/1,y:u[1]/1,w:a,h:s,vW:u[2],vH:u[3]}}function Z(n,r,e){function t(e){void 0===e&&(e=0);var t=1<=r+e?r+e:0;return n.el.getPointAtLength(t)}var i=q(n.el,n.svg),o=t(),a=t(-1),s=t(1),u=e?1:i.w/i.vW,l=e?1:i.h/i.vH;switch(n.property){case"x":return(o.x-i.x)*u;case"y":return(o.y-i.y)*l;case"angle":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}}function X(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=N(S.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:S.str(e)||t?r.split(n):[]}}function G(e){return O(e?k(S.arr(e)?e.map(x):x(e)):[],function(e,t,n){return n.indexOf(e)===t})}function K(e){var n=G(e);return n.map(function(e,t){return{target:e,id:t,total:n.length,transforms:{list:B(e)}}})}function J(e,r){var t=C(r);if(/^spring/.test(t.easing)&&(t.duration=s(t.easing)),S.arr(e)){var n=e.length;2===n&&!S.obj(e[0])?e={value:e}:S.fnc(r.duration)||(t.duration=r.duration/n)}var i=S.arr(e)?e:[e];return i.map(function(e,t){var n=S.obj(e)&&!S.pth(e)?e:{value:e};return S.und(n.delay)&&(n.delay=t?0:r.delay),S.und(n.endDelay)&&(n.endDelay=t===i.length-1?r.endDelay:0),n}).map(function(e){return I(e,t)})}function Q(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=I(function(t){for(var n=O(k(t.map(function(e){return Object.keys(e)})),function(e){return S.key(e)}).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),i={},e=function(e){var r=n[e];i[r]=t.map(function(e){var t={};for(var n in e)S.key(n)?n==r&&(t.value=e[n]):t[n]=e[n];return t})},r=0;r<n.length;r++)e(r);return i}(r),t)),t)S.key(i)&&n.push({name:i,tweens:J(t[i],e)});return n}function ee(c,f){var d;return c.tweens.map(function(e){var t=function(e,t){var n={};for(var r in e){var i=R(e[r],t);S.arr(i)&&1===(i=i.map(function(e){return R(e,t)})).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(e,f),n=t.value,r=S.arr(n)?n[1]:n,i=M(r),o=U(f.target,c.name,i,f),a=d?d.to.original:o,s=S.arr(n)?n[0]:a,u=M(s)||M(o),l=i||u;return S.und(r)&&(r=a),t.from=X(s,l),t.to=X(H(r,s),l),t.start=d?d.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=E(t.easing,t.duration),t.isPath=S.pth(n),t.isPathTargetInsideSVG=t.isPath&&S.svg(f.target),t.isColor=S.col(t.from.original),t.isColor&&(t.round=1),d=t})}var te={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach(function(e,t){o+=t+"("+e+") "}),e.style.transform=o}}};function ne(e,u){K(e).forEach(function(e){for(var t in u){var n=R(u[t],e),r=e.target,i=M(n),o=U(r,t,i,e),a=H(N(n,i||M(o)),o),s=$(r,t);te[s](r,t,a,e.transforms,!0)}})}function re(e,n){return O(k(e.map(function(t){return n.map(function(e){return function(e,t){var n=$(e.target,t.name);if(n){var r=ee(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(t,e)})})),function(e){return!S.und(e)})}function ie(e,t){function n(e){return e.timelineOffset?e.timelineOffset:0}var r=e.length,i={};return i.duration=r?Math.max.apply(Math,e.map(function(e){return n(e)+e.duration})):t.duration,i.delay=r?Math.min.apply(Math,e.map(function(e){return n(e)+e.delay})):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map(function(e){return n(e)+e.duration-e.endDelay})):t.endDelay,i}var oe=0;var ae,se=[],ue=("undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){fe.suspendWhenDocumentHidden&&(ce()?ae=cancelAnimationFrame(ae):(se.forEach(function(e){return e._onDocumentVisibility()}),ue()))}),function(){ae||ce()&&fe.suspendWhenDocumentHidden||!(0<se.length)||(ae=requestAnimationFrame(le))});function le(e){for(var t=se.length,n=0;n<t;){var r=se[n];r.paused?(se.splice(n,1),t--):(r.tick(e),n++)}ae=0<n?requestAnimationFrame(le):void 0}function ce(){return!!document&&document.hidden}function fe(e){void 0===e&&(e={});var o,a=0,s=0,u=0,l=0,c=null;function f(e){var t=window.Promise&&new Promise(function(e){return c=e});return e.finished=t}var S=function(e){var t=P(g,e),n=P(y,e),r=Q(n,e),i=K(e.targets),o=re(i,r),a=ie(o,n),s=oe;return oe++,I(t,{id:s,children:[],animatables:i,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}(e);f(S);function d(){var e=S.direction;"alternate"!==e&&(S.direction="normal"!==e?"normal":"reverse"),S.reversed=!S.reversed,o.forEach(function(e){return e.reversed=S.reversed})}function h(e){return S.reversed?S.duration-e:e}function t(){a=0,s=h(S.currentTime)*(1/fe.speed)}function p(e,t){t&&t.seek(e-t.timelineOffset)}function v(t){for(var e=0,n=S.animations,r=n.length;e<r;){var i=n[e],o=i.animatable,a=i.tweens,s=a.length-1,u=a[s];s&&(u=O(a,function(e){return t<e.end})[0]||u);for(var l=j(t-u.start-u.delay,0,u.duration)/u.duration,c=isNaN(l)?1:u.easing(l),f=u.to.strings,d=u.round,h=[],p=u.to.numbers.length,v=void 0,m=0;m<p;m++){var g=void 0,y=u.to.numbers[m],b=u.from.numbers[m]||0;g=u.isPath?Z(u.value,c*y,u.isPathTargetInsideSVG):b+c*(y-b),d&&(u.isColor&&2<m||(g=Math.round(g*d)/d)),h.push(g)}var w=f.length;if(w){v=f[0];for(var _=0;_<w;_++){f[_];var k=f[_+1],x=h[_];isNaN(x)||(v+=k?x+k:x+" ")}}else v=h[0];te[i.type](o.target,i.property,v,o.transforms),i.currentValue=v,e++}}function m(e){S[e]&&!S.passThrough&&S[e](S)}function n(e){var t=S.duration,n=S.delay,r=t-S.endDelay,i=h(e);S.progress=j(i/t*100,0,100),S.reversePlayback=i<S.currentTime,o&&function(e){if(S.reversePlayback)for(var t=l;t--;)p(e,o[t]);else for(var n=0;n<l;n++)p(e,o[n])}(i),!S.began&&0<S.currentTime&&(S.began=!0,m("begin")),!S.loopBegan&&0<S.currentTime&&(S.loopBegan=!0,m("loopBegin")),i<=n&&0!==S.currentTime&&v(0),(r<=i&&S.currentTime!==t||!t)&&v(t),n<i&&i<r?(S.changeBegan||(S.changeBegan=!0,S.changeCompleted=!1,m("changeBegin")),m("change"),v(i)):S.changeBegan&&(S.changeCompleted=!0,S.changeBegan=!1,m("changeComplete")),S.currentTime=j(i,0,t),S.began&&m("update"),t<=e&&(s=0,S.remaining&&!0!==S.remaining&&S.remaining--,S.remaining?(a=u,m("loopComplete"),S.loopBegan=!1,"alternate"===S.direction&&d()):(S.paused=!0,S.completed||(S.completed=!0,m("loopComplete"),m("complete"),!S.passThrough&&"Promise"in window&&(c(),f(S)))))}return S.reset=function(){var e=S.direction;S.passThrough=!1,S.currentTime=0,S.progress=0,S.paused=!0,S.began=!1,S.loopBegan=!1,S.changeBegan=!1,S.completed=!1,S.changeCompleted=!1,S.reversePlayback=!1,S.reversed="reverse"===e,S.remaining=S.loop,o=S.children;for(var t=l=o.length;t--;)S.children[t].reset();(S.reversed&&!0!==S.loop||"alternate"===e&&1===S.loop)&&S.remaining++,v(S.reversed?S.duration:0)},S._onDocumentVisibility=t,S.set=function(e,t){return ne(e,t),S},S.tick=function(e){n(((u=e)+(s-(a=a||u)))*fe.speed)},S.seek=function(e){n(h(e))},S.pause=function(){S.paused=!0,t()},S.play=function(){S.paused&&(S.completed&&S.reset(),S.paused=!1,se.push(S),t(),ue())},S.reverse=function(){d(),S.completed=!S.reversed,t()},S.restart=function(){S.reset(),S.play()},S.remove=function(e){he(G(e),S)},S.reset(),S.autoplay&&S.play(),S}function de(e,t){for(var n=t.length;n--;)T(e,t[n].animatable.target)&&t.splice(n,1)}function he(e,t){var n=t.animations,r=t.children;de(e,n);for(var i=r.length;i--;){var o=r[i],a=o.animations;de(e,a),a.length||o.children.length||r.splice(i,1)}n.length||r.length||t.pause()}fe.version="3.2.1",fe.speed=1,fe.suspendWhenDocumentHidden=!0,fe.running=se,fe.remove=function(e){for(var t=G(e),n=se.length;n--;){he(t,se[n])}},fe.get=U,fe.set=ne,fe.convertPx=L,fe.path=function(e,t){var n=S.str(e)?_(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:q(n),totalLength:Y(n)*(r/100)}}},fe.setDashoffset=function(e){var t=Y(e);return e.setAttribute("stroke-dasharray",t),t},fe.stagger=function(e,t){void 0===t&&(t={});var l=t.direction||"normal",c=t.easing?E(t.easing):null,f=t.grid,d=t.axis,h=t.from||0,p="first"===h,v="center"===h,m="last"===h,g=S.arr(e),y=g?parseFloat(e[0]):parseFloat(e),b=g?parseFloat(e[1]):0,w=M(g?e[1]:e)||0,_=t.start||0+(g?y:0),k=[],x=0;return function(e,t,n){if(p&&(h=0),v&&(h=(n-1)/2),m&&(h=n-1),!k.length){for(var r=0;r<n;r++){if(f){var i=v?(f[0]-1)/2:h%f[0],o=v?(f[1]-1)/2:Math.floor(h/f[0]),a=i-r%f[0],s=o-Math.floor(r/f[0]),u=Math.sqrt(a*a+s*s);"x"===d&&(u=-a),"y"===d&&(u=-s),k.push(u)}else k.push(Math.abs(h-r));x=Math.max.apply(Math,k)}c&&(k=k.map(function(e){return c(e/x)*x})),"reverse"===l&&(k=k.map(function(e){return d?e<0?-1*e:-e:Math.abs(x-e)}))}return _+(g?(b-y)/x:y)*(Math.round(100*k[t])/100)+w}},fe.timeline=function(c){void 0===c&&(c={});var f=fe(c);return f.duration=0,f.add=function(e,t){var n=se.indexOf(f),r=f.children;function i(e){e.passThrough=!0}-1<n&&se.splice(n,1);for(var o=0;o<r.length;o++)i(r[o]);var a=I(e,P(y,c));a.targets=a.targets||c.targets;var s=f.duration;a.autoplay=!1,a.direction=f.direction,a.timelineOffset=S.und(t)?s:H(t,s),i(f),f.seek(a.timelineOffset);var u=fe(a);i(u),r.push(u);var l=ie(r,c);return f.delay=l.delay,f.endDelay=l.endDelay,f.duration=l.duration,f.seek(0),f.reset(),f.autoplay&&f.play(),f},f},fe.easing=E,fe.penner=w,fe.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.default=fe},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(64);var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,i.default.ImpressionTag),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"onFeaturesLoad",value:function(){}}]),e}();i.default.ImpressionTagFt=c},function(e,t,n){"use strict";var r,u=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(9),n(10),n(11),n(15),n(16),n(14),n(3),n(12),n(13),n(65),n(66),n(19),n(67),n(2),n(17),n(5),n(18);var a=function(){function s(e,t){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.factory=new u.default.VendorClassFactory,this.params=t,this.params.iframeSrc&&u.default.Iframe.parse(this.params.iframeSrc,this.params),window.scJsUrl&&u.default.Iframe.parse(window.scJsUrl,this.params);var i=this.getCreative(e.creatives);this.creativeSettings=i,this.creativeId=this.params.activeCreativeId||Object.keys(e.creatives)[0],this.creativeImpressionTrackingOptions={},this.canvasMode="true"===this.params.canvas,this.dynamicItems=e.dynamicItems||{},this.forceMraidOff=!e.channels.mraid;var o=null===(n=i.channels.tracking)||void 0===n?void 0:n.coreIid,a=o&&"${iid}"!==o?o:u.default.Utils.generateIID();this.iid=a,this.size=i.size,this.processors=i.processors||{},u.default.Console.debug("Impression Tag %s initializing with %o rotated to %o",this.iid,e,i),this.writer=new u.default.Writer(this),this._initChannels(e),u.default.Browser.isMobile()&&!this.forceMraidOff&&this.sendChannelMessage("mraid",{fn:"loadMraid"}),this.sendDebugMessage({description:"tag_init",type:"start"}),this._initTags(i.tags),this.tracker&&u.default.Console.group(this.tracker.inspect()),u.default.Console.log("Ad Tag: %O",this),u.default.Console.log("Ad Server Parameters: %O",this.params),u.default.Console.groupEnd(),(null===(r=this.params.targeting)||void 0===r?void 0:r.ysa)&&(this.creativeImpressionTrackingOptions.ysa=this.params.targeting.ysa),this.sendChannelMessage("hooks",{description:"before_ad_load_hook",type:"beforeAdLoad"})}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(s,[{key:"_initChannels",value:function(n){var e,t,i=this;u.default.Utils.extend((null===(e=this.creativeSettings.channels)||void 0===e?void 0:e.loading)||{},(null===(t=this.creativeSettings.macroSettings)||void 0===t?void 0:t.loading)||{}),Object.keys(n.channels).forEach(function(e){var t=n.channels[e];"object"===o(t)&&(i.creativeSettings.channels[e]=i.creativeSettings.channels[e]||{},u.default.Utils.extend(i.creativeSettings.channels[e],t))}),Object.keys(this.creativeSettings.channels).forEach(function(e){var t,n,r=i.creativeSettings.channels[e];(null===(t=i.params)||void 0===t?void 0:null===(n=t.channels)||void 0===n?void 0:n[e])&&u.default.Utils.extend(r,i.params.channels[e])}),u.default.Broker.registerChannels(this.iid,this.creativeSettings.channels,this)}},{key:"_initTags",value:function(t){var r=this;this._chooseStudioTagType(t),Object.keys(t).forEach(function(e){var n=t[e];switch(u.default.Console.debug("Initializing Tag: %s tag with %o",e,n),e){case"backup":n.clickTags=r.clickTags,n.tracker=r.factory("Tracker",r,n),n.macros={},Object.keys(r.params).forEach(function(e){var t=r.params[e];n.macros[e]=t}),r.backupTag=r.factory("BackupTag",r,n);break;case"studioIframe":r.studioTag=r.factory("StudioIframeTag",r,n,r.params);break;case"studioScript":r.studioTag=r.factory("StudioScriptTag",r,n,r.params);break;case"vpaid":r.vpaid=!0,r.studioTag=r.factory("VPAIDTag",r,n,r.params)}})}},{key:"_chooseStudioTagType",value:function(e){e.studioScript&&(e.studioScript.expansionRequired||this.useSafeFrames())&&delete e.studioIframe,e.studioIframe&&delete e.studioScript}},{key:"render",value:function(){function e(){var e,t,n,r=document.body?o._html():'<html><body style="margin: 0; padding: 0;">'.concat(o._html(),"</body></html>");if(o.studioTag&&o.studioTag.size&&(o.topDimensions={width:null===(t=o.studioTag.size)||void 0===t?void 0:t.width,height:null===(n=o.studioTag.size)||void 0===n?void 0:n.height}),null===(e=o.studioTag)||void 0===e||!e.iframeBusted){var i;if(o.writer.writeHtml(r),o._addLoadListeners(),!o.hasBackup)null===(i=o.studioTag)||void 0===i||i.delegateEvents();return o.studioTag&&!o.hasBackup&&o.sendChannelMessage("loading",{action:"renderPreloader"}),o.writer.closeWrite()}}var o=this;return this.vpaid&&!this.canvasMode?o.studioTag.interface.subscribe(function(){var e;return o.studioTag.setDimensions(),((null===(e=o.studioTag.interface)||void 0===e?void 0:e._slot)||document.body).insertAdjacentHTML("beforeend",o._html()),o.studioTag.onLoad()},"initAd",o):window.mraid&&window.mraid.addEventListener&&!this.forceMraidOff?this.sendChannelMessage("mraid",{fn:"setup"},e):e()}},{key:"_html",value:function(){var e,t,n,r,i,o,a,s,u,l;if(this.creativeImpressionTrackingOptions.creativeOptions=this.creativeImpressionTrackingOptions.creativeOptions||{},!(null===(e=this.panelTag)||void 0===e?void 0:e.director)||this.panelTag.director.allowedAccessToTop())for(var c=[this.flashTag,this.studioTag,this.backupTag],f=0;f<c.length;f+=1){var d=c[f];if(null==d?void 0:d.checkEnvironment(this.creativeImpressionTrackingOptions.creativeOptions)){l=d;break}}else l=this.backupTag;this.hasBackup=l===this.backupTag;var h=(null===(t=l)||void 0===t?void 0:null===(n=t.size)||void 0===n?void 0:n.width)||this.size.width,p=(null===(r=l)||void 0===r?void 0:null===(i=r.size)||void 0===i?void 0:i.height)||this.size.height,v=(null===(o=this.creativeSettings.channels)||void 0===o?void 0:null===(a=o.setup)||void 0===a?void 0:null===(s=a.formatSettings)||void 0===s?void 0:s.flexible)?"max-width: ".concat(h,"px; max-height: ").concat(p,"px;"):"display: inline-block; *display: inline; width: ".concat(h,"px; height: ").concat(p,"px;"),m='\n      <div id="spongecell-ad-'.concat(this.iid,'"\n           class="spongecell-ad"\n           style="').concat(v,'opacity: 1; filter: alpha(opacity=100);">\n        ').concat(null===(u=l)||void 0===u?void 0:u.html(),"\n      </div>\n      <script>if(window.mraid) document.body.style.margin=0</scr\n    ");return m+="ipt>"}},{key:"random",value:function(){return Math.floor(1e9*Math.random())}},{key:"getCreative",value:function(e){return this.params.activeCreativeId?e[this.params.activeCreativeId]:e[Object.keys(e)[0]]}},{key:"_addLoadListeners",value:function(){var e=this;u.default.Event.onLoad(function(){e.panelTag&&e.sendChannelMessage("panel",{description:"start_auto_expand_timer",action:"autoExpand"}),e.sendChannelMessage("hooks",{description:"after_page_load_hook",type:"afterPageLoad"})})}},{key:"sendDebugMessage",value:function(e){this.sendChannelMessage("debug",e)}},{key:"sendChannelMessage",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:null;u.default.Broker&&(t.iid=t.iid||this.iid,t.topic=t.topic||e,u.default.Broker.sendOnChannel(t,r))}},{key:"useSafeFrames",value:function(){var e;return!!(null===(e=window.$sf)||void 0===e?void 0:e.ext)}},{key:"_initAd",value:function(e){this.ad=e}},{key:"getAd",value:function(){return this.ad}}]),s}();u.default.ImpressionTag=a},function(e,t,n){(function(e){var t,_,k,x;function n(){}t="undefined"!=typeof window&&null!==window?window:e,(_=null!=t.spongecell?t.spongecell:t.spongecell={}).Iframe=(k="&",n.parse=function(e,t){var n,r,i,o,a,s,u,l,c,f,d,h,p,v,m,g,y,b,w;if(null==e&&(e=""),null==t&&(t={}),0<=e.indexOf(";$;")&&(k=";$;"),-1!==e.indexOf("?"))for(a in e=e.replace(/.+?\?/,""),x(e,t),(s=null!=(u=null!=(l=(o=_.Net.getParams(e,k)).placementId)?l:o.external_placement_id)?u:"")&&0<s.length&&(t.placementId=s),(g=null!=(c=null!=(f=o.siteId)?f:o.external_site_id)?c:"")&&0<g.length&&(t.siteId=g),(y=null!=(d=o.targeting)?d:"")&&0<y.length&&(t.targeting=y),(m=null!=(h=o.signalData)?h:"")&&0<m.length&&(t.targeting={ysa:m}),(r=null!=(p=o.adTagId)?p:"")&&0<r.length&&(t.adTagId=r),(n=null!=(v=o.activeCreativeId)?v:"")&&0<n.length&&(t.activeCreativeId=n),(null!=(b=o.trackingEnabled)?b.length:void 0)&&(null==t.channels&&(t.channels={}),null==(i=t.channels).tracking&&(i.tracking={}),t.channels.tracking.trackingEnabled="true"===b),o)w=o[a],t[a]=w;return t},x=function(e,t){var n,r,i,o,a,s;if(a=new RegExp("clickTag.?.?.?.?.?=([^("+k+")#]*)","g"),null!=(o=e.match(a))){for(n=0,s=[];n<o.length;)0<(r=(i=o[n].replace(k,"")).indexOf("="))&&(t[i.slice(0,r)]=i.slice(r+1)),s.push(++n);return s}},n)}).call(this,n(1))},function(e,t,n){(function(e){var t,p,v,n;function r(){this.dynodeObjects={},this.dynamicValues={},this.values={},this.rawKeyValues={},this.thirdPartyMacroValues={},this.defaultDynamicValues={},this.defaultDynamicValues[this.internalMacro("sv.id")]="fallback",this.defaultDynamicValues[this.internalMacro("sv.name")]="fallback",this.defaultDynamicValues[this.internalMacro("targeting.audience.adobe")]=""}t="undefined"!=typeof window&&null!==window?window:e,(p=null!=t.spongecell?t.spongecell:t.spongecell={}).Macros=(r.THIRD_PARTY_PIXEL_NAMES=["impression","dynode","engagement","completion","expansion","clickThrough","landingPages","start","firstQuartile","midpoint","thirdQuartile","complete"],v=["puid","xaid","xcid","xcrv","xauc","click.url","target_group.id","target_group.name"],n=null,r.get=function(){return n=n||new p.Macros},r.prototype.dynodeResponse=function(t,e){var n,r,i,o,a,s,u,l,c,f,d,h,p,v,m,g,y,b,w,_,k,x,S;if(n={},b=[],w=[],k=[],x=[],t.signals){for(r=0,c=(h=t.signals).length;r<c;r++)if(y=h[r],b.push(y.id),w.push(y.name),y.signalValues){for(s=0,f=(p=y.signalValues).length;s<f;s++)_=p[s],k.push(_.id);for(u=0,d=(v=y.signalValues).length;u<d;u++)_=v[u],x.push(_.value)}0<b.length&&(n[this.internalMacro("signal.id")]=b),0<w.length&&(n[this.internalMacro("signal.name")]=w),0<k.length&&(n[this.internalMacro("sv.id")]=k),0<x.length&&(n[this.internalMacro("sv.name")]=x)}if(o=[],a=[],t.items&&0<t.items.length){for(l in i=t.items[0],o.push(i.id),i)if(null!=(S=i[l])?S.text:void 0){a.push(S.text);break}n[this.internalMacro("item.id")]=o,n[this.internalMacro("item.name")]=a,n[this.internalMacro("content_set_id;item_id")]=o.map(function(e){return t.processor.processor.id+";"+e})}return this.addDynodeObject(null!=(m=t.processor)&&null!=(g=m.processor)?g.id:void 0,n)},r.prototype.addDynodeObject=function(e,t){var n,r,i;for(n in r=[],this.dynodeObjects[e]=t)(i=t[n])instanceof Array?this.dynamicValues[n]?r.push(this.dynamicValues[n]=this.dynamicValues[n].concat(i)):r.push(this.dynamicValues[n]=i):r.push(void 0);return r},r.prototype.init=function(e,t){var n,r,i,o,a,s,u,l,c,f,d,h;for(this.addInternalMacro("placement.id",null!=(u=e.placement)?u.id:void 0),this.addInternalMacro("placement.name",null!=(l=e.placement)?l.name:void 0),this.addInternalMacro("weight",null!=(c=e.weight)?c.value:void 0),this.addInternalMacro("site.name",null!=(f=e.site)?f.id:void 0),n=0,i=v.length;n<i;n++)e[o=v[n]]?this.addInternalMacro(o,e[o]):this.addInternalMacro(o,"");for(r in s=new RegExp("^([A-Za-z]+)[0-9]+$"),d=[],t)h=t[r],(a=r.match(s))&&-1<p.Macros.THIRD_PARTY_PIXEL_NAMES.indexOf(a[1])?d.push(this.thirdPartyMacroValues[this.thirdPartyMacro(r)]=h):d.push(void 0);return d},r.prototype.replace=function(e,t){return e=this.replaceValues(e,this.values),e=this.replaceValues(e,this.thirdPartyMacroValues),e=(null!=t?t.sp_id:void 0)?this.replaceValues(e,this.dynodeObjects[t.sp_id]):this.replaceValues(e,this.dynamicValues),e=(e=(e=(e=(e=this.replaceValues(e,this.defaultDynamicValues)).replace(/\[clickTag.*?\]/g,"")).replace(/\[rand\]/g,Math.floor(1e10*Math.random()))).replace(/\[timestamp\]/g,(new Date).getTime().toString())).replace(/\$\{.*?\}/g,"")},r.prototype.replaceValues=function(e,t){var n,r;for(n in t)r=t[n],e=e.replace(RegExp(n,"g"),this.macroToValue(r));return e},r.prototype.macroToValue=function(e){return e instanceof Array?e.map(function(e){return p.Macros.encodeURIComponentLimited(e)}).join(","):p.Macros.encodeURIComponentLimited(e)},r.prototype.addInternalMacro=function(e,t){return this.values[this.internalMacro(e)]=t,this.rawKeyValues[e]=t},r.prototype.internalMacro=function(e){return"\\$\\{"+e+"\\}"},r.prototype.thirdPartyMacro=function(e){return"%"+e+"%"},r.prototype.setClickUrl=function(e){return this.addInternalMacro("click.url",e)},r.prototype.getAllMacros=function(){return this.rawKeyValues},r.encodeURIComponentLimited=function(e){return encodeURIComponent(e).replace(/%3B/g,";")},r)}).call(this,n(1))},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.default.Writer=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.impTag=e,this.rootElement=this._getRootElement(),this.documentWrited=0}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,[{key:"_getRootElement",value:function(){try{return this.impTag.params.currentScript||document.getElementById("spongecell-root")||window.parent.document.getElementById("spongecell-root")}catch(e){return null}}},{key:"writeHtml",value:function(e,t){null!=t?t.innerHTML+=e:null!=this.rootElement?this.rootElement.insertAdjacentHTML("afterEnd",e):(i.default.Console.log("Unwanted document.write call: %o",e),this.documentWrited+=1,document.write(e))}},{key:"writeElement",value:function(e,t){if(null!=t)t.appendChild(e);else if(null!=this.rootElement)this.rootElement.parentNode.insertBefore(e,this.rootElement.nextSibling);else{var n;null===(n=document.body)||void 0===n||n.appendChild(e)}}},{key:"writeScript",value:function(e,t){var n=document.createElement("script");n.text=e,t.appendChild(n)}},{key:"writeStyle",value:function(e){var t,n=document.createElement("style");n.innerHTML=e,null===(t=document.head)||void 0===t||t.appendChild(n)}},{key:"writePixel",value:function(e,t){var n=document.createElement("div");n.setAttribute("style","position:absolute;left:0px;top:0px;visibility:hidden;");var r=document.createElement("img");r.setAttribute("width",0),r.setAttribute("height",0),r.setAttribute("style","width:0px;height:0px;"),r.setAttribute("src",e),n.appendChild(r),this.writeElement(n,t)}},{key:"writePixels",value:function(e,t){var i,o=this,a=1<arguments.length&&void 0!==t?t:null;if(e&&e.match(/<script/i)){var s=/<script.*?src=["|'](.*?)["|']/i,n=e.match(/<script.*?src=["|'](.*?)["|']/gi);i=[],(n||[]).forEach(function(e){var t,n=null===(t=e.match(s))||void 0===t?void 0:t[1];if(n){i.push(n);var r=document.createElement("script");r.src=n,o.writeElement(r,a)}})}var r=document.createElement("div");if(r.setAttribute("style","position:absolute;left:0px;top:0px;visibility:hidden;"),r.innerHTML=e,this.writeElement(r,a),i)return i}},{key:"closeWrite",value:function(){0!==this.documentWrited&&(document.close(),this.documentWrited=0)}}]),t}()},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(19);var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,i.default.Tracker),e}();i.default.TrackerFt=l},function(e,t,o){(function(e){var t,n,i={}.hasOwnProperty;function r(){return r.__super__.constructor.apply(this,arguments)}o(2),(n=null!=(t="undefined"!=typeof window&&null!==window?window:e).spongecell?t.spongecell:t.spongecell={}).ExternalPageChannel=(function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,n.BaseChannel),r.prototype._init=function(){},r.prototype.send=function(e){var t,n;return n=window,"dynamicItems"===e.action?t={topic:"ExternalPage:Items",dynamicItems:e.data}:"previewComplete"===e.action?t={topic:"ExternalPage:PreviewComplete",data:"previewComplete",creativeId:parseInt(e.params,10)}:"previewStarted"===e.action?t={topic:"ExternalPage:previewStarted",data:"previewStarted",creativeId:parseInt(e.params,10)}:"adShown"===e.action&&(t={topic:"ExternalPage:AdShown"}),n.parent.postMessage(JSON.stringify(t),"*")},r)}).call(this,o(1))},function(e,t,r){(function(e){var t,p,i={}.hasOwnProperty;function n(){return n.__super__.constructor.apply(this,arguments)}r(2),t="undefined"!=typeof window&&null!==window?window:e,(p=null!=t.spongecell?t.spongecell:t.spongecell={}).MRAIDChannel=(function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,p.BaseChannel),n.prototype.init=function(){return this.resizeListener=!1},n.prototype.send=function(e,t){var n,r,i,o,a,s,u,l,c,f,d,h;switch(h=this,d=function(){if(!h.resizeListener)return h.resizeListener=!0,mraid.addEventListener("stateChange",function(e){if("default"===e)return h.closeCallback()})},e.fn){case"setup":return o=function(){return mraid.isViewable()?(t(),mraid.removeEventListener("ready",o)):mraid.addEventListener("viewableChange",function(e){if(e)return t(),mraid.removeEventListener("viewableChange",arguments.callee)})},mraid&&"loading"===mraid.getState()?mraid.addEventListener("ready",o):t();case"resize":return this.resize=!0,this.closeCallback=null!=(a=e.params)?a.closeCallback:void 0,"undefined"!=typeof mraid&&null!==mraid&&mraid.resize(),d();case"expand":return this.resize=!0,this.closeCallback=null!=(s=e.params)?s.closeCallback:void 0,"undefined"!=typeof mraid&&null!==mraid&&mraid.expand(),d();case"openLink":return"undefined"!=typeof mraid&&null!==mraid?mraid.open(e.params):void 0;case"checkVideoSupport":return n="undefined"!=typeof mraid&&null!==mraid?mraid.supports("inlineVideo"):void 0,t(n);case"playVideo":return"undefined"!=typeof mraid&&null!==mraid?mraid.playVideo(e.params):void 0;case"setResizeProperties":return i="undefined"!=typeof mraid&&null!==mraid&&"function"==typeof mraid.getCurrentPosition?mraid.getCurrentPosition():void 0,e.params.offsetY||(e.params.offsetY=(null!=i?i.y:void 0)>e.params.height-e.params.baseHeight?e.params.height-e.params.baseHeight:0),delete e.params.baseHeight,delete e.params.baseWidth,"undefined"!=typeof mraid&&null!==mraid?mraid.setResizeProperties(e.params):void 0;case"setExpandProperties":return"undefined"!=typeof mraid&&null!==mraid?mraid.setExpandProperties({width:null!=(u=e.params.width)?u:screen.width,height:null!=(l=e.params.height)?l:screen.height}):void 0;case"close":return("default"!==("undefined"!=typeof mraid&&null!==mraid?mraid.getState():void 0)||!this.resize)&&("undefined"!=typeof mraid&&null!==mraid?mraid.close():void 0);case"useCustomClose":return"undefined"!=typeof mraid&&null!==mraid?mraid.useCustomClose(null==(c=e.params)||c):void 0;case"loadMraid":return(r=document.createElement("script")).setAttribute("type","text/javascript"),r.setAttribute("src","mraid.js"),r.onerror=function(){return console.error("MRAID not found, serving Mobile Web")},r.onload=function(){return console.log("MRAID found, serving Mobile In-App")},document.head.appendChild(r);default:return null!=(f=p.Console)?f.log("mraid request: Unknown Function: "+e.fn):void 0}},n)}).call(this,r(1))},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(2),n(72);var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,i.default.SetupChannel),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"_init",value:function(){this.options.live&&(this.options.topBaseUrl=window.location.href.replace(/(.*)\/.*?$/,"$1/"),this.options.studioAssetBaseUrl="".concat(this.options.topBaseUrl,"assets")),u(l(e.prototype),"_init",this).call(this)}}]),e}();i.default.SetupChannelFt=f},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(2);var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,u(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,i.default.BaseChannel),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"_init",value:function(){var e;this.checkFullScreenAccess(),i.default.Utils.extend(this.options,null===(e=this.impTag.creativeSettings)||void 0===e?void 0:e.macroSettings),i.default.Utils.convertUrls(this.options,["creativeSwfUrl","sharedBaseUrl","studioAssetBaseUrl"]),i.default.Utils.convertUrls(this.options.urls),this.options.assets&&this.baseAssets()}},{key:"start",value:function(){var e,t;this.impTag.clickTags=this.findClickTags(this.impTag.params),this.options.iid=this.iid,this.options.flashData=(null===(e=this.impTag.params)||void 0===e?void 0:e.flashData)||{},(null===(t=this.options.features)||void 0===t?void 0:t.length)||(this.options.features=null),this.options.internalMacros=i.default.Macros.get().getAllMacros()}},{key:"send",value:function(e,t){var n=this;if(e.action){if("polite"===e.action){this.impTag.sendDebugMessage({description:"tag_polite",type:"start"});var r=function(){t(),n.impTag.sendDebugMessage({description:"tag_polite",type:"stop"})};!!document&&"complete"===document.readyState?r():i.default.Event.onLoad(r)}}else this.sendOnDefaultAction(),i.default.Engagement.removeWrappers(),"undefined"==typeof mraid||null===mraid||this.impTag.forceMraidOff||(this.options.mraid=mraid),this.options.topDimensions=this.impTag.topDimensions,t(this.options)}},{key:"sendOnDefaultAction",value:function(){}},{key:"baseAssets",value:function(){var r=this;Object.keys(this.options.assets).forEach(function(e){var t,n=r.options.assets[e];n.url="".concat(r.options.studioAssetBaseUrl).concat(n.path),null===(t=n.children)||void 0===t||t.forEach(function(e){e.url="".concat(r.options.studioAssetBaseUrl).concat(e.path)})})}},{key:"checkFullScreenAccess",value:function(){if(window!==window.top)try{var e=window.frameElement,t=window;if(!e)return void(this.options.disableFullScreen=!0);for(;e&&t&&t!==window.top;)e.setAttribute("allowfullscreen","true"),e.setAttribute("webkitallowfullscreen","true"),e.setAttribute("mozallowfullscreen","true"),t=t.parent}catch(e){i.default.Console.log("Iframe not configured for full-screen video"),this.options.disableFullScreen=!0}}}]),e}();i.default.SetupChannel=c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(0),n(2);var u=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(e,spongecell.BaseChannel),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"_init",value:function(){}},{key:"start",value:function(){}},{key:"send",value:function(e){return this[e.action]()}},{key:"styleTag",value:function(e){var t=e.preloaderType,n=e.bgColor,r=e.fgColor,i=document.createElement("style"),o="\n      #preloader-container {\n        background: ".concat(n,";\n        margin: auto;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 1;\n      }\n      .centered-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        -webkit-transform: translate(-50%, -50%);\n        -ms-transform: translate(-50%, -50%);\n        transform: translate(-50%, -50%);\n      }");switch(t){case"circle":o+=this.circleCss(r);break;case"bars":o+=this.barsCss(r);break;case"dots":o+=this.dotsCss(r)}return i.innerHTML=o,i}},{key:"preloaderContainer",value:function(e){var t=document.createElement("div");t.id="preloader-container";var n=document.createElement("div");switch(n.className="centered-container",e){case"circle":n.innerHTML=this.circleHtml();break;case"bars":n.innerHTML=this.barsHtml();break;case"dots":n.innerHTML=this.dotsHtml()}return t.appendChild(n),t}},{key:"removeLoader",value:function(){var e=document.getElementById("preloader-container");null==e||e.parentNode.removeChild(e)}},{key:"renderPreloader",value:function(){if("none"!==this.options.animation.type&&document.body&&window!==window.top){var e=this.options.animation,t=e.fgColor,n=e.bgColor,r=e.type;return document.head.appendChild(this.styleTag({preloaderType:r,width:this.impTag.size.width,height:this.impTag.size.height,bgColor:n,fgColor:t})),document.body.appendChild(this.preloaderContainer(r))}}},{key:"circleHtml",value:function(){return'<div class="sp sp-circle"></div>'}},{key:"barsHtml",value:function(){return'\n      <div class="spinner">\n        <div class="rect1"></div>\n        <div class="rect2"></div>\n        <div class="rect3"></div>\n        <div class="rect4"></div>\n        <div class="rect5"></div>\n      </div>'}},{key:"dotsHtml",value:function(){return'\n      <div class="sk-circle">\n        <div class="sk-circle1 sk-child"></div>\n        <div class="sk-circle2 sk-child"></div>\n        <div class="sk-circle3 sk-child"></div>\n        <div class="sk-circle4 sk-child"></div>\n        <div class="sk-circle5 sk-child"></div>\n        <div class="sk-circle6 sk-child"></div>\n        <div class="sk-circle7 sk-child"></div>\n        <div class="sk-circle8 sk-child"></div>\n        <div class="sk-circle9 sk-child"></div>\n        <div class="sk-circle10 sk-child"></div>\n        <div class="sk-circle11 sk-child"></div>\n        <div class="sk-circle12 sk-child"></div>\n      </div>'}},{key:"dotsCss",value:function(e){return"\n      .sk-circle {\n        margin: 100px auto;\n        width: 40px;\n        height: 40px;\n        position: relative;\n      }\n      .sk-circle .sk-child {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        left: 0;\n        top: 0;\n      }\n      .sk-circle .sk-child:before {\n        content: '';\n        display: block;\n        margin: 0 auto;\n        width: 15%;\n        height: 15%;\n        background-color: ".concat(e,";\n        border-radius: 100%;\n        -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n                animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n      }\n      .sk-circle .sk-circle2 {\n        -webkit-transform: rotate(30deg);\n            -ms-transform: rotate(30deg);\n                transform: rotate(30deg); }\n      .sk-circle .sk-circle3 {\n        -webkit-transform: rotate(60deg);\n            -ms-transform: rotate(60deg);\n                transform: rotate(60deg); }\n      .sk-circle .sk-circle4 {\n        -webkit-transform: rotate(90deg);\n            -ms-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .sk-circle .sk-circle5 {\n        -webkit-transform: rotate(120deg);\n            -ms-transform: rotate(120deg);\n                transform: rotate(120deg); }\n      .sk-circle .sk-circle6 {\n        -webkit-transform: rotate(150deg);\n            -ms-transform: rotate(150deg);\n                transform: rotate(150deg); }\n      .sk-circle .sk-circle7 {\n        -webkit-transform: rotate(180deg);\n            -ms-transform: rotate(180deg);\n                transform: rotate(180deg); }\n      .sk-circle .sk-circle8 {\n        -webkit-transform: rotate(210deg);\n            -ms-transform: rotate(210deg);\n                transform: rotate(210deg); }\n      .sk-circle .sk-circle9 {\n        -webkit-transform: rotate(240deg);\n            -ms-transform: rotate(240deg);\n                transform: rotate(240deg); }\n      .sk-circle .sk-circle10 {\n        -webkit-transform: rotate(270deg);\n            -ms-transform: rotate(270deg);\n                transform: rotate(270deg); }\n      .sk-circle .sk-circle11 {\n        -webkit-transform: rotate(300deg);\n            -ms-transform: rotate(300deg);\n                transform: rotate(300deg); }\n      .sk-circle .sk-circle12 {\n        -webkit-transform: rotate(330deg);\n            -ms-transform: rotate(330deg);\n                transform: rotate(330deg); }\n      .sk-circle .sk-circle2:before {\n        -webkit-animation-delay: -1.1s;\n                animation-delay: -1.1s; }\n      .sk-circle .sk-circle3:before {\n        -webkit-animation-delay: -1s;\n                animation-delay: -1s; }\n      .sk-circle .sk-circle4:before {\n        -webkit-animation-delay: -0.9s;\n                animation-delay: -0.9s; }\n      .sk-circle .sk-circle5:before {\n        -webkit-animation-delay: -0.8s;\n                animation-delay: -0.8s; }\n      .sk-circle .sk-circle6:before {\n        -webkit-animation-delay: -0.7s;\n                animation-delay: -0.7s; }\n      .sk-circle .sk-circle7:before {\n        -webkit-animation-delay: -0.6s;\n                animation-delay: -0.6s; }\n      .sk-circle .sk-circle8:before {\n        -webkit-animation-delay: -0.5s;\n                animation-delay: -0.5s; }\n      .sk-circle .sk-circle9:before {\n        -webkit-animation-delay: -0.4s;\n                animation-delay: -0.4s; }\n      .sk-circle .sk-circle10:before {\n        -webkit-animation-delay: -0.3s;\n                animation-delay: -0.3s; }\n      .sk-circle .sk-circle11:before {\n        -webkit-animation-delay: -0.2s;\n                animation-delay: -0.2s; }\n      .sk-circle .sk-circle12:before {\n        -webkit-animation-delay: -0.1s;\n                animation-delay: -0.1s; }\n      \n      @-webkit-keyframes sk-circleBounceDelay {\n        0%, 80%, 100% {\n          -webkit-transform: scale(0);\n                  transform: scale(0);\n        } 40% {\n          -webkit-transform: scale(1);\n                  transform: scale(1);\n        }\n      }\n      \n      @keyframes sk-circleBounceDelay {\n        0%, 80%, 100% {\n          -webkit-transform: scale(0);\n                  transform: scale(0);\n        } 40% {\n          -webkit-transform: scale(1);\n                  transform: scale(1);\n        }\n      }")}},{key:"barsCss",value:function(e){return"\n      .spinner {\n        margin: 100px auto;\n        width: 50px;\n        height: 70px;\n        text-align: center;\n        font-size: 10px;\n      }\n      \n      .spinner > div {\n        background-color: ".concat(e,";\n        height: 100%;\n        width: 6px;\n        display: inline-block;\n      \n        -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n        animation: sk-stretchdelay 1.2s infinite ease-in-out;\n      }\n      \n      .spinner .rect2 {\n        -webkit-animation-delay: -1.1s;\n        animation-delay: -1.1s;\n      }\n      \n      .spinner .rect3 {\n        -webkit-animation-delay: -1.0s;\n        animation-delay: -1.0s;\n      }\n      \n      .spinner .rect4 {\n        -webkit-animation-delay: -0.9s;\n        animation-delay: -0.9s;\n      }\n      \n      .spinner .rect5 {\n        -webkit-animation-delay: -0.8s;\n        animation-delay: -0.8s;\n      }\n      \n      @-webkit-keyframes sk-stretchdelay {\n        0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n        20% { -webkit-transform: scaleY(1.0) }\n      }\n      \n      @keyframes sk-stretchdelay {\n        0%, 40%, 100% {\n          transform: scaleY(0.4);\n          -webkit-transform: scaleY(0.4);\n        }  20% {\n          transform: scaleY(1.0);\n          -webkit-transform: scaleY(1.0);\n        }\n      }")}},{key:"circleCss",value:function(e){return"\n      .sp {\n        width: 32px;\n        height: 32px;\n        clear: both;\n        margin: 25% auto;\n      }\n      \n      /* Spinner Circle Rotation */\n      .sp-circle {\n        border: 5px rgba(0, 0, 0, 0.25) solid;\n        border-top: 5px ".concat(e," solid;\n        border-radius: 50%;\n        -webkit-animation: spCircRot .6s infinite linear;\n        animation: spCircRot .6s infinite linear;\n      }\n      \n      @-webkit-keyframes spCircRot {\n        from {\n          -webkit-transform: rotate(0deg);\n        }\n        to {\n          -webkit-transform: rotate(359deg);\n        }\n      }\n      @keyframes spCircRot {\n        from {\n          transform: rotate(0deg);\n        }\n        to {\n          transform: rotate(359deg);\n        }\n      }")}}]),e}();spongecell.LoadingChannel=u},function(e,t,r){(function(e){var t,f,i={}.hasOwnProperty;function n(){return n.__super__.constructor.apply(this,arguments)}r(5),t="undefined"!=typeof window&&null!==window?window:e,(f=null!=t.spongecell?t.spongecell:t.spongecell={}).BackupTag=(function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,f.CreativeTag),n.prototype._init=function(){return f.Utils.convertUrls(this,["imageUrl"])},n.prototype.checkEnvironment=function(e){return e.screen="DEFAULT",!0},n.prototype.html=function(){var e,t,n,r,i,o,a,s,u,l,c;if(t=(null!=(o=this.border)?o.thickness:void 0)?this.size.height-2*this.border.thickness:this.size.height-2,n=(null!=(a=this.border)?a.thickness:void 0)?this.size.width-2*this.border.thickness:this.size.width-2,e=(null!=(s=this.border)?s.thickness:void 0)?"border: "+this.border.thickness+"px solid "+this.border.color+";":"border: 1px solid #374047;",r='<img alt="" border="0" height="'+t+'" src="'+this.imageUrl+'" width="'+n+'" style="'+e+'" />',null==this.linkUrl)return r;for(i in l=(l=(l=(l=(l=(l=this.linkUrl).replace(/\*\*click_tag\*\*/g,encodeURIComponent(this.clickTags.clickTag))).replace(/\*\*iid\*\*/g,this.tracker.iid)).replace(/\*\*random\*\*/g,f.Utils.random())).replace(/\*\*placement_id\*\*/g,this.tracker.placement.id?f.Net.encode(this.tracker.placement.id):"")).replace(/\*\*site_id\*\*/g,this.tracker.site.id?f.Net.encode(this.tracker.site.id):""),this.html5&&f.Utils.isUrl(this.clickTags.clickTag)&&(l=this.clickTags.clickTag+l),u=this.macros)c=u[i],l=l.replace("%"+i+"%",c);return'<a href="'+l+'" target="_blank" id="backup_link">'+r+"</a>"},n.prototype.addClickthroughListener=function(){var e,t,n;if(n=this,t=function(){return n.clicked?(event.preventDefault(),event.stopPropagation()):n.tracker.trackExternalPixels("click_through",{}),n.clicked=!0,setTimeout(function(){return n.clicked=!1},400)},e=document.getElementById("backup_link"))return f.Event.on(e,"click",function(e){return t()})},n)}).call(this,r(1))},function(e,t,r){(function(e){var t,s,i={}.hasOwnProperty;function n(){return n.__super__.constructor.apply(this,arguments)}r(20),t="undefined"!=typeof window&&null!==window?window:e,(s=null!=t.spongecell?t.spongecell:t.spongecell={}).StudioScriptTag=(function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,s.StudioTag),n.prototype._init=function(){return s.Utils.convertUrls(this,["cssUrl","jsUrl"]),null==this.safeFrames&&(this.safeFrames="undefined"!=typeof $sf&&null!==$sf?$sf.ext:void 0),null==this.size&&(this.size={}),null!=this.size?this.size:this.size={}},n.prototype.checkEnvironment=function(e){var t,n;return this.checkBrowser()?!(this.expansionRequired&&!s.Expansion.allowedAccessToTop()&&!this.safeFrames)||(this.params.busterUrl||this.params.busterPath?(this.redirectToIframeBuster(),this.iframeBusted=!0):(null==e.creativeOptions&&(e.creativeOptions={}),null==(t=e.creativeOptions).noflash&&(t.noflash=!0),null==(n=e.creativeOptions).screen&&(n.screen="DEFAULT"),!1)):!(e.nohtml5=!0)},n.prototype.html=function(){return window.mraid&&this._setupMRAIDDimensions(),"<link rel='stylesheet' media='all' type='text/css' href='"+this.cssUrl+"' class='spongecell-style-"+this.iid+"' >"},n.prototype.delegateEvents=function(){var t,n,e,r,i,o,a;if((a=document.createElement("script")).type="text/javascript",a.src=this.jsUrl,n=document.getElementById("spongecell-ad-"+this.iid),t="0 0 0 "+(null!=(e=null!=(r=this.border)?r.thickness:void 0)?e:1)+"px "+(null!=(i=null!=(o=this.border)?o.color:void 0)?i:"transparent"),s.Expansion.inIframe()&&s.Expansion.allowedAccessToTop())try{window.frameElement.style.boxShadow=t}catch(e){n.style.boxShadow=t}else n.style.boxShadow=t;return"polite"===this.loading?s.Event.onLoad(function(){return n.appendChild(a)}):n.appendChild(a)},n.prototype.redirectToIframeBuster=function(){return this.params.busterDomain||this.params.busterUrl?this.params.busterUrl?this.redirect(this._getBusterUrl()+"?"+this.buildBusterQS()):this.redirect(location.protocol+"//"+this.params.busterDomain+"/"+this.params.busterPath+"?"+this.buildBusterQS()):s.Console.log("Iframe Buster Params not set")},n.prototype.redirect=function(e){if(!this.redirected)return s.Console.log("Iframe buster redirect: "+e),t.location.replace(e),this.redirected=!0},n.prototype.buildBusterQS=function(){var e,t,n,r;for(e in(t=[]).push("adTagId="+this.adTagId),delete this.params.busterUrl,delete this.params.busterDomain,delete this.params.busterPath,n=this.params)r=n[e],t.push(e+"="+r);return t.join("&")},n.prototype._getBusterUrl=function(){var e,t,n,r;if("*"!==this.params.busterUrl)return this.params.busterUrl;r=document.referrer;try{for(;window.parent&&window.parent!==top;)r=window.parent.document.referrer}catch(e){r=document.referrer}return e=this._getDomain(r),t=null!=(n=this.params.busterPath)?n:"spongecell/spongecell_iframebuster.html",window.location.protocol+"//"+e+"/"+t},n.prototype._getDomain=function(e){return(-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0]).split(":")[0]},n.prototype._sendMessage=function(e){var t;return s.Console.debug("Sending message to Studio Ad %s: %o",this.iid,e),t=JSON.stringify(e),window.postMessage(t,"*")},n)}).call(this,r(1))},function(e,t,n){"use strict";var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(77);var f=function(){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,l(n).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,i.default.StudioIframeTag),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(n,[{key:"getMessageWindow",value:function(){return window}},{key:"_getHtml",value:function(e){return'<div id="'.concat(this.getIframeId(),'"\n              style="').concat(e,' border: 0; margin: 0; overflow: hidden; padding: 0;"></div>')}},{key:"delegateEvents",value:function(){u(l(n.prototype),"delegateEvents",this).call(this);var e=this.impTag.creativeSettings.macroSettings.adRevisionScripts||"";this.impTag.writer.writeScript(e,this.getIframe());var t=this.impTag.creativeSettings.macroSettings.adRevisionStyles||"";this.impTag.writer.writeStyle(t)}}]),n}();i.default.StudioIframeTagFt=f},function(e,t,n){"use strict";var r,_=(r=n(0))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(20);var l=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,_.default.StudioTag),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"_init",value:function(){if(_.default.Utils.convertUrls(this,["backgroundImageUrl","iframeUrl","iframeBaseUrl"]),this.responsive=!this.size,_.default.Browser.isMobile()){var e,t,n,r,i,o=(null===(e=window)||void 0===e?void 0:e.innerWidth)<=1&&(null===(t=window)||void 0===t?void 0:t.innerHeight)<=1;try{_.default.Expansion.allowedAccessToTop()&&o&&!window.mraid?(n=window.top.window.innerWidth,r=window.top.window.innerHeight,window.frameElement&&(window.frameElement.style.width="".concat(n,"px"),window.frameElement.style.height="".concat(r,"px"))):(n=(i=this._getDimensionsFromWindow()).width,r=i.height)}catch(e){_.default.Console.log("Error setting dimensions of current frame: ",e),n=(i=this._getDimensionsFromWindow()).width,r=i.height}this.size=this.size||{width:n,height:r}}else this.size=this.size||{width:window.innerWidth,height:window.innerHeight}}},{key:"_getDimensionsFromWindow",value:function(){var e,t,n,r;return{width:(null===(e=window)||void 0===e?void 0:e.innerWidth)&&window.screen.width>(null===(t=window)||void 0===t?void 0:t.innerWidth)?window.innerWidth:window.screen.width,height:(null===(n=window)||void 0===n?void 0:n.innerHeight)&&window.screen.height>(null===(r=window)||void 0===r?void 0:r.innerHeight)?window.innerHeight:window.screen.height}}},{key:"html",value:function(){var e,t,n,r,i,o,a,s;this.responsive&&window.mraid&&this._setupMRAIDDimensions();var u=null===(e=this.impTag.creativeSettings)||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:null===(n=t.setup)||void 0===n?void 0:null===(r=n.formatSettings)||void 0===r?void 0:r.flexible,l="",c=this.size.width,f=this.size.height,d="\n      width: ".concat(u?"100%":"".concat(c,"px"),";\n      height: ").concat(u?"100%":"".concat(f,"px"),";\n    "),h="".concat(d," position: absolute; top: -1px; left: -1px;");this.backgroundImageUrl&&(l+='\n        <div style="'.concat(h,'">\n          <img src="').concat(this.backgroundImageUrl,'" width="').concat(c,'" height="').concat(f,'">\n        </div>\n      '));var p="".concat(this.getIframeId(),"-wrapper");l+="\n      ".concat(_.default.Engagement.wrapperHtml({id:p}),"\n      ").concat(this._getHtml(h),"\n    ");var v=null!==(null===(i=this.border)||void 0===i?void 0:i.thickness)?null===(o=this.border)||void 0===o?void 0:o.thickness:1,m=null!==(null===(a=this.border)||void 0===a?void 0:a.color)?null===(s=this.border)||void 0===s?void 0:s.color:"transparent",g=this.size.width,y=this.size.height,b=u?"":"width: ".concat(g,"px; height: ").concat(y,"px;"),w=u?"<div style='padding-top: ".concat(y/g*100,"%'></div>"):"";return'\n      <div style="'.concat(b,"\n                  border: ").concat(v,"px solid ").concat(m,';\n                  box-sizing: border-box;\n                  margin: 0;\n                  overflow: hidden;\n                  padding: 0;\n                  position: relative;">\n        ').concat(w,"\n        ").concat(l,"\n      </div>\n    ")}},{key:"delegateEvents",value:function(){var n=this;_.default.Event.addMessageListener(function(e,t){return n._receiveMessage(e,t)})}},{key:"getIframe",value:function(){return document.getElementById(this.getIframeId())}},{key:"getIframeId",value:function(){return"spongecell-studio-".concat(this.iid)}},{key:"getMessageWindow",value:function(){return this.getIframe().contentWindow}},{key:"_sendMessage",value:function(e){_.default.Console.debug("Sending message back to Studio Ad %s: %o",this.iid,e)}}]),e}();_.default.StudioIframeTag=l}]);